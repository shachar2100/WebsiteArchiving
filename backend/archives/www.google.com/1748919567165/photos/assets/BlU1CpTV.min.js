function l(i){const t=i.getAttribute("commandfor"),e=i.getAttribute("command"),n=document.getElementById(t);n&&n.dispatchEvent(new CustomEvent("bds-command",{bubbles:!0,cancelable:!0,composed:!0,detail:{source:i,command:e}}))}const c={OPEN:"open",CLOSE:"close"};class h extends HTMLElement{constructor(){super(...arguments),this.isOpen=!1}connectedCallback(){this.triggerEl=this.getSlotElement("accordion-item-trigger"),this.contentEl=this.getSlotElement("accordion-item-content"),this.open=this.hasAttribute("open"),this.updateVars(),this.triggerEl&&this.triggerEl.addEventListener("click",()=>this.toggle()),this.contentEl&&new ResizeObserver(()=>{this.updateVars()}).observe(this.contentEl),this.initClickDelegate()}initClickDelegate(){window.addEventListener("click",e=>{const s=e.target.closest("a[href]");if(!s?.href)return;const r=s.href,o=r.indexOf("#");if(o===-1)return;r.slice(o+1)===this.id&&(this.open=!0)});const t=window.location.hash;t.length>2&&window.setTimeout(()=>{t.slice(1)===this.id&&(this.open=!0)},500)}get open(){return this.isOpen}set open(t){const e=t?c.OPEN:c.CLOSE,n=new Event(e,{cancelable:!0});this.dispatchEvent(n),!n.defaultPrevented&&(this.isOpen=t,this.isOpen?(this.setAttribute("open",""),this.contentEl.inert=!1,this.triggerEl&&this.triggerEl.setAttribute("aria-expanded","true")):(this.removeAttribute("open"),this.contentEl.inert=!0,this.triggerEl&&this.triggerEl.setAttribute("aria-expanded","false")),l(this.triggerEl))}toggle(){this.open=!this.open}updateVars(){const t=this.contentEl?.offsetHeight||0;this.style.setProperty("--accordion-item-content-height",`${t}px`)}getSlotElement(t){return this.querySelector(`[data-slot="${t}"]`)}getSlotElements(t){return Array.from(this.querySelectorAll(`[data-slot="${t}"]`))}}customElements.get("mws-accordion-item")||customElements.define("mws-accordion-item",h);export{c as M};
