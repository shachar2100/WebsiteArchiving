import{a as f,i as h}from"../chunks/DysJOTmm.min.js";const d="_lastScrollPos";function w(){if(window.location.hash)return!1;if(window.location.hostname==="localhost")return!0;try{return window.self!==window.top}catch{return!0}}function m(){if(!w())return;const t=p();if(t){const e=document.documentElement;e.style.scrollBehavior="auto",window.scrollTo({top:t}),setTimeout(()=>{e.style.removeProperty("scroll-behavior")})}window.addEventListener("beforeunload",()=>{g()})}function p(){const t=sessionStorage.getItem(d);if(!t)return null;try{const e=JSON.parse(t);if(e&&e.pathname&&e.pathname===window.location.pathname)return e.y||0}catch(e){return console.error("failed to get last scroll pos:",e),null}}function g(){const t={pathname:window.location.pathname,y:window.scrollY};sessionStorage.setItem(d,JSON.stringify(t))}const c={INVIEW:"inview",INVIEW_ACTIVE:"inview:active"};function v(t){const e=Array.from(document.getElementsByClassName(c.INVIEW));if(e.length>0){const o=new IntersectionObserver(i=>{i.forEach(a=>{a.isIntersecting&&(o.unobserve(a.target),window.requestAnimationFrame(()=>{a.target.classList.add(c.INVIEW_ACTIVE)}))})},{threshold:.4});e.forEach(i=>{o.observe(i)})}}function l(){f()&&document.body.classList.add("is:android"),h()&&document.body.classList.add("is:ios"),window.requestIdleCallback?window.requestIdleCallback(u,{timeout:2e3}):window.setTimeout(u)}function u(){m(),E(),P(),I(),v()}function E(){const t=new URLSearchParams(window.location.search);if(t.get("preview")==="true"){const o=t.get("help")==="true";document.querySelectorAll("a[href]").forEach(r=>{const s=r.getAttribute("href")||"";if(s.startsWith("/")){const n=new URL(s,window.location.href);n.searchParams.set("preview","true"),o&&n.searchParams.set("help","true"),r.href=n.toString()}}),document.querySelectorAll("select#language-picker option").forEach(r=>{const s=r.value||"";if(s.startsWith("/")){const n=new URL(s,window.location.href);n.searchParams.set("preview","true"),o&&n.searchParams.set("help","true"),r.value=n.toString()}})}}function P(){document.querySelectorAll('mws-accordion-item [data-slot="accordion-item-content"] a').forEach(e=>{const o=e.getAttribute("href");o&&!o.startsWith("/")&&(e.target="_blank",e.rel="noopener noreferrer")})}function I(){document.querySelectorAll("#footnotes a").forEach(e=>{const o=e.getAttribute("href");o&&!o.startsWith("/")&&(e.target="_blank",e.rel="noopener noreferrer")})}document.readyState!=="loading"?l():document.addEventListener("DOMContentLoaded",l);
