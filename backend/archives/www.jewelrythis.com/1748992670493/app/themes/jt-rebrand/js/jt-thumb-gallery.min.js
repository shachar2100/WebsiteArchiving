jQuery(function(l){function n(t,i){this.$el=l(t),this.options=i,this.animating=!1,this.playTimer=null,this.pauseTimeout=null,this.current=this.$el.find("jt-tg-item.active").index(),this.current<0&&(this.current=0)}n.prototype.getOption=function(t,i){return this.options&&t in this.options?this.options[t]:i},n.prototype.updateIndicators=function(t){var i=this.$el.parent().find(".jt-tgi");i.length&&0<(i=i.find("span")).length&&t<i.length&&(i.removeClass("active"),l(i[t]).addClass("active"))},n.prototype.loadImage=function(t,i){var e=this,n=document.createElement("img");n.onload=function(){e.$el.removeClass("loading"),i&&i()},n.src=t,setTimeout(function(){n.complete||e.$el.addClass("loading")},30)},n.prototype.goTo=function(t,i){var e,n,a,s,o,r;this.animating||(s=(e=this.$el.find(".jt-tg-item")).length)<2||(t=0<=t?t%s:(s+t%s)%s,n=l(e[this.current]),s=(a=l(e[t])).find("img"),(o="animate"+(i&&i.animation||"Fade"))in this||(o="Fade"),this.animating=!0,s.length&&!s[0].complete?(r=this).loadImage(s[0].src,function(){r[o](n,a,i)}):this[o](n,a,i),this.current=t,this.updateIndicators(this.current))},n.prototype.next=function(t){this.goTo(this.current+1,t)},n.prototype.prev=function(t){this.goTo(this.current-1,t)},n.prototype.play=function(){var t;this.playTimer||((t=this).playTimer=setInterval(function(){t.pauseTimeout||t.next()},this.getOption("playInterval",2e3)))},n.prototype.stop=function(){this.playTimer&&(clearInterval(this.playTimer),this.playTimer=null)},n.prototype.pause=function(){var t;this.playTimer&&(this.pauseTimeout&&clearTimeout(this.pauseTimeout),(t=this).pauseTimeout=setTimeout(function(){t.pauseTimeout=null},this.getOption("pauseTimeout",1e4)))},n.prototype.animateFade=function(t,i,e){var n=this,a=this.getOption("duration",500);this.animating=!0,requestAnimationFrame(function(){t.css({opacity:1,transition:"opacity "+a+"ms","z-index":2}),i.css({display:"block","z-index":1}),requestAnimationFrame(function(){t.css({opacity:0}),setTimeout(function(){n.animating=!1,t.css({display:"none",transition:"",opacity:"","z-index":""}).removeClass("active"),i.css({"z-index":""},1).addClass("active"),e&&e.callback&&e.callback()},a)})})},n.prototype.animateSwipe=function(t,i,e){var n,a,s,o,r=this,l=this.getOption("duration",500),u=e&&e.dir||"left";this.animating=!0,o=n=(s="right"===u?(a="100%","-100%"):(a="-100%","100%"),"0%"),requestAnimationFrame(function(){t.css({transform:"translateX("+n+")","z-index":1}),i.css({display:"block",transform:"translateX("+s+")","z-index":2}),requestAnimationFrame(function(){t.css({transition:"transform "+l+"ms"}),i.css({transition:"transform "+l+"ms"}),requestAnimationFrame(function(){t.css({transform:"translateX("+a+")"}),i.css({transform:"translateX("+o+")"}),setTimeout(function(){r.animating=!1,t.css({display:"none",transition:"",transform:"","z-index":""}).removeClass("active"),i.css({transition:"",transform:"","z-index":""}).addClass("active"),e&&e.callback&&e.callback()},l)})})})};var t=l(document);function e(t){var i=l(t),e=i.data("JtThumbGallery");return e||(e=new n(t,i.data("options")),i.data("JtThumbGallery",e)),e}var a=null,s=0;t.on("swipeleft swiperight",".jt-thumb-gallery",function(t){t.preventDefault();var i=e(this);i.pause(),"swipeleft"===t.type?i.next({animation:"Swipe",dir:"left"}):i.prev({animation:"Swipe",dir:"right"}),a=this,s=(new Date).getTime()}),t.on("click",".jt-thumb-gallery",function(t){a===this&&(new Date).getTime()-s<500&&t.preventDefault(),a=null}),t.on("click",".jt-thumb-gallery.click-next",function(t){t.isDefaultPrevented()||(t.preventDefault(),(t=e(this)).pause(),t.next())}),t.on("mouseenter",".jt-thumb-gallery.hover-play",function(t){e(this).play()}),t.on("mouseleave",".jt-thumb-gallery.hover-play",function(t){e(this).stop()}),t.on("dragstart",".jt-thumb-gallery",function(t){t.preventDefault()}),t.on("selectstart",".jt-thumb-gallery",function(t){t.preventDefault()})});