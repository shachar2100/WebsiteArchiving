ga("require","ecommerce","ecommerce.js"),jQuery(".add_to_cart_button").on("click",function(){var e=jQuery(this);if("undefined"!=typeof dataLayer){var t=e.data("product_value");void 0===t&&(t="");try{dataLayer.push({event:"add_to_cart",product_value:t,product_sku:e.data("product_sku"),product_id:e.data("product_id")})}catch(e){dataLayer.push({event:"gtm.pageError","gtm.errorMessage":"dataLayer.push[add_to_cart] "+e+" - Script File: tivwp-wc.ga"})}}}),jQuery("body").on("updated_checkout",function(){jQuery("a.remove").on("click",function(){var e=jQuery(this);if("undefined"!=typeof ga)try{ga("send",{hitType:"event",eventCategory:"products",eventAction:"remove_from_cart",eventLabel:e.data("product_sku"),eventValue:e.data("product_id"),nonInteraction:1})}catch(e){dataLayer.push({event:"gtm.pageError","gtm.errorMessage":"ga[updated_checkout] "+e+" - Script File: tivwp-wc.ga"})}})}),jQuery(function(){if("#registered"==location.hash){jQuery(document).trigger("ga_user_registered");try{window.optimizely=window.optimizely||[],window.optimizely.push(["trackEvent","register"])}catch(e){dataLayer.push({event:"gtm.pageError","gtm.errorMessage":"optimizely push "+e+" - Script File: tivwp-wc.ga"})}window.optimizely=window.optimizely||[],window.optimizely.push(["trackEvent","register"]),location.hash=""}"#free-download"==location.hash&&(jQuery(document).trigger("ga_free_download"),location.hash="")}),jQuery(document).on("ga_user_registered",function(){location.hash;var e=jQuery("span.jt-display-name"),t=e.text(),e=e.data("id");if("undefined"!=typeof ga)try{ga("send",{hitType:"event",eventCategory:"users",eventAction:"registered_user",eventLabel:t,eventValue:e,nonInteraction:1})}catch(e){dataLayer.push({event:"gtm.pageError","gtm.errorMessage":"ga[registered_user] "+e+" - Script File: tivwp-wc.ga"})}}),jQuery(document).on("upload_product_complete",function(e,t){if("undefined"!=typeof ga&&null==window.location.search.match(/\bdummy\b/))try{ga("send",{hitType:"event",eventCategory:"upload",eventAction:"new_product",eventLabel:t,eventValue:t,nonInteraction:1})}catch(e){dataLayer.push({event:"gtm.pageError","gtm.errorMessage":"ga[new_product] "+e+" - Script File: tivwp-wc.ga"})}}),jQuery(document).on("ga_free_download",function(){var e,t,r=jQuery(".product-name").text(),a=/\[\d*-(\d*)\]/gi,a=(a&&(e=a.exec(r)[1]),/\[(\d*-\d*)\]/gi);if(a&&(t=a.exec(r)[1]),e&&t&&"undefined"!=typeof ga)try{ga("send",{hitType:"event",eventCategory:"download",eventAction:"free_product",eventLabel:t,eventValue:e,nonInteraction:1})}catch(e){dataLayer.push({event:"gtm.pageError","gtm.errorMessage":"ga[free_product] "+e+" - Script File: tivwp-wc.ga"})}});