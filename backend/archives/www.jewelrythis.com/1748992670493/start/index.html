<!DOCTYPE html><html lang="en-US"><head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Start your project Â» JewelryThis : Custom Jewelry</title>
	<script>var ajaxurl = "\/wp\/wp-admin\/admin-ajax.php"; </script>
<meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
	<style>img:is([sizes="auto" i], [sizes^="auto," i]) { contain-intrinsic-size: 3000px 1500px }</style>
	
	<!-- This site is optimized with the Yoast SEO Premium plugin v23.8 (Yoast SEO v25.1) - https://yoast.com/wordpress/plugins/seo/ -->
	<link rel="canonical" href="../start/">
	<meta property="og:locale" content="en_US">
	<meta property="og:type" content="article">
	<meta property="og:title" content="Start your project">
	<meta property="og:url" content="https://www.jewelrythis.com/start/">
	<meta property="og:site_name" content="JewelryThis">
	<meta property="article:publisher" content="https://www.facebook.com/jewelrythis">
	<meta property="article:modified_time" content="2020-10-29T07:33:10+00:00">
	<meta property="og:image" content="../app/uploads/2023/12/Jewelrythis-banner-1170x658.jpg">
	<meta property="og:image:width" content="1170">
	<meta property="og:image:height" content="658">
	<meta property="og:image:type" content="image/jpeg">
	<meta name="twitter:card" content="summary_large_image">
	<meta name="twitter:site" content="@jewelrythis">
	<script type="application/ld+json" class="yoast-schema-graph">{"@context":"https://schema.org","@graph":[{"@type":"WebPage","@id":"https://www.jewelrythis.com/start/","url":"https://www.jewelrythis.com/start/","name":"Start your project &#187; JewelryThis : Custom Jewelry","isPartOf":{"@id":"https://www.jewelrythis.com/#website"},"datePublished":"2020-09-25T10:56:35+00:00","dateModified":"2020-10-29T07:33:10+00:00","breadcrumb":{"@id":"https://www.jewelrythis.com/start/#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://www.jewelrythis.com/start/"]}]},{"@type":"BreadcrumbList","@id":"https://www.jewelrythis.com/start/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://www.jewelrythis.com/"},{"@type":"ListItem","position":2,"name":"Start your project"}]},{"@type":"WebSite","@id":"https://www.jewelrythis.com/#website","url":"https://www.jewelrythis.com/","name":"JewelryThis : Custom Jewelry","description":"Inspired by you","publisher":{"@id":"https://www.jewelrythis.com/#organization"},"alternateName":"JewelryThis","potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https://www.jewelrythis.com/?s={search_term_string}"},"query-input":{"@type":"PropertyValueSpecification","valueRequired":true,"valueName":"search_term_string"}}],"inLanguage":"en-US"},{"@type":"Organization","@id":"https://www.jewelrythis.com/#organization","name":"JewelryThis LLC","url":"https://www.jewelrythis.com/","logo":{"@type":"ImageObject","inLanguage":"en-US","@id":"https://www.jewelrythis.com/#/schema/logo/image/","url":"https://cdn.jewelrythis.com/uploads/2022/05/JT-logo-700x700-1.png","contentUrl":"https://cdn.jewelrythis.com/uploads/2022/05/JT-logo-700x700-1.png","width":700,"height":700,"caption":"JewelryThis LLC"},"image":{"@id":"https://www.jewelrythis.com/#/schema/logo/image/"},"sameAs":["https://www.facebook.com/jewelrythis","https://x.com/jewelrythis","https://www.instagram.com/jewelrythis/","https://www.pinterest.com/jewelrythis/"]}]}</script>
	<!-- / Yoast SEO Premium plugin. -->


<meta name="theme-color" content="#121212">
<link rel="preload" href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;700&amp;display=swap" as="style"><style id="global-styles-inline-css" type="text/css">
:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}
</style>
<link rel="stylesheet" id="woocommerce-general-css" href="../app/plugins/woocommerce/assets/css/woocommerce.css?ver=9.8.5" type="text/css" media="all">
<style id="woocommerce-inline-inline-css" type="text/css">
.woocommerce form .form-row .required { visibility: visible; }
</style>
<link rel="stylesheet" id="font-awesome-css" href="../app/themes/jt-rebrand/font-awesome/4.7.0/css/font-awesome.min.css?ver=4.7.0" type="text/css" media="all">
<link rel="stylesheet" id="jtre-start-css" href="../app/themes/jt-rebrand/css/rebrand/start.css?ver=25.6.2" type="text/css" media="all">
<meta name="sentry-trace" content="4712b531e7e846318aef04fc6c550504-acc4262497874ee2-0">
<meta name="traceparent" content="00-4712b531e7e846318aef04fc6c550504-acc4262497874ee2-00">
<meta name="baggage" content="sentry-trace_id=4712b531e7e846318aef04fc6c550504,sentry-sample_rate=0.3,sentry-transaction=%2F%7Bpagename%7D,sentry-public_key=f95b40bb930bf1ab6fbeb0674b5d19ef,sentry-release=v2025.6.2,sentry-environment=prod,sentry-sampled=false">
<script type="text/javascript" src="../wp/wp-includes/js/jquery/jquery.min.js?ver=3.7.1" id="jquery-core-js"></script>
<script type="text/javascript" src="../wp/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.4.1" id="jquery-migrate-js"></script>
<script type="text/javascript" src="../app/plugins/woocommerce/assets/js/jquery-blockui/jquery.blockUI.min.js?ver=2.7.0-wc.9.8.5" id="jquery-blockui-js" data-wp-strategy="defer"></script>
<script type="text/javascript" id="wc-add-to-cart-js-extra">
/* <![CDATA[ */
var wc_add_to_cart_params = {"ajax_url":"\/wp\/wp-admin\/admin-ajax.php","wc_ajax_url":"\/?wc-ajax=%%endpoint%%","i18n_view_cart":"Checkout","cart_url":"https:\/\/www.jewelrythis.com\/checkout\/","is_cart":"","cart_redirect_after_add":"no"};
/* ]]> */
</script>
<script type="text/javascript" src="../app/plugins/woocommerce/assets/js/frontend/add-to-cart.min.js?ver=9.8.5" id="wc-add-to-cart-js" defer="defer" data-wp-strategy="defer"></script>
<script type="text/javascript" src="../app/plugins/woocommerce/assets/js/js-cookie/js.cookie.min.js?ver=2.1.4-wc.9.8.5" id="js-cookie-js" defer="defer" data-wp-strategy="defer"></script>
<script type="text/javascript" id="woocommerce-js-extra">
/* <![CDATA[ */
var woocommerce_params = {"ajax_url":"\/wp\/wp-admin\/admin-ajax.php","wc_ajax_url":"\/?wc-ajax=%%endpoint%%","i18n_password_show":"Show password","i18n_password_hide":"Hide password"};
/* ]]> */
</script>
<script type="text/javascript" src="../app/plugins/woocommerce/assets/js/frontend/woocommerce.min.js?ver=9.8.5" id="woocommerce-js" defer="defer" data-wp-strategy="defer"></script>
<script type="text/javascript" src="../app/plugins/fabthat/TIVWP/js/load-image.min.js?ver=25.6.2" id="fabthat-load-image-js"></script>
<script type="text/javascript" id="ft_date_i18n-js-extra">
/* <![CDATA[ */
var ft_date_i18n_data = {"weekday":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"weekday_initial":{"Sunday":"S","Monday":"M","Tuesday":"T","Wednesday":"W","Thursday":"T","Friday":"F","Saturday":"S"},"weekday_abbrev":{"Sunday":"Sun","Monday":"Mon","Tuesday":"Tue","Wednesday":"Wed","Thursday":"Thu","Friday":"Fri","Saturday":"Sat"},"month":{"01":"January","02":"February","03":"March","04":"April","05":"May","06":"June","07":"July","08":"August","09":"September","10":"October","11":"November","12":"December"},"month_abbrev":{"January":"Jan","February":"Feb","March":"Mar","April":"Apr","May":"May","June":"Jun","July":"Jul","August":"Aug","September":"Sep","October":"Oct","November":"Nov","December":"Dec"},"meridiem":{"am":"am","pm":"pm","AM":"AM","PM":"PM"},"date_format":"F j, Y","time_format":"g:i a","full_format":"F j, Y @ g:i a"};
/* ]]> */
</script>
<script type="text/javascript" src="../app/plugins/fabthat/TIVWP/js/date_i18n.min.js?ver=25.6.2" id="ft_date_i18n-js"></script>
<!--@formatter:off-->
<link rel="preconnect" href="https://www.google-analytics.com">
<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-43595124-1', 'auto');

	
	ga('set', 'dimension6', "utmcsr=bing|utmcmd=cpc|utmccn=438044773|utmcct=1274334860831213|utmctr=custom jewelry");

	ga('send', 'pageview');
</script>
<!--@formatter:on-->
<script>
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function()
{n.callMethod? n.callMethod.apply(n,arguments):n.queue.push(arguments)}
;if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','https://connect.facebook.net/en_US/fbevents.js');
fbq('init', "159685171257960");
fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=159685171257960&ev=PageView&noscript=1"
/></noscript>
<script>(function(w,d,t,r,u){var f,n,i;w[u]=w[u]||[],f=function(){var o={ti:"5998821"};o.q=w[u],w[u]=new UET(o),w[u].push("pageLoad")},n=d.createElement(t),n.src=r,n.async=1,n.onload=n.onreadystatechange=function(){var s=this.readyState;s&&s!=="loaded"&&s!=="complete"||(f(),n.onload=n.onreadystatechange=null)},i=d.getElementsByTagName(t)[0],i.parentNode.insertBefore(n,i)})(window,document,"script","//bat.bing.com/bat.js","uetq");</script><noscript><img src="//bat.bing.com/action/0?ti=5998821&Ver=2" height="0" width="0" style="display:none; visibility: hidden;" /></noscript><link rel="llms-sitemap" href="../llms.txt">
	<noscript><style>.woocommerce-product-gallery{ opacity: 1 !important; }</style></noscript>
	    <link rel="icon" href="../favicon.png" sizes="any">
    <link rel="apple-touch-icon" href="../apple-touch-icon.png"><!-- 180Ã180 -->
</head>
<body class="wp-singular page-template-default page page-id-235413 wp-theme-jt-rebrand theme-jt-rebrand page-start woocommerce-no-js">

<script type="application/javascript">
	if (typeof dataLayer === "undefined") {
		dataLayer = [];
	}
</script>
<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-WZV59R"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<script>(function() {
		var gtm = (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
});
// Make sure GA is loaded and then load GTM
// @see JT-383
	var timeout = 100;
	function checkGA() {
		if( window.gaGlobal ) {
			gtm(window,document,'script','dataLayer','GTM-WZV59R');
		} else {
			setTimeout( checkGA, timeout );
			timeout += 100;
		}
	}
	checkGA();
})();
</script>
<!-- End Google Tag Manager -->
<div id="body-content" class="jt-flex-body">
	<div id="header" class="header-logo text-center pv2">
					<a class="header-logo-image" title="JewelryThis" href="../">
				<img src="../app/themes/jt-rebrand/img/rebrand/logo.svg" width="193px" height="39px" alt="JewelryThis logo">			</a>
			</div>

	<div id="main" class="jt-flex-content">
    <style>
        .wizard-categories {
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: stretch;
            flex-wrap: wrap;
            max-width: 800px;
            margin: 0 auto;
        }

        .wizard-categories > * {
            flex: 0 0 50%;
        }

        @media (min-width: 768px) {
            .wizard-categories > * {
                flex: 0 0 33.33333333%;
            }
        }

        .wiz-thank-you {
            font-size: 18px;
            line-height: 1.5;
        }

        @media (min-width: 768px) {
            .wiz-thank-you {
                font-size: 22px;
            }
        }

        .wiz-msg {
            font-size: 16px;
            text-align: left;
            position: relative;
            padding-left: 60px;
        }

        .wiz-msg.wiz-msg-pending {
            opacity: 0.5;
        }

        .wiz-msg-avatar {
            display: block;
            width: 50px;
            height: 50px;
            text-align: center;
            line-height: 50px;
            color: #FFF;
            background-color: #000;
            border-radius: 50%;
            font-weight: 400;
        }

        .wiz-msg-avatar svg {
            width: 100%;
            height: auto;
            border-radius: 50%;
        }

        .wiz-msg .wiz-msg-avatar {
            position: absolute;
            top: 0;
            left: 0;
        }

        .wiz-msg-body {
            display: flex;
            flex-direction: row;
            justify-content: start;
        }

        .wiz-msg-body textarea {
            display: block !important;
            padding: 0 !important;
            border-color: transparent !important;
        }

        .wiz-msg.wiz-msg-user .wiz-msg-body {
            justify-content: end;
        }

        .wiz-msg-user .wiz-msg-avatar {
            left: auto;
            right: 0;
        }

        .wiz-msg-content {
            background-color: #e2d9d1;
            padding: 10px;
            border-radius: 10px;
        }


        .wiz-msg-user {
            padding-left: 0;
            padding-right: 60px;
        }

        .wiz-typing {
            position: relative;
            min-height: 24px;
            display: flex;
            flex-direction: row;
            justify-content: start;
            align-items: center;
        }

        .wiz-typing-dot {
            float: left;
            width: 8px;
            height: 8px;
            margin: 0 4px;
            background: #8d8c91;
            border-radius: 50%;
            opacity: 0;
            animation: wizTypingKF 1s infinite;
        }

        .wiz-typing-dot:nth-child(1) {
            animation-delay: 0s;
        }

        .wiz-typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .wiz-typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes wizTypingKF {
            0% {
                opacity: 0;
            }
            50% {
                opacity: 0.8;
            }
            100% {
                opacity: 0;
            }
        }

    </style>
    <div class="jt-container ph2" style="min-height:800px">
        <div id="start-project" style="display: none">
            <div class="wizard-container">
                <a v-if="canPrev" href="../start/" @click.prevent="prevStep()" class="btn-back"><img src="../app/themes/jt-rebrand/img/icons/start/back.svg" onerror="this.src='https://www.jewelrythis.com/app/themes/jt-rebrand/img/icons/start/back.png'"></a>

                <div class="wizard-nav text-center">
                    <a v-for="(stage, stage_idx) in stages" href="javascript:void(0)" class="w25" :class="{active: currentStage >= stage_idx, current: currentStage == stage_idx, done: currentStage > stage_idx }"><span class="dot"></span><span class="title">{{ stage.title }}</span></a>
                </div>

                <div class="wizard-body">
                    <div class="wizard-step text-center" ref="start">
                        <h2>What type of Jewelry piece would you like to make?</h2>

                        <div class="wizard-categories xy-pad-1">
                            <div>
                                <a href="../start/" @click.prevent="setCategory('engagement_ring')" class="wizard-category-button" :class="{active: project_category === 'engagement_ring'}">
                                    <svg width="188" height="212" viewBox="0 0 188 212">
                                        <path d="M19.5 40.367c.139.091.337.062.437-.091l3.701-5.652c.1-.153.048-.346-.091-.437l-1.139-.746c-.139-.091-.337-.062-.437.091l-2.691 4.111-2.43-1.591 2.246-3.43c.091-.139.062-.337-.091-.437l-1.153-.755c-.139-.091-.346-.048-.437.091l-2.246 3.43-2.277-1.491 2.691-4.111c.1-.153.048-.346-.091-.437l-1.139-.746c-.139-.091-.337-.062-.437.091l-3.701 5.652c-.1.153-.048.346.091.437l9.194 6.02zm6.307-9.207c.113.121.323.128.444.016l1.101-1.025c.133-.124.129-.323.016-.444l-4.844-5.204.012-.011 10.229.846.29-.27c.121-.113.14-.311.027-.432l-7.581-8.144c-.113-.121-.323-.129-.444-.016l-1.113 1.036c-.133.124-.129.323-.016.444l4.652 4.998-.012.011-10.013-.663-.303.282c-.121.113-.14.311-.027.432l7.581 8.144zm7.239-13.811c1.62 2.877 5.202 3.853 8.064 2.241 2.086-1.175 3.041-2.944 3.041-2.944a.32.32 0 0 0-.014-.295l-2.074-3.682c-.081-.144-.269-.208-.413-.127l-2.762 1.555c-.158.089-.208.269-.119.427l.64 1.136c.081.144.261.194.419.105l1.151-.648.689 1.223c-.223.277-.704.87-1.509 1.324-1.812 1.021-4.087.313-5.091-1.471-1.013-1.798-.456-4.139 1.342-5.152.791-.445 1.715-.587 2.642-.389.194.042.324-.031.374-.211l.365-1.437c.05-.18-.061-.344-.241-.395-1.448-.283-2.968-.09-4.263.639-2.862 1.612-3.859 5.224-2.239 8.101zm13.992-1.23l1.381-.417a.5.5 0 0 0 .364-.457l.26-1.949 4.746-1.434 1.296 1.479c.178.189.318.25.556.178l1.381-.417a.29.29 0 0 0 .145-.494l-8.115-9.205a.28.28 0 0 0-.323-.093l-.159.048c-.143.043-.198.146-.217.256l-1.709 12.173a.29.29 0 0 0 .394.331zm2.251-4.819l.501-3.962.048-.014 2.642 3.012-3.19.964zm9.562-4.405c.209 3.3 3.015 5.739 6.298 5.531 2.392-.152 4.024-1.332 4.024-1.332.063-.054.124-.14.115-.272l-.268-4.224c-.01-.165-.152-.305-.317-.295l-3.168.201c-.181.012-.305.152-.294.333l.083 1.303a.3.3 0 0 0 .332.277l1.32-.084.089 1.402c-.322.153-1.013.478-1.937.537-2.079.132-3.822-1.497-3.952-3.543-.131-2.062 1.391-3.932 3.453-4.062.907-.058 1.803.217 2.552.799.157.123.305.113.429-.027l.955-1.137c.124-.14.095-.337-.046-.461C67.337.956 65.881.468 64.396.563c-3.283.208-5.755 3.032-5.546 6.332zm14.391 4.886c-.026.164.081.332.261.361l6.662 1.077c.18.029.335-.097.361-.261l.217-1.342c.026-.164-.081-.332-.261-.361l-4.845-.783.463-2.864 4.043.653c.164.026.332-.081.361-.261l.22-1.358c.026-.164-.097-.335-.261-.361l-4.043-.653.434-2.684 4.845.783c.18.029.335-.097.361-.261l.217-1.342c.026-.164-.081-.332-.261-.361L75.354.685c-.18-.029-.335.097-.361.261l-1.751 10.835zm10.376 1.5c-.119.203-.052.391.148.473l1.384.566c.138.056.312-.016.371-.118l3.273-5.463.046.019.253 7.155c.008.111.054.219.192.276l.277.113c.138.057.262.017.331-.062l5.16-4.943.046.019-1.474 6.198c-.013.12.059.294.198.35l1.399.572c.2.082.38-.006.421-.241L98.05 7.12c.035-.129-.013-.275-.182-.344l-.246-.101c-.138-.057-.24-.026-.324.047l-6.348 5.875-.046-.019-.417-8.639c-.008-.111-.076-.21-.199-.261l-.246-.101c-.169-.069-.305.001-.371.118L83.62 13.28zm15.056 7.051c-.098.134-.078.332.069.44l5.45 3.97c.147.107.342.065.44-.069l.8-1.098c.097-.134.078-.332-.069-.44l-3.964-2.887 1.707-2.343 3.308 2.409c.133.098.332.078.439-.069l.81-1.111c.097-.134.065-.342-.069-.44l-3.308-2.409 1.6-2.196 3.964 2.887c.147.107.342.065.439-.069l.8-1.098c.098-.134.079-.332-.069-.44l-5.45-3.97c-.147-.107-.342-.065-.44.069l-6.457 8.865zm8.948 6.726c-.125.107-.142.317-.034.443l.978 1.143c.118.138.317.142.443.035l5.403-4.621.01.013-1.275 10.185.258.302a.31.31 0 0 0 .43.045l8.456-7.232c.126-.107.142-.317.035-.443l-.989-1.156c-.118-.138-.317-.142-.443-.035l-5.189 4.438-.011-.013 1.084-9.977-.269-.314c-.108-.126-.305-.153-.43-.045l-8.457 7.232zm9.539 12.537c-.144.081-.201.283-.12.427l.754 1.338c.081.144.283.2.427.119l8.069-4.545 1.24 2.201c.089.158.283.2.427.119l1.179-.664c.144-.081.209-.269.12-.427l-3.541-6.286c-.089-.158-.283-.2-.427-.119l-1.179.664c-.144.081-.209.269-.12.427l1.24 2.201-8.069 4.545z"></path>
                                        <path d="M117.041 40.023c-.081-.144-.024-.346.12-.427l8.069-4.545-1.24-2.201c-.089-.158-.024-.346.12-.427l1.179-.664c.144-.081.338-.039.427.119l3.541 6.286c.089.158.024.346-.12.427l-1.179.664c-.144.081-.338.039-.427-.119l-1.24-2.201-8.069 4.545c-.144.081-.346.024-.427-.119l-.754-1.338zM6.105 42.845A67.45 67.45 0 0 0 1.58 75.121c1.153 10.967 4.977 21.484 11.137 30.63 19.256 28.591 56.972 38.062 87.451 21.96 9.75-5.151 18.089-12.613 24.286-21.734a67.43 67.43 0 0 0 7.198-13.784l-1.74-.444c-1.794 4.641-4.116 9.079-6.933 13.225-6.033 8.88-14.152 16.146-23.644 21.16a65.67 65.67 0 0 1-61.58-.124c-9.472-5.053-17.561-12.351-23.559-21.256a65.66 65.66 0 0 1-10.842-29.82A65.67 65.67 0 0 1 7.76 43.512l-1.654-.667zm128.222 24.628l1.786.366a67.45 67.45 0 0 0-4.793-24.741l-1.656.66c3.016 7.569 4.589 15.611 4.663 23.714z" fill-rule="evenodd"></path>
                                        <path d="M88.773 96.676c.097.195.34.292.554.185l1.79-.895a.43.43 0 0 0 .185-.554l-2.48-4.961 2.159-1.08 5.165 3.862c.078.058.224.107.399.019l2.043-1.021c.331-.165.311-.545.049-.73L93.5 87.893c1.352-1.527 1.809-3.58.914-5.369-1.157-2.315-3.998-3.229-6.332-2.062l-5.564 2.782c-.214.107-.282.36-.185.554l6.439 12.879zm-.973-8.317l-1.936-3.871 3.171-1.585c1.031-.516 2.354-.107 2.87.924.545 1.09.097 2.432-.934 2.947L87.8 88.359zm15.966 1.974c.051.21.287.353.497.302l1.953-.476c.21-.051.352-.286.301-.496l-3.391-13.902c-.052-.21-.287-.353-.497-.302l-1.953.477c-.21.051-.353.286-.301.496l3.391 13.902zm8.461-2.052c.003.216.199.409.415.407l1.967-.02a.41.41 0 0 0 .407-.415l-.093-9.295h.022l9.134 9.831.519-.005c.216-.002.409-.177.407-.393l-.146-14.547c-.002-.216-.198-.409-.414-.407l-1.989.02a.41.41 0 0 0-.407.415l.09 8.927h-.022l-9.088-9.464-.54.005c-.216.002-.409.177-.407.393l.145 14.547zm17.856-6.774c-1.233 4.144 1.108 8.403 5.231 9.63 3.004.894 5.539.182 5.539.182.101-.037.215-.116.264-.282l1.578-5.304c.062-.207-.048-.443-.255-.505l-3.978-1.184c-.228-.068-.443.049-.511.277l-.487 1.637c-.062.207.055.422.283.49l1.657.493-.524 1.761c-.464.042-1.459.13-2.619-.216-2.611-.777-4.015-3.562-3.25-6.131.77-2.59 3.481-4.196 6.071-3.426 1.139.339 2.114 1.08 2.771 2.132.137.221.323.277.538.16l1.685-.965c.215-.116.269-.371.152-.586-1.051-1.621-2.617-2.876-4.482-3.431-4.123-1.227-8.43 1.123-9.663 5.266zm15.154 11.574c.15.577.831 2.506 3.142 3.948 2.585 1.614 5.305.89 6.483-.998 1.477-2.366.087-4.711-1.245-6.536-1.108-1.532-1.42-2.542-.882-3.404.366-.587 1.369-.929 2.414-.276 1.009.629 1.83 2.416 1.92 2.599.128.284.495.309.779.18l1.349-.61c.243-.103.382-.449.268-.674-.195-.504-1.03-2.35-2.901-3.518-2.915-1.82-5.305-.686-6.323.946-1.351 2.164-.314 4.34.975 6.112 1.151 1.585 1.539 2.719.956 3.654-.493.788-1.597.966-2.55.37-1.192-.744-2.002-2.753-2.06-2.865a.5.5 0 0 0-.703-.261l-1.37.725c-.348.19-.314.339-.252.607z"></path>
                                        <path d="M157.069 88.413c.128.284.495.309.779.18l1.349-.61c.243-.103.382-.449.268-.674-.195-.504-1.03-2.35-2.901-3.518-2.915-1.82-5.305-.686-6.323.946-1.351 2.164-.314 4.34.975 6.112 1.151 1.585 1.539 2.719.956 3.654-.493.788-1.597.966-2.55.37-1.09-.68-1.861-2.418-2.029-2.796l-.031-.069a.5.5 0 0 0-.703-.261l-1.37.725c-.348.19-.314.339-.252.607.15.577.831 2.506 3.142 3.948 2.585 1.614 5.305.89 6.483-.998 1.477-2.366.087-4.711-1.245-6.536-1.108-1.532-1.42-2.542-.882-3.404.366-.587 1.369-.929 2.414-.276.962.6 1.753 2.252 1.903 2.564l.017.036zm-3.453 1.081h.001-.001zm-98.21 33.264c4.493-13.352 13.055-24.963 24.483-33.201l1.043 1.447c-35.734 25.764-36.467 78.71-1.46 105.453 10.9 8.326 24.133 13.03 37.842 13.453s27.207-3.46 38.598-11.099a65.67 65.67 0 0 0 24.916-31.498c4.813-12.844 5.482-26.873 1.916-40.116a65.67 65.67 0 0 0-21.803-33.729l1.13-1.38a67.45 67.45 0 0 1 22.395 34.645c3.663 13.603 2.975 28.013-1.968 41.205-10.134 27.049-36.367 44.643-65.239 43.754a67.45 67.45 0 0 1-38.869-13.817 67.46 67.46 0 0 1-23.554-33.867 67.45 67.45 0 0 1 .571-41.249z" fill-rule="evenodd"></path>
                                    </svg>

                                    <span class="title">Engagement Ring</span>
                                </a>
                            </div>
                            <div>
                                <a href="../start/" @click.prevent="setCategory('ring')" class="wizard-category-button" :class="{active: project_category === 'ring'}">
                                    <svg width="202" height="214" viewBox="0 0 202 214" stroke-width=".4">
                                        <path d="M74.304 32.447h0l-8.834-6.909c2.533-2.686 3.521-6.382 2.05-9.744-1.936-4.424-7.138-6.395-11.593-4.446l-10.384 4.543c-.507.222-.691.797-.491 1.255l10.515 24.035c.2.458.748.713 1.255.491l3.34-1.461a.98.98 0 0 0 .491-1.255l-3.97-9.075 3.734-1.634 8.943 7.43c.186.155.526.28.932.102l3.812-1.668c.372-.163.576-.465.602-.795.025-.324-.123-.65-.402-.868zM54.86 25.613l-3.001-6.858 5.735-2.509c1.828-.8 4.076.028 4.872 1.846.847 1.936-.052 4.216-1.871 5.012l-5.735 2.509z"></path>
                                        <path d="M53.992 28.676l-.183.08.08.183 4.272 9.765-1.087.476-9.53-21.781 9.257-4.05c3.381-1.479 7.279.031 8.719 3.321 1.073 2.453.393 5.303-1.763 7.501l-1.397 1.424-.157.16.176.138 8.991 7.032-1.25.547-9.25-7.685-.095-.079-.113.049-6.671 2.919zm20.312 3.772h0l-8.834-6.909a10.93 10.93 0 0 0 1.007-1.235c1.762-2.521 2.299-5.638 1.043-8.509-1.936-4.424-7.138-6.395-11.593-4.446l-10.384 4.543c-.507.222-.691.797-.491 1.255l10.515 24.035c.2.458.748.713 1.255.491l3.34-1.461a.98.98 0 0 0 .491-1.255l-3.97-9.075 3.734-1.634 8.943 7.43c.186.155.526.28.932.102l3.812-1.668c.372-.163.576-.465.602-.795.025-.324-.123-.65-.402-.868zm-20.649-4.142l.08.183.183-.08 7.551-3.304c2.963-1.296 4.309-4.886 2.996-7.887-1.302-2.975-4.867-4.23-7.746-2.971l-7.551 3.304-.183.08.08.183 4.59 10.491zm6.94-5.2l-5.735 2.509-3.001-6.858 5.735-2.509c1.828-.8 4.076.028 4.872 1.846.847 1.936-.052 4.216-1.871 5.012zm23.216 7.516a.98.98 0 0 0 1.077.81l3.649-.516a.98.98 0 0 0 .81-1.077L85.673 3.868a.98.98 0 0 0-1.077-.81l-3.649.516a.98.98 0 0 0-.81 1.077l3.673 25.972z"></path>
                                        <path d="M83.685 5.391l3.328 23.537-1.214.172L82.47 5.563l1.214-.172zm.126 25.232a.98.98 0 0 0 1.077.81l3.649-.516a.98.98 0 0 0 .81-1.077L85.673 3.868a.98.98 0 0 0-1.077-.81l-3.649.516a.98.98 0 0 0-.81 1.077l3.673 25.972zm35.721-10.21L105.921 1.129l-.05-.071-.086-.012-.98-.139c-.488-.069-.999.256-1.072.771L100 28.082a.98.98 0 0 0 .811 1.077l3.57.505c.547.078 1.007-.315 1.077-.81l2.319-16.401L121.371 32.4l.05.073.087.012.942.133c.487.069.998-.255 1.071-.771l3.734-26.403a.98.98 0 0 0-.81-1.077l-3.61-.51c-.547-.077-1.006.315-1.076.81l-2.227 15.745z"></path>
                                        <path d="M106.157 9.743l-.198-.028-.028.198-2.463 17.417-1.135-.161 3.221-22.777 12.896 18.272.05.071.086.012 2.566.363.199.028.028-.198 2.368-16.75 1.175.166-3.207 22.674-12.837-18.837-.05-.073-.087-.012-2.584-.365zm-.236-8.614l-.05-.071-.086-.012-.98-.139c-.488-.069-.999.256-1.072.771L100 28.082a.98.98 0 0 0 .811 1.077l3.57.505c.547.078 1.007-.315 1.077-.81l2.319-16.401L121.371 32.4l.05.073.087.012.942.133c.487.069.998-.255 1.071-.771l3.734-26.403a.98.98 0 0 0-.81-1.077l-3.61-.51c-.547-.077-1.006.315-1.076.81l-2.227 15.745-13.611-19.284zm45.1 42.064h.008l.008-.001a.96.96 0 0 0 .723-.512l4.768-8.928c.232-.434.102-1.024-.356-1.268l-6.696-3.576c-.481-.257-1.03-.09-1.287.391l-1.471 2.755c-.242.452-.065.999.409 1.252l2.614 1.396-1.425 2.668c-.887-.101-2.588-.335-4.409-1.307-4.292-2.292-5.759-7.674-3.499-11.906 2.28-4.27 7.608-6.108 11.862-3.836 1.874 1.001 3.317 2.647 4.092 4.728.093.253.239.454.448.566s.455.117.705.041h0l.004-.002 3.371-1.111c.549-.168.774-.729.617-1.244l-.002-.008-.003-.007c-1.307-3.329-3.684-6.19-6.869-7.891-7.038-3.759-15.737-1.086-19.514 5.985s-1.102 15.684 5.934 19.442c2.554 1.364 5.043 1.958 6.893 2.211a19.16 19.16 0 0 0 2.228.178 13.11 13.11 0 0 0 .622-.003l.166-.007.043-.002h.012.003.001 0l-.014-.199.014.199z"></path>
                                        <path d="M152.595 33.982l.094-.176-.177-.094-3.276-1.75.297-.555 4.495 2.401-3.855 7.219a17.01 17.01 0 0 1-1.932-.157c-1.664-.227-3.891-.761-6.162-1.974-5.985-3.197-8.243-10.493-5.038-16.494 3.215-6.02 10.599-8.276 16.566-5.09 2.306 1.232 4.144 3.206 5.336 5.576l-1 .33c-1.021-2.074-2.631-3.744-4.647-4.821-5.402-2.885-12.01-.511-14.81 4.732s-1.013 11.966 4.395 14.854c2.3 1.229 4.43 1.466 5.33 1.566l1.197.132.134.015.064-.119 2.989-5.595zm-1.588 9.012l.014.199h.008l.008-.001a.96.96 0 0 0 .723-.512l4.768-8.928c.232-.434.102-1.024-.356-1.268l-6.696-3.576c-.481-.257-1.03-.09-1.287.391l-1.471 2.755c-.242.452-.065.999.409 1.252l2.614 1.396-1.425 2.668c-.887-.101-2.588-.335-4.409-1.307-4.292-2.292-5.759-7.674-3.499-11.906 2.28-4.27 7.608-6.108 11.862-3.836 1.874 1.001 3.317 2.647 4.092 4.728.093.253.239.454.448.566s.455.117.705.041h0l.004-.002 3.371-1.111c.549-.168.774-.729.617-1.244l-.002-.008-.003-.007c-1.307-3.329-3.684-6.19-6.869-7.891-7.038-3.759-15.737-1.086-19.514 5.985s-1.102 15.684 5.934 19.442c2.554 1.364 5.043 1.958 6.893 2.211a19.16 19.16 0 0 0 2.228.178 13.11 13.11 0 0 0 .622-.003l.166-.007.043-.002h.012.003.001 0l-.014-.199zM42.877 32.403l-.117-.162-.162.117a99.85 99.85 0 0 0-37.079 110.21c6.102 19.942 18.296 37.472 34.868 50.132A99.86 99.86 0 0 0 194.5 148.391a99.85 99.85 0 0 0 2.919-60.995 99.86 99.86 0 0 0-33.143-51.288l-.155-.127-.127.155-1.129 1.379-.127.155.155.127c15.779 12.927 27.116 30.47 32.418 50.167s4.304 40.561-2.855 59.662a97.67 97.67 0 0 1-94.465 63.347c-20.389-.628-40.069-7.624-56.28-20.007a97.67 97.67 0 0 1 2.163-156.838l.162-.117-.117-.162-1.043-1.446z"></path>
                                    </svg>

                                    <span class="title">Ring</span>
                                </a>
                            </div>
                                                        <div>
                                <a href="../start/" @click.prevent="setCategory('pendant')" class="wizard-category-button" :class="{active: project_category === 'pendant'}">
                                    <svg width="230" height="214" viewBox="0 0 230 214">
                                        <g stroke="#d59c5e" stroke-width=".4">
                                            <path d="M229.256 1.114l.219-.314h-.383L.906.854H.517l.226.316 115.553 161.576.164.23.162-.232L229.256 1.114zM5.031 3.173l219.997-.052-108.571 155.665L5.031 3.173z" class="B"></path>
                                            <path d="M78.484 147.352a.64.64 0 0 0-.817.384l-.72 1.994c-.116.321.063.701.383.817l4.907 1.771-.91 2.522c-.993 2.75.462 5.844 3.253 6.851 2.729.986 5.801-.478 6.8-3.246l1.839-5.095a.64.64 0 0 0-.383-.817l-14.352-5.181zm6.774 6.057l3.981 1.437-.84 2.327c-.406 1.124-1.578 1.741-2.653 1.353-1.174-.424-1.73-1.679-1.328-2.791l.84-2.326z" class="C"></path>
                                            <path d="M78.484 147.352a.64.64 0 0 0-.817.384l-.72 1.994c-.116.321.063.701.383.817l4.907 1.771-.91 2.522c-.993 2.75.462 5.844 3.253 6.851 2.729.986 5.801-.478 6.8-3.246l1.839-5.095a.64.64 0 0 0-.383-.817l-14.352-5.181zm5.934 8.383l.84-2.326 3.981 1.437-.84 2.327c-.406 1.124-1.578 1.741-2.653 1.353-1.174-.424-1.73-1.679-1.328-2.791z" class="B"></path>
                                            <use xlink:href="#B" class="C"></use>
                                            <use xlink:href="#B" class="B"></use>
                                            <path d="M94.545 198.787l-.932-13.415-.006-.086-.067-.055-.444-.363c-.252-.206-.656-.202-.88.072l-9.772 11.944c-.215.263-.173.679.09.895l1.615 1.321c.286.234.684.168.894-.09l5.933-7.251.728 13.734.005.088.068.056.426.349c.252.206.656.202.88-.072l9.772-11.944a.65.65 0 0 0-.089-.894l-1.633-1.336c-.286-.234-.684-.168-.894.089l-5.694 6.958z" class="C"></path>
                                            <path d="M93.613 185.372l-.006-.086-.067-.055-.444-.363c-.252-.206-.656-.202-.88.072l-9.772 11.944c-.215.263-.173.679.09.895l1.615 1.321c.286.234.684.168.894-.09l5.933-7.251.728 13.734.005.088.068.056.426.349c.252.206.656.202.88-.072l9.772-11.944a.65.65 0 0 0-.089-.894l-1.633-1.336c-.286-.234-.684-.168-.894.089l-5.694 6.958-.932-13.415zm-2.007 3.731l.089-.109.013.193-.103-.084zm2.333 12.347l-.266.325-.03-.568.296.243z" class="B"></path>
                                            <path d="M110.16 212.574c.019.326.296.622.65.602l5.454-.309c4.551-.257 8.067-4.17 7.808-8.745-.256-4.53-4.192-8.02-8.743-7.762l-5.453.308c-.355.021-.597.346-.578.672l.862 15.234zm3.223-2.761l-.573-10.117 2.423-.137c2.878-.163 5.101 1.881 5.264 4.765.165 2.909-1.814 5.189-4.691 5.352l-2.423.137z" class="C"></path>
                                            <path d="M110.16 212.574c.019.326.296.622.65.602l5.454-.309c4.551-.257 8.067-4.17 7.808-8.745-.256-4.53-4.192-8.02-8.743-7.762l-5.453.308c-.355.021-.597.346-.578.672l.862 15.234zm5.646-2.898l-2.423.137-.573-10.117 2.423-.137c2.878-.163 5.101 1.881 5.264 4.765.165 2.909-1.814 5.189-4.691 5.352z" class="B"></path>
                                            <path d="M147.112 199.676h0l2.251-2.352.078-.184h0l-15.699-6.676h.001l-.007-.003c-.082-.031-.189-.064-.31-.053-.127.011-.245.067-.357.169l-.17.155c-.106.097-.169.21-.194.33a.68.68 0 0 0 .018.324h-.001l.002.006 5.158 16.291h0c.068.215.226.373.427.427s.42-.004.592-.161l1.481-1.352c.348-.317.343-.719.238-1.004l-.802-2.474 4.901-4.47 2.393 1.027zm-5.356-2.329l-2.965 2.705-1.538-4.634 4.503 1.929z" class="C"></path>
                                            <path d="M137.882 207.683h0c.068.215.226.373.427.427s.42-.004.592-.161l1.481-1.352c.348-.317.343-.719.238-1.004l-.802-2.474 4.901-4.47 2.393 1.027h0l.007.003c.179.069.353.113.528.093.181-.021.335-.107.483-.242l1.482-1.351c.172-.158.25-.368.215-.575s-.178-.376-.386-.464l-15.699-6.676h.001l-.007-.003c-.082-.031-.189-.064-.31-.053-.127.011-.245.067-.357.169l-.17.155c-.106.097-.169.21-.194.33a.68.68 0 0 0 .018.324h-.001l.002.006 5.158 16.291zm3.874-10.336l-2.965 2.705-1.538-4.634 4.503 1.929z" class="B"></path>
                                            <path d="M153.433 173.058l-11.137 7.697-.071.049-.013.085-.086.571c-.049.323.162.67.513.723l15.356 2.327c.338.051.676-.198.727-.536l.315-2.076a.64.64 0 0 0-.536-.727l-9.326-1.413 11.518-7.683.073-.049.013-.088.083-.547c.049-.324-.162-.671-.513-.724l-15.356-2.327c-.338-.051-.676.199-.727.536l-.318 2.099c-.056.367.205.677.535.727l8.95 1.356z" class="C"></path>
                                            <path d="M142.296 180.755l-.071.049-.013.085-.086.571c-.049.323.162.67.513.723l15.356 2.327c.338.051.676-.198.727-.536l.315-2.076a.64.64 0 0 0-.536-.727l-9.326-1.413 11.518-7.683.073-.049.013-.088.083-.547c.049-.324-.162-.671-.513-.724l-15.356-2.327c-.338-.051-.676.198-.727.536l-.318 2.099c-.056.367.205.677.535.727l8.95 1.356-11.137 7.697zm4.26-.178l-.144-.022.165-.114-.021.136zm9.488-8.362l.423.064-.481.321.058-.385z" class="B"></path>
                                            <use xlink:href="#C" class="C"></use>
                                            <use xlink:href="#C" class="B"></use>
                                        </g>
                                        <defs>
                                            <path id="B" d="M73.146 171.79c-.327.07-.569.395-.491.758l1.97 9.193a.64.64 0 0 0 .759.491l1.852-.397c.327-.07.569-.395.491-.758l-1.391-6.491 3.562-.763 1.154 5.384a.64.64 0 0 0 .759.491l1.875-.402c.334-.072.562-.425.491-.759l-1.154-5.383 3.313-.71 1.391 6.49a.64.64 0 0 0 .759.491l1.852-.397a.64.64 0 0 0 .491-.759l-1.97-9.193a.64.64 0 0 0-.759-.491l-14.953 3.205z"></path>
                                            <path id="C" d="M157.071 153.576c.313-.134.47-.524.336-.837l-.842-1.972c-.134-.313-.523-.47-.837-.336l-11.708 4.999-1.306-3.059c-.146-.342-.53-.468-.837-.337l-1.738.742a.64.64 0 0 0-.337.838l3.955 9.263a.64.64 0 0 0 .838.336l1.738-.742c.307-.131.482-.496.336-.837l-1.306-3.059 11.708-4.999z"></path>
                                        </defs>
                                    </svg>
                                    <span class="title">Pendant / Necklace</span>
                                </a>
                            </div>
                            <div>
                                <a href="../start/" @click.prevent="setCategory('earring')" class="wizard-category-button" :class="{active: project_category === 'earring'}">
                                    <svg width="140" height="214" viewBox="0 0 140 214" fill="none">
                                        <g clip-path="url(#A)" fill="#d59c5e">
                                            <path d="M100.216 37.521l.113-.276h-.298l-99.195.037h-.3l.115.277 50.062 120.515.187.449.183-.45 49.133-120.551zM3.795 39.455l93.298-.034L50.896 152.7z" stroke="#d59c5e" stroke-width=".4"></path>
                                            <path d="M47.066 175.574c0 .258.206.493.492.493h6.261a.49.49 0 0 0 .492-.493v-1.261c0-.258-.206-.493-.492-.493h-4.354v-2.292h3.6c.257 0 .492-.206.492-.492v-1.277c0-.264-.228-.492-.492-.492h-3.6v-2.123h4.354a.49.49 0 0 0 .492-.493v-1.261c0-.257-.206-.492-.492-.492h-6.261c-.286 0-.492.235-.492.492zm6.138 18.309c.181.377.562.617.98.617h1.184a.43.43 0 0 0 .398-.27h0a.49.49 0 0 0-.011-.389l-4.807-10.337-.003-.006a.52.52 0 0 0-.148-.189c-.081-.062-.179-.091-.292-.091h-.154a.47.47 0 0 0-.283.088.51.51 0 0 0-.157.192l-.003.005-4.785 10.354a.48.48 0 0 0 .023.467.49.49 0 0 0 .42.217h1.338c.348 0 .546-.224.63-.429l.699-1.541h4.342zm-1.565-3.419h-2.474l1.224-2.749 1.249 2.749z"></path>
                                            <g stroke="#d59c5e">
                                                <path d="M54.028 211.86l-.001-.002m-5.324-4.927h2.508c.111 0 .22-.013.325-.038l.022-.005c.083-.021.164-.049.242-.084.059-.026.115-.056.17-.089.45-.274.764-.78.764-1.353 0-.816-.708-1.492-1.523-1.492h-2.508zm1.692 1.646h-1.708v3.923c0 .154-.138.292-.292.292H46.98c-.169 0-.292-.138-.292-.292v-10.184c0-.154.123-.293.292-.293h4.4c1.846 0 3.354 1.477 3.354 3.308 0 1.101-.568 2.044-1.451 2.662a3.84 3.84 0 0 1-.427.26l-.4.186 2.108 3.907c.108.2 0 .446-.262.446h-1.615c-.139 0-.215-.077-.246-.138zM139.343 1.076l.113-.276h-.298L39.945.836h-.3l.115.277 50.036 120.203.186.447.183-.448zM42.904 3.01l93.316-.034-46.214 113.28zm50.21 135.053l-.001-.002m-5.324-4.927h2.508a1.41 1.41 0 0 0 .325-.038.17.17 0 0 0 .022-.005 1.47 1.47 0 0 0 .242-.084 1.62 1.62 0 0 0 .17-.089 1.59 1.59 0 0 0 .764-1.353c0-.815-.708-1.492-1.523-1.492h-2.508v3.061zm1.692 1.646h-1.708v3.923c0 .154-.138.292-.292.292h-1.415c-.169 0-.292-.138-.292-.292v-10.184c0-.154.123-.292.292-.292h4.4c1.846 0 3.354 1.476 3.354 3.307 0 1.101-.568 2.044-1.451 2.662a3.83 3.83 0 0 1-.427.26l-.4.186 2.108 3.907c.108.2 0 .446-.261.446h-1.615c-.138 0-.215-.077-.246-.138l-2.046-4.077z" stroke-width=".4"></path>
                                            </g>
                                            <path d="M88.308 157.176c0 .264.228.492.492.492h1.431c.264 0 .492-.228.492-.492v-10.184c0-.265-.228-.493-.492-.493H88.8c-.264 0-.492.228-.492.493zm4.928 19.035l.059.066h.088.369a.49.49 0 0 0 .492-.477v-10.354c0-.264-.228-.492-.492-.492h-1.415c-.286 0-.492.235-.492.492v5.866l-6.069-6.449-.059-.063h-.086-.385a.49.49 0 0 0-.492.477v10.353c0 .265.228.493.492.493h1.4c.286 0 .492-.235.492-.493v-6.115zm.766 17.319l.107.169.007-.004.007-.005c.098-.074.203-.205.203-.406v-3.939a.49.49 0 0 0-.477-.492h-2.954a.48.48 0 0 0-.492.492v1.216a.47.47 0 0 0 .101.292c.092.116.234.185.392.185h1.031v.971c-.24.093-.604.218-1.058.281a4.14 4.14 0 0 1-.552.04h-.021c-1.822 0-3.261-1.52-3.261-3.323 0-1.822 1.443-3.369 3.246-3.369.796 0 1.565.289 2.19.842.093.082.207.142.338.142a.48.48 0 0 0 .336-.15l.003-.004.952-.998c.212-.214.17-.525-.017-.712l-.006-.006-.006-.005a6.39 6.39 0 0 0-1.28-.85 5.81 5.81 0 0 0-2.604-.628c-3.173 0-5.723 2.567-5.723 5.753s2.552 5.708 5.723 5.708c1.145 0 2.123-.257 2.814-.513a7.46 7.46 0 0 0 .81-.353l.218-.118.058-.034.015-.009.004-.003h.001l.001-.001-.107-.169zm-8.055 17.706l-.001.003c-.078.139-.125.279-.083.424.034.119.123.207.181.265l.016.015c.305.29 1.329 1.105 3.046 1.237l.413.018h.063l.177-.003c2.163-.077 3.562-1.578 3.562-3.243 0-1.06-.464-1.831-1.116-2.407-.644-.57-1.475-.954-2.225-1.255-.616-.251-1.043-.49-1.314-.742-.263-.244-.376-.497-.376-.795 0-.287.224-.659.698-.81.132-.042.284-.067.455-.067l.08.002a1.89 1.89 0 0 1 .189.023c.349.061.736.222 1.065.389a7.93 7.93 0 0 1 .673.385l.022.015a.51.51 0 0 0 .475.041.76.76 0 0 0 .338-.283l.584-.875a.57.57 0 0 0 .083-.425c-.025-.135-.095-.276-.228-.361-.303-.226-1.35-.92-2.754-1.046l-.436-.019-.096.001c-.336.005-.647.04-.934.101-1.836.386-2.631 1.799-2.631 3.052 0 1.951 1.565 2.921 3.017 3.508.639.259 1.101.513 1.402.787.294.268.427.548.427.874 0 .49-.419.923-1.064.978a1.09 1.09 0 0 1-.082.005l-.055.001a1.75 1.75 0 0 1-.213-.014c-.396-.05-.826-.227-1.192-.418s-.651-.383-.761-.457l-.005-.004-.038-.025c-.217-.161-.618-.164-.81.172v.001l-.553.952z"></path>
                                        </g>
                                        <defs>
                                            <clipPath id="A">
                                                <path fill="#fff" d="M0 0h140v214H0z"></path>
                                            </clipPath>
                                        </defs>
                                    </svg>
                                    <span class="title">Earrings</span>
                                </a>
                            </div>
                            <div>
                                <a href="../start/" @click.prevent="setCategory('bracelet')" class="wizard-category-button" :class="{active: project_category === 'bracelet'}">
                                    <svg width="212" height="212" viewBox="0 0 212 212">
                                        <path fill-rule="evenodd" d="M175.768 88.019a.94.94 0 0 1 .693-1.08l26.169-5.72-1.56-7.137c-.113-.513.226-.978.692-1.08l3.825-.836c.467-.102.968.18 1.08.693l4.456 20.385c.112.513-.226.978-.693 1.08l-3.825.836c-.466.102-.968-.179-1.08-.693l-1.56-7.137-26.169 5.72a.94.94 0 0 1-1.08-.693l-.948-4.338zm-12.843-28.445c-.407.25-.572.801-.297 1.248l10.19 16.548c.276.447.842.547 1.249.297l3.333-2.053c.407-.25.573-.801.297-1.248l-7.411-12.034 7.115-4.382 6.184 10.042c.251.407.801.572 1.249.297l3.374-2.078a.94.94 0 0 0 .297-1.248l-6.184-10.042 6.667-4.106 7.412 12.035c.275.447.841.547 1.248.297l3.334-2.053c.406-.25.572-.801.296-1.248l-10.19-16.547c-.275-.447-.841-.547-1.248-.297l-26.915 16.575zm-17.256-13.94c-.408-.33-.435-.905-.135-1.276l19.875-24.58c.3-.371.867-.465 1.276-.135l3.415 2.762a.94.94 0 0 1 .135 1.276l-16.842 20.83 9.468 7.656c.409.33.435.905.135 1.276l-2.462 3.045c-.3.371-.867.465-1.276.135l-13.589-10.988zm-24.817-11.675c-.16.45.057.983.552 1.158l18.32 6.484c.495.175.999-.102 1.158-.553l1.306-3.691c.16-.45-.057-.983-.552-1.158l-13.324-4.716 2.788-7.877 11.118 3.935c.45.159.983-.057 1.158-.553l1.323-3.736a.94.94 0 0 0-.553-1.158l-11.118-3.935 2.613-7.382 13.323 4.716c.496.175.999-.102 1.158-.553l1.307-3.691c.159-.45-.058-.983-.553-1.158l-18.32-6.484c-.495-.175-.998.102-1.158.553l-10.546 29.798zm-15.87.408c-9.539.442-17.57-6.786-18.012-16.325A17.2 17.2 0 0 1 103.391.024c4.817-.223 8.37 1.142 11.748 3.901.447.362.474.934.11 1.333l-2.771 3.14c-.316.397-.793.419-1.192.055-2.085-1.672-4.805-2.598-7.476-2.474-6.105.283-10.4 5.596-10.121 11.606.276 5.962 5.09 10.806 11.195 10.523 2.861-.133 5.243-1.342 7.171-3.057.366-.352.893-.328 1.193-.055l3.098 2.916c.397.316.331.941.012 1.29-3.097 3.298-7.131 4.967-11.376 5.164zm-44.55 13.373l3.736-1.815c.687-.334.865-.951.828-1.464l-.149-5.661 12.841-6.239 4.358 3.616c.593.455 1.019.567 1.663.254l3.736-1.815c.644-.313.716-1.038.188-1.471L60.363 10.665c-.254-.195-.53-.326-.96-.118l-.429.209c-.386.188-.497.507-.501.827l.686 35.393c.014.684.628 1.075 1.273.762zm4.204-14.73l-.382-11.493.129-.063 8.885 7.362-8.632 4.194zM44.013 66.656c-.346.395-.921.399-1.28.084L18.968 45.898c-.359-.315-.43-.885-.084-1.28l9.004-10.267c3.778-4.308 10.31-4.803 14.581-1.057 3.303 2.897 4.075 7.448 2.592 11.673l13.431 3.079c.687.158 1.041.913.506 1.523l-3.306 3.769c-.283.323-.62.345-.827.291l-13.7-3.569-3.495 3.985 9.154 8.028a.94.94 0 0 1 .084 1.28l-2.897 3.303zM26.718 44.375l7.144 6.265 5.132-5.851c1.669-1.903 1.466-5.002-.545-6.765-1.903-1.669-4.93-1.403-6.599.5l-5.132 5.851zm7.162 47.538c-.17.497-.7.72-1.152.566L2.813 82.269c-.452-.154-.735-.655-.566-1.152l3.532-10.348c1.835-5.377 6.869-8.301 11.614-6.682 3.48 1.188 5.219 4.96 5.489 7.423 1.586-2.133 5.213-4.78 9.371-3.361 5.061 1.727 7.241 7.315 5.359 12.828L33.88 91.913zM9.322 77.982l7.908 2.699 1.65-4.835c.787-2.305-.481-4.503-2.741-5.274s-4.381.271-5.167 2.575l-1.65 4.835zM22.2 82.377l8.044 2.745 1.866-5.468c.771-2.259-.374-4.668-2.724-5.471-2.259-.771-4.703.918-5.504 3.268L22.2 82.377zm157.071 37.145c-.452-.155-.982.068-1.152.565l-3.732 10.936c-1.881 5.513.298 11.1 5.36 12.828 4.157 1.418 7.785-1.228 9.37-3.361.27 2.463 2.009 6.235 5.489 7.423 4.745 1.619 9.779-1.304 11.614-6.682l3.532-10.348c.169-.497-.114-.998-.566-1.152l-29.915-10.209zm15.499 11.797l7.908 2.699-1.65 4.836c-.787 2.304-2.908 3.346-5.168 2.575s-3.527-2.97-2.74-5.274l1.65-4.836zm-13.015-4.441l8.044 2.745-1.681 4.926c-.802 2.349-3.245 4.038-5.505 3.267-2.349-.802-3.495-3.211-2.724-5.47l1.866-5.468zm-13.768 18.466c.346-.395.921-.399 1.28-.084l23.764 20.842c.359.315.431.886.084 1.281l-9.004 10.267c-3.778 4.307-10.31 4.803-14.582 1.056-3.302-2.896-4.074-7.447-2.591-11.672l-13.432-3.079c-.687-.158-1.041-.913-.506-1.523l3.306-3.77c.283-.323.62-.345.827-.291l13.7 3.569 3.495-3.985-9.154-8.028a.94.94 0 0 1-.084-1.28l2.897-3.303zm17.294 22.281l-7.143-6.265-5.132 5.851c-1.669 1.903-1.466 5.003.544 6.766 1.903 1.668 4.931 1.402 6.599-.5l5.132-5.852zm-33.714-3.363l-3.736 1.815c-.687.334-.865.951-.828 1.464l.149 5.661-12.841 6.239-4.358-3.616c-.593-.455-1.019-.566-1.663-.253l-3.737 1.815c-.644.313-.716 1.038-.187 1.471l27.271 22.477c.254.195.53.327.959.118l.43-.209c.386-.188.497-.507.5-.827l-.686-35.393c-.014-.684-.628-1.075-1.273-.762zm-4.203 14.73l.381 11.493-.128.063-8.886-7.362 8.633-4.194zm-40.347-1.358c9.539-.442 17.57 6.786 18.012 16.326a17.2 17.2 0 0 1-16.421 18.016c-4.817.224-8.37-1.141-11.748-3.901-.447-.361-.474-.934-.11-1.333l2.77-3.14c.316-.397.793-.419 1.192-.055 2.085 1.672 4.805 2.598 7.476 2.474 6.105-.283 10.4-5.597 10.122-11.606-.277-5.963-5.09-10.806-11.195-10.523-2.862.132-5.244 1.342-7.172 3.057-.366.351-.893.328-1.192.055l-3.099-2.916c-.397-.316-.33-.94-.012-1.29 3.097-3.298 7.131-4.967 11.376-5.164zm-15.869.408c.159-.45-.057-.983-.552-1.158l-18.32-6.484c-.495-.175-.999.102-1.158.552l-1.306 3.691c-.159.451.057.983.552 1.158l13.324 4.716-2.788 7.877-11.118-3.935c-.45-.159-.983.058-1.158.553l-1.322 3.736a.94.94 0 0 0 .553 1.158l11.118 3.935-2.613 7.382-13.324-4.716c-.495-.175-.999.102-1.158.552l-1.306 3.691c-.159.451.057.983.553 1.158l18.32 6.485c.495.175.999-.103 1.158-.553l10.547-29.798zM66.33 166.367c.408.33.435.905.135 1.276l-19.874 24.579c-.3.372-.867.466-1.276.135l-3.416-2.762a.94.94 0 0 1-.135-1.275l16.842-20.83-9.468-7.656c-.409-.33-.435-.904-.135-1.275l2.462-3.045c.3-.371.867-.465 1.276-.135l13.589 10.988zm-17.256-13.94c.407-.251.572-.801.297-1.249l-10.19-16.547c-.275-.447-.842-.547-1.248-.297l-3.334 2.053c-.407.251-.572.801-.297 1.248l7.411 12.035-7.115 4.382-6.184-10.043c-.25-.406-.801-.572-1.248-.297l-3.375 2.079a.94.94 0 0 0-.297 1.248l6.184 10.042-6.668 4.106-7.411-12.034c-.276-.448-.842-.547-1.248-.297l-3.334 2.053c-.407.25-.572.801-.297 1.248l10.19 16.548c.275.447.842.547 1.248.297l26.915-16.575zm-12.843-28.446a.94.94 0 0 1-.692 1.08l-26.169 5.72 1.56 7.137c.112.513-.226.978-.693 1.08l-3.825.836c-.466.102-.968-.179-1.08-.692L.876 118.757c-.112-.513.226-.978.693-1.08l3.825-.836c.466-.102.968.18 1.08.693l1.56 7.137 26.169-5.72a.94.94 0 0 1 1.08.692l.948 4.338z" fill="#d59c5e"></path>
                                    </svg>
                                    <span class="title">Bracelet</span>
                                </a>
                            </div>
                            <div>
                                <a href="../start/" @click.prevent="setCategory('other')" class="wizard-category-button" :class="{active: project_category === 'other'}">
                                    <svg width="212" height="212" viewBox="0 0 212 212">
                                        <path fill-rule="evenodd" d="M5.189 106L106 5.189 206.811 106 106 206.811 5.189 106zM0 106l2.594-2.594L103.406 2.594 106 0l2.594 2.594 100.812 100.812L212 106l-2.594 2.594-100.812 100.812L106 212l-2.594-2.594L2.594 108.594 0 106zm109.716 7.015h-8.37c-1.034 0-1.964-.827-1.964-1.964v-4.342c0-5.284 4.159-8.803 8.001-12.053 3.299-2.79 6.363-5.383 6.363-8.725 0-3.721-3.1-6.926-8.267-6.926-4.888 0-7.664 2.424-9.627 4.14-.569.497-1.069.934-1.533 1.236-.827.517-1.55.517-2.273-.103l-4.857-4.755c-.827-.724-.723-1.964 0-2.688 0 0 7.027-9.097 20.255-9.097 10.85 0 20.047 7.236 20.047 17.367 0 7.34-5.408 11.618-9.878 15.154-3.147 2.49-5.829 4.612-5.829 7.175v3.411c0 1.241-.724 2.171-2.067 2.171zm-4.237 29.151c-4.65 0-8.474-3.825-8.474-8.476s3.824-8.58 8.474-8.58 8.577 3.928 8.577 8.58-3.927 8.476-8.577 8.476z" fill="#d59c5e"></path>
                                    </svg>
                                    <span class="title">Other</span>
                                </a>
                            </div>
                        </div>

                        <div v-if="has_error('project_category')" class="wizard-step-error" v-html="get_error('project_category')"></div>

                        <a href="../start/" class="jt-btn-primary btn-next" @click.prevent="nextStep()"><span>Next</span></a>
                    </div>

                    <div class="wizard-step text-center" ref="size">
                        <div v-show="needRingSize">
                            <h2>Ring size</h2>

                            <div class="mgb3">Please select ring size</div>

                            <div style="max-width: 500px; margin: 0 auto">
                                <div class="form-input lg rounded">
                                    <jt-select :options="ring_size_options" placeholder="Choose ring size" search="true" v-model="ring_size"></jt-select>
                                </div>
                            </div>

                            <div v-if="has_error('ring_size')" class="wizard-step-error" v-html="get_error('ring_size')"></div>

                        </div>

                        <div v-show="needBraceletSize">
                            <h2>Bracelet size</h2>

                            <div class="mgb3">Please choose bracelet size</div>

                            <div style="max-width: 500px; margin: 0 auto">
                                <div class="form-input lg rounded">
                                    <jt-select :options="bracelet_size_options" placeholder="Choose bracelet size" v-model="bracelet_size"></jt-select>
                                </div>
                            </div>

                            <div v-if="has_error('bracelet_size')" class="wizard-step-error" v-html="get_error('bracelet_size')"></div>
                        </div>

                        <div>
                            <a href="../start/" class="jt-btn-primary btn-next" @click.prevent="nextStep()"><span>Next</span></a>
                        </div>

                        <div class="mgt3">
                            <a href="../start/" class="btn-skip" @click.prevent="unknown_size = true; nextStep()">I'm not sure
                                about the size</a>
                        </div>
                    </div>

                    <div class="wizard-step text-center" ref="photo">
                        <div style="max-width:800px;margin:0 auto">
                            <h2 class="mbg6">Sketches and photos</h2>

                            <div class="mgb3">Show us how you want your design to look.</div>

                            <jt-file-upload @change="attachments = $event" description="Drop your inspirational photos here" label="Upload" button_class="jt-btn-primary primary" :attachments="uploads" :options="file_upload_options"></jt-file-upload>
                        </div>

                        <div v-if="has_error('project_files')" class="wizard-step-error" v-html="get_error('project_files')"></div>

                        <div>
                            <a href="../start/" class="jt-btn-primary btn-wide btn-next" @click.prevent="nextStep()"><span>Next</span></a>
                        </div>

                        <div class="mgt2 md-mgt3">
                            <a href="../start/" class="btn-skip u-small" @click.prevent="no_photo = true; nextStep()" style="margin-top:0">i don't have any photos</a>
                        </div>

                    </div>

                    <div class="wizard-step text-center" ref="details">
                        <div class="mgb4">
                            <h2>Name your project</h2>

                            <div style="max-width: 400px; margin:0 auto">
                                <div class="form-group" :class="has_error('project_title') ? 'has-error' : ''">
                                    <input v-model="project_title" type="text" class="form-control lg rounded" placeholder="Type the name here">
                                    <div v-if="has_error('project_title')" class="text-danger" v-html="get_error('project_title')"></div>
                                </div>
                            </div>
                        </div>

                        <div>
                            <h2>Describe your piece</h2>

                            <div class="mgb3">Provide any special instructions and ideas you have for your piece.*</div>

                            <div class="wide800">
                                <div class="form-group" :class="has_error('project_description') ? 'has-error' : ''">
                                    <textarea v-model="project_description" rows="5" class="form-control lg rounded" placeholder="Go ahead, get creative. And remember, weâre partners in this process. Itâs our job to design your dream piece, but itâs your job to provide the information that will help us understand your vision."></textarea>
                                    <div v-if="has_error('project_description')" class="text-danger" v-html="get_error('project_description')"></div>
                                </div>
                            </div>
                        </div>

                        <a href="../start/" class="jt-btn-primary btn-next" @click.prevent="nextStep()"><span>Next</span></a>
                    </div>

                    <div class="wizard-step text-center" ref="budget">
                        <h2>Your budget</h2>

                        <div style="max-width:600px;margin:0 auto">

                            <div v-if="project_budget_mode === 'choice'">
                                <div class="mgb3 x-center">Do you have a budget in mind? Sharing it will allow us to
                                    suggest options that fit.
                                </div>

                                <div class="y-gap-2" style="max-width:400px;margin:0 auto">
                                    <a v-for="choice in project_budget_choices" href="../start/" @click.prevent="setBudgetChoice(choice)" class="jt-choice-btn" :class="{active: project_budget_choice == choice}">{{ choice.label }}</a>
                                </div>
                            </div>

                            <div v-else="">
                                <div class="mgb3 x-center">Do you have any specific budget in mind? Sharing it with us
                                    will let us offer you metal and stone options that fit your budget.
                                </div>

                                <div class="mgb2 x-center">
                                    <div class="jt-flex-row">
                                        <div class="w50 ph3 x-left">
                                            <span class="text-primary u-normal">{{ budgetLabelFrom }}</span>
                                        </div>
                                        <div class="w50 ph3 x-right">
                                            <span class="text-primary u-normal">{{ budgetLabelTo }}</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="ph3">
                                    <jt-range-input name="project_budget" :value="[project_budget_step_from, project_budget_step_to]" min="0" max="12" :step="1" :step_diff="1" @change-handle0="project_budget_step_from = $event" @change-handle1="project_budget_step_to = $event"></jt-range-input>
                                </div>
                            </div>

                        </div>

                        <div v-if="has_error('project_budget')" class="wizard-step-error text-center" v-html="get_error('project_budget')"></div>

                        <a href="../start/" class="jt-btn-primary btn-next" @click.prevent="nextStep()"><span>Next</span></a>
                    </div>

                    <div class="wizard-step text-center" ref="delivery">
                        <h2>Delivery date</h2>

                        <div class="mgb2">Give us your preferred delivery date.</div>

                        <div style="max-width: 600px;margin:0 auto">
                            <div class="jt-flex-row xy-pad-1">
                                <div class="sm-w50 w100">
                                    <a href="../start/" class="jt-btn-primary" :class="{active: delivery_type === 'no-rush'}" @click.prevent="setDeliveryType('no-rush')">
                                        <span>No rush</span>
                                    </a>
                                    <div>
                                        <small>(average 4 to 6 weeks)</small>
                                    </div>
                                </div>
                                <div class="sm-w50 w100">
                                    <a href="../start/" class="jt-btn-primary" :class="{active: delivery_type === 'exact-date'}" @click.prevent="setDeliveryType('exact-date')">
                                        <span>Exact date</span>
                                    </a>
                                    <div>
                                        <small>{{ deadlineFormatted }}</small>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div v-if="has_error('deadline_date')" class="wizard-step-error" v-html="get_error('deadline_date')"></div>

                        <a v-if="!needRegister" href="../start/" class="jt-btn-primary btn-next" @click.prevent="submit" :disabled="doing_submit"><span>{{ doing_submit ? 'Submitting' : 'Submit' }} <i v-if="doing_submit" class="fa fa-circle-o-notch fa-spin"></i></span></a>
                    </div>

                    <div class="wizard-step text-center" ref="auth">
                        <h2>Nice! You're almost done</h2>

                        <div v-if="use_login" style="max-width:600px;margin: 0 auto">

                            <div class="mgb3">
                                Don't have an account with us? <a href="../start/" @click.prevent="use_login = false">Sign
                                    up.</a>
                            </div>

                            <div style="max-width:320px;margin:0 auto;">
                                <div class="form-group" :class="has_error('email') ? 'has-error' : ''">
                                    <input class="form-control lg rounded" type="text" v-model="email" placeholder="Email">
                                    <div v-if="has_error('email')" class="text-danger" v-html="get_error('email')"></div>
                                </div>

                                <div class="form-group" :class="has_error('password') ? 'has-error' : ''">
                                    <div class="form-input lg rounded">
                                        <jt-password-input name="password" placeholder="Password" v-model="password"></jt-password-input>
                                    </div>
                                    <div v-if="has_error('password')" class="text-danger" v-html="get_error('password')"></div>
                                </div>

                                <div class="form-group x-center">
                                    <a href="../my-account/forgot-password/" target="_blank">
                                        Forgot Password?                                    </a>
                                </div>
                            </div>
                        </div>

                        <div v-else="" style="max-width:600px;margin: 0 auto">
                            <div class="mgb3">All you have to do now is fill in the information below so we can reach
                                you by email or text message. We will not call you.
                            </div>

                            <div class="mgb3">
                                Already have an account? <a href="../start/" @click.prevent="use_login = true">Please log
                                    in.</a>
                            </div>

                            <div style="max-width:320px;margin:0 auto">
                                <div class="form-group" :class="has_error('display_name') ? 'has-error' : ''">
                                    <input class="form-control lg rounded" type="text" v-model="display_name" placeholder="Full name">
                                    <div v-if="has_error('display_name')" class="text-danger" v-html="get_error('display_name')"></div>
                                </div>

                                <div class="form-group" :class="has_error('email') ? 'has-error' : ''">
                                    <input class="form-control lg rounded" type="text" v-model="email" placeholder="Email">
                                    <div v-if="has_error('email')" class="text-danger" v-html="get_error('email')"></div>
                                </div>

                                <div class="form-group" :class="has_error('phone') ? 'has-error' : ''">
                                    <input class="form-control lg rounded" type="text" v-model="phone" placeholder="Mobile phone number">
                                    <div v-if="has_error('phone')" class="text-danger" v-html="get_error('phone')"></div>
                                </div>

                                <div class="form-group" :class="has_error('password') ? 'has-error' : ''">
                                    <div class="form-input lg rounded">
                                        <jt-password-input name="password" placeholder="Password" v-model="password"></jt-password-input>
                                    </div>
                                    <div v-if="has_error('password')" class="text-danger" v-html="get_error('password')"></div>
                                </div>

                                <div class="terms">
                                    <i class="fa fa-check-square-o"></i>
                                    By registering, you agree to the                                     <a href="../terms-of-use/" target="_blank">
                                        Terms of Use                                    </a>
                                </div>
                            </div>
                        </div>

                        <div class="text-center text-danger mgt2" v-if="submit_error" v-html="submit_error"></div>

                        <a href="../start/" class="jt-btn-primary btn-next" @click.prevent="submit" :disabled="doing_submit"><span>{{ doing_submit ? 'Submitting' : 'Submit' }} <i v-if="doing_submit" class="fa fa-circle-o-notch fa-spin"></i></span></a>
                    </div>

                    <div id="step-activate" class="wizard-step text-center" ref="activate">
                        <div style="max-width:600px;margin:0 auto;">
                            <div class="mgb3" style="font-size: 120%">Thank you! <strong>Please check your
                                    email</strong> and verify your account.
                            </div>

                            <p class="u-small">Didn't get the email?</p>

                            <p class="u-small">Hmmm. Have you tried checking your spam folder, or clicking the <a href="../start/" class="resend-email">re-send email</a>, or even <a href="../start/" @click.prevent="changeEmail">changing
                                    your email</a> address?</p>
                        </div>

                        <div class="mgt2 text-primary">
                            <i class="fa fa-instagram"></i> <a href="https://www.instagram.com/jewelrythis/" class="jt-follow-instagram" target="_blank" rel="noopener nofollow">Follow us on Instagram</a>
                        </div>

                        <div v-if="insta_photos_loading" class="text-center text-muted"><i class="fa fa-circle-o-notch fa-spin fa-2x"></i></div>

                        <div v-if="insta_photos.length" class="jt-flex-row jt-flex-center">
                            <div v-for="photo in insta_photos" class="md-w30 sm-w50 w100 ph1 pv1">
                                <a :href="photo.link" class="jt-hoverlay jt-follow-instagram jt-follow-instagram-photo" target="_blank" rel="noopener nofollow">
                                    <img :src="photo.original" :alt="photo.caption">
                                    <div class="jt-hoverlay-hover">
                                        <i class="fa fa-instagram fa-2x"></i>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>

                                            <div class="wizard-step text-center" ref="thankYou">
                            <div class="wide800">
                                <div class="mgb2">
                                    <img src="../app/themes/jt-rebrand/img/icons/rebrand/wear.svg" onerror="this.src='https://www.jewelrythis.com/app/themes/jt-rebrand/img/icons/rebrand/wear.png'">                                </div>

                                <h2>Woohoo!</h2>

                                <div class="y-gap-2 mgb2 wiz-thank-you">
                                    <div>You've started a custom jewelry project with us, and we couldn't be more
                                        excited! Our team of skilled designers and craftsmen will work tirelessly to
                                        bring your vision to life and create a piece that's truly one-of-a-kind.
                                    </div>
                                    <div>We take pride in providing exceptional customer service, and we're committed to
                                        responding promptly to your inquiries. Our working hours are from Monday to
                                        Saturday, 8am to 6pm PT. You should expect to receive a reply within 1 business
                                        day or even faster, as our master designers are passionate about their work and
                                        may reach out to you outside of our working hours.
                                    </div>
                                    <div>Thank you for choosing us to create your custom jewelry piece! We can't wait to
                                        see your vision come to life and make something truly special together!
                                    </div>
                                    <div>Forgot something? You can find your project on your <a href="../my-account/">dashboard</a>.
                                    </div>
                                </div>

                            </div>
                        </div>
                    
                    <div class="wizard-step text-center" ref="lowBudget">
                        <h2>Your budget</h2>

                        <div class="wide600">

                            <div class="y-gap-3">

                                <div class="x-center">Designing custom high end jewelry can be challenging on a tight
                                    budget, with costs typically starting at ${{ project_budget_choice ?
                                    project_budget_choice.range[1] : '' }}. Would you be willing to consider adjusting
                                    your budget?
                                </div>

                                <div class="y-gap-2 wide400">
                                    <a href="../start/" class="jt-choice-btn" :class="{active: low_budget_firm === true}" @click.prevent="setLowBudgetFirm(true)">Sorry, my budget is firm</a>
                                    <a href="../start/" class="jt-choice-btn" :class="{active: low_budget_firm === false}" @click.prevent="setLowBudgetFirm(false)">I have some flexibility</a>
                                </div>

                                <div v-if="has_error('low_budget_firm')" class="wizard-step-error" v-html="get_error('low_budget_firm')"></div>
                            </div>
                        </div>

                        <a href="../start/" class="jt-btn-primary btn-next" @click.prevent="nextStep()"><span>Next</span></a>
                    </div>

                    <div class="wizard-step text-center" ref="lowBudgetFirm">
                        <h2>Thank you!</h2>

                        <div class="wide800">
                            <div class="y-gap-3 x-center">
                                <div>
                                    We appreciate your honesty and completely understand that everybody has a budget to
                                    work with.
                                </div>
                                <div>
                                    Regrettably, we are unable to take on your project at this time. However, we would
                                    love for you to stay connected with us by browsing our <a href="../gallery/" target="_blank" rel="noopener nofollow">gallery</a> or <a href="https://www.instagram.com/jewelrythis/" target="_blank" rel="noopener nofollow">following us</a> on Instagram for our latest
                                    designs. We hope for the chance to work with you in the future, and thank you once
                                    again for considering us.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="wizard-step text-center" ref="aiChat">
    <div class="wide600">
        <h2>Thank you</h2>

        <div class="mgb4">
            Please hold on while â{{ aiChat.assistantFriendlyName }}â, our Virtual Assistant, reviews your project before it is assigned to one of our Master Designers.<br>
            We appreciate your patience!
        </div>

        <div class="y-gap-2">
            <div v-for="msg in aiChat.messages" class="wiz-msg" :class="{'wiz-msg-user': msg.role === 'user', 'wiz-msg-pending': msg.message_id === 'last-user-message'}">
                <div class="wiz-msg-avatar">
                    <div v-if="msg.role !== 'user' &amp;&amp; aiChat.assistantHtmlAvatar" v-html="aiChat.assistantHtmlAvatar"></div>
                    <span v-else="">{{ msg.role === 'user' ? aiChat.userTextAvatar : aiChat.assistantTextAvatar }}</span>
                </div>

                <div class="wiz-msg-body">
                    <div>
                        <div class="wiz-msg-content" v-html="msg.message"></div>
                        <div v-if="msg.attachments &amp;&amp; msg.attachments.length > 0" class="jt-flex-row fl-start xy-pad-1">
                            <div v-for="att in msg.attachments" class="w100px">
                                <a href="../start/" @click.prevent="aiChatOpenMessageAttachment(msg, att)" class="u-block bordered u-rounded" style="overflow:hidden">
                                    <img :src="att.thumbnail_url" class="w100 u-block">
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div v-if="aiChat.loading" class="wiz-msg">
                <div class="wiz-msg-avatar">{{ aiChat.assistantTextAvatar }}</div>
                <div class="wiz-msg-body">
                    <div class="wiz-msg-content">
                        <div class="wiz-typing">
                            <div class="wiz-typing-dot"></div>
                            <div class="wiz-typing-dot"></div>
                            <div class="wiz-typing-dot"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div v-if="aiChat.failed" class="text-danger x-left u-danger" style="font-size:16px">Something went wrong. Please try again within few minutes or <a href="../start/" @click.prevent="nextStep();">skip</a> to next step.</div>

            <div v-if="aiChat.minMessagesToNext === null || aiChat.messages.length >= aiChat.minMessagesToNext">
                <a href="../start/" class="jt-btn-primary btn-next" @click.prevent="nextStep()" style="margin-top:0"><span>Next</span></a>
            </div>

            <div class="jt-flex-row fl-al-center x-pad-1">
                <div class="fl-grow">
                    <div class="wiz-msg-body">
                        <div class="wiz-msg-content" style="width:100%">
                            <jt-textarea-auto-size v-model="aiChat.userMessage" class="w100 u-block" placeholder="Enter message" :submit-on-enter="true" @enter-submit="aiChatSendMessage()" :disabled="aiChat.starting || aiChat.sending || aiChat.loading" ref="aiChatInput" min-rows="2" max-rows="5"></jt-textarea-auto-size>
                        </div>
                    </div>
                </div>
                <div>
                    <button type="button" class="jt-btn round" title="Send message" @click.prevent="aiChatSendMessage()" :disabled="aiChat.starting || aiChat.sending || aiChat.loading">
                        <i class="fa fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            function inIframe() {
                try {
                    return window.self !== window.top;
                } catch (e) {
                    return true;
                }
            }

            var budget_steps = ['Min', 100, 300, 500, 1000, 1500, 2000, 3000, 4000, 5000, 7000, 10000, 'Max'];

            var app_data = _.extend({
                current_step: 'start',
                deadline_date: null,
                start_date: '',
                ring_size: '',
                no_photo: false,
                unknown_size: false,
                bracelet_size: '',
                bracelet_size_options: cdos_common.bracelet_sizes,
                attachments: [],
                uploads: [],
                project_category: '',
                project_title: '',
                project_description: '',
                delivery_type: '',
                delivery_date: '',
                display_name: '',
                is_logged_in: false,
                is_activated: false,
                email: '',
                email_verified: false,
                phone: '',
                password: '',
                use_login: false,
                doing_submit: false,
                show_tutorial: true,
                file_upload_options: {"max_files":10,"max_image_size":20971520,"max_file_size":125829120,"allowed_image_formats":["jpg","jpeg","png","gif","tif","tiff","webp"],"allowed_submit_formats":["3dm","stl","jcd","zip","rar","max","vtf","jpg","jpeg","png","gif","tif","tiff","webp","doc","docx","pdf","xls","xlsx","mp4","m4v","mov","wmv","avi","mpg","ogv","3gp","3g2"],"form_data":{"nonce":"e1f9d697d8","action":"ft_upload_file_custom"}},
                is_animating: false,
                submit_error: '',
                submit_message: '',
                insta_photos: [],
                insta_photos_loading: false,
                insta_photos_params: {
                    count: 6,
                    nonce: "54324e00e8",
                },

                project_budget_step_from: 0,
                project_budget_step_to: budget_steps.length - 1,
                project_budget_steps: budget_steps,
                project_budget_choices: [],
                project_budget_choice: null,
                project_budget_mode: null,
                low_budget_firm: null,
                log_lbf: true,
                lbf_stop: true,
                callme_disabled: false,
                new_project: '',
                qls: null,
            }, {"customize_product":"","project_category":"","project_title":"","project_description":"","deadline_date":"","current_step":"start","ring_size":"","ring_size_options":[{"value":"3","code":"3","html":"3 <span class=\"text-muted\">(US)<\/span>","title":"3 (US)","size_mm":14.07},{"value":"3\u00bc","code":"3\u00bc","html":"3\u00bc <span class=\"text-muted\">(US)<\/span>","title":"3\u00bc (US)","size_mm":14.27},{"value":"3\u00bd","code":"3\u00bd","html":"3\u00bd <span class=\"text-muted\">(US)<\/span>","title":"3\u00bd (US)","size_mm":14.48},{"value":"3\u00be","code":"3\u00be","html":"3\u00be <span class=\"text-muted\">(US)<\/span>","title":"3\u00be (US)","size_mm":14.68},{"value":"4","code":"4","html":"4 <span class=\"text-muted\">(US)<\/span>","title":"4 (US)","size_mm":14.88},{"value":"4\u00bc","code":"4\u00bc","html":"4\u00bc <span class=\"text-muted\">(US)<\/span>","title":"4\u00bc (US)","size_mm":15.09},{"value":"4\u00bd","code":"4\u00bd","html":"4\u00bd <span class=\"text-muted\">(US)<\/span>","title":"4\u00bd (US)","size_mm":15.29},{"value":"4\u00be","code":"4\u00be","html":"4\u00be <span class=\"text-muted\">(US)<\/span>","title":"4\u00be (US)","size_mm":15.49},{"value":"5","code":"5","html":"5 <span class=\"text-muted\">(US)<\/span>","title":"5 (US)","size_mm":15.7},{"value":"5\u00bc","code":"5\u00bc","html":"5\u00bc <span class=\"text-muted\">(US)<\/span>","title":"5\u00bc (US)","size_mm":15.9},{"value":"5\u00bd","code":"5\u00bd","html":"5\u00bd <span class=\"text-muted\">(US)<\/span>","title":"5\u00bd (US)","size_mm":16.1},{"value":"5\u00be","code":"5\u00be","html":"5\u00be <span class=\"text-muted\">(US)<\/span>","title":"5\u00be (US)","size_mm":16.31},{"value":"6","code":"6","html":"6 <span class=\"text-muted\">(US)<\/span>","title":"6 (US)","size_mm":16.51},{"value":"6\u00bc","code":"6\u00bc","html":"6\u00bc <span class=\"text-muted\">(US)<\/span>","title":"6\u00bc (US)","size_mm":16.71},{"value":"6\u00bd","code":"6\u00bd","html":"6\u00bd <span class=\"text-muted\">(US)<\/span>","title":"6\u00bd (US)","size_mm":16.92},{"value":"6\u00be","code":"6\u00be","html":"6\u00be <span class=\"text-muted\">(US)<\/span>","title":"6\u00be (US)","size_mm":17.12},{"value":"7","code":"7","html":"7 <span class=\"text-muted\">(US)<\/span>","title":"7 (US)","size_mm":17.32},{"value":"7\u00bc","code":"7\u00bc","html":"7\u00bc <span class=\"text-muted\">(US)<\/span>","title":"7\u00bc (US)","size_mm":17.53},{"value":"7\u00bd","code":"7\u00bd","html":"7\u00bd <span class=\"text-muted\">(US)<\/span>","title":"7\u00bd (US)","size_mm":17.73},{"value":"7\u00be","code":"7\u00be","html":"7\u00be <span class=\"text-muted\">(US)<\/span>","title":"7\u00be (US)","size_mm":17.93},{"value":"8","code":"8","html":"8 <span class=\"text-muted\">(US)<\/span>","title":"8 (US)","size_mm":18.14},{"value":"8\u00bc","code":"8\u00bc","html":"8\u00bc <span class=\"text-muted\">(US)<\/span>","title":"8\u00bc (US)","size_mm":18.34},{"value":"8\u00bd","code":"8\u00bd","html":"8\u00bd <span class=\"text-muted\">(US)<\/span>","title":"8\u00bd (US)","size_mm":18.54},{"value":"8\u00be","code":"8\u00be","html":"8\u00be <span class=\"text-muted\">(US)<\/span>","title":"8\u00be (US)","size_mm":18.75},{"value":"9","code":"9","html":"9 <span class=\"text-muted\">(US)<\/span>","title":"9 (US)","size_mm":18.95},{"value":"9\u00bc","code":"9\u00bc","html":"9\u00bc <span class=\"text-muted\">(US)<\/span>","title":"9\u00bc (US)","size_mm":19.15},{"value":"9\u00bd","code":"9\u00bd","html":"9\u00bd <span class=\"text-muted\">(US)<\/span>","title":"9\u00bd (US)","size_mm":19.35},{"value":"9\u00be","code":"9\u00be","html":"9\u00be <span class=\"text-muted\">(US)<\/span>","title":"9\u00be (US)","size_mm":19.56},{"value":"10","code":"10","html":"10 <span class=\"text-muted\">(US)<\/span>","title":"10 (US)","size_mm":19.76},{"value":"10\u00bc","code":"10\u00bc","html":"10\u00bc <span class=\"text-muted\">(US)<\/span>","title":"10\u00bc (US)","size_mm":19.96},{"value":"10\u00bd","code":"10\u00bd","html":"10\u00bd <span class=\"text-muted\">(US)<\/span>","title":"10\u00bd (US)","size_mm":20.17},{"value":"10\u00be","code":"10\u00be","html":"10\u00be <span class=\"text-muted\">(US)<\/span>","title":"10\u00be (US)","size_mm":20.37},{"value":"11","code":"11","html":"11 <span class=\"text-muted\">(US)<\/span>","title":"11 (US)","size_mm":20.57},{"value":"11\u00bc","code":"11\u00bc","html":"11\u00bc <span class=\"text-muted\">(US)<\/span>","title":"11\u00bc (US)","size_mm":20.78},{"value":"11\u00bd","code":"11\u00bd","html":"11\u00bd <span class=\"text-muted\">(US)<\/span>","title":"11\u00bd (US)","size_mm":20.98},{"value":"11\u00be","code":"11\u00be","html":"11\u00be <span class=\"text-muted\">(US)<\/span>","title":"11\u00be (US)","size_mm":21.18},{"value":"12","code":"12","html":"12 <span class=\"text-muted\">(US)<\/span>","title":"12 (US)","size_mm":21.39},{"value":"12\u00bc","code":"12\u00bc","html":"12\u00bc <span class=\"text-muted\">(US)<\/span>","title":"12\u00bc (US)","size_mm":21.59},{"value":"12\u00bd","code":"12\u00bd","html":"12\u00bd <span class=\"text-muted\">(US)<\/span>","title":"12\u00bd (US)","size_mm":21.79},{"value":"12\u00be","code":"12\u00be","html":"12\u00be <span class=\"text-muted\">(US)<\/span>","title":"12\u00be (US)","size_mm":22},{"value":"13","code":"13","html":"13 <span class=\"text-muted\">(US)<\/span>","title":"13 (US)","size_mm":22.2},{"value":"13\u00bc","code":"13\u00bc","html":"13\u00bc <span class=\"text-muted\">(US)<\/span>","title":"13\u00bc (US)","size_mm":22.4},{"value":"13\u00bd","code":"13\u00bd","html":"13\u00bd <span class=\"text-muted\">(US)<\/span>","title":"13\u00bd (US)","size_mm":22.61},{"value":"13\u00be","code":"13\u00be","html":"13\u00be <span class=\"text-muted\">(US)<\/span>","title":"13\u00be (US)","size_mm":22.81},{"value":"14","code":"14","html":"14 <span class=\"text-muted\">(US)<\/span>","title":"14 (US)","size_mm":23.01},{"value":"14\u00bc","code":"14\u00bc","html":"14\u00bc <span class=\"text-muted\">(US)<\/span>","title":"14\u00bc (US)","size_mm":23.22},{"value":"14\u00bd","code":"14\u00bd","html":"14\u00bd <span class=\"text-muted\">(US)<\/span>","title":"14\u00bd (US)","size_mm":23.42},{"value":"14\u00be","code":"14\u00be","html":"14\u00be <span class=\"text-muted\">(US)<\/span>","title":"14\u00be (US)","size_mm":23.62},{"value":"15","code":"15","html":"15 <span class=\"text-muted\">(US)<\/span>","title":"15 (US)","size_mm":23.83},{"value":"15\u00bc","code":"15\u00bc","html":"15\u00bc <span class=\"text-muted\">(US)<\/span>","title":"15\u00bc (US)","size_mm":24.03},{"value":"15\u00bd","code":"15\u00bd","html":"15\u00bd <span class=\"text-muted\">(US)<\/span>","title":"15\u00bd (US)","size_mm":24.23},{"value":"15\u00be","code":"15\u00be","html":"15\u00be <span class=\"text-muted\">(US)<\/span>","title":"15\u00be (US)","size_mm":24.43},{"value":"16","code":"16","html":"16 <span class=\"text-muted\">(US)<\/span>","title":"16 (US)","size_mm":24.64}],"submit_params":{"action":"start_project_v2","nonce":"2a5c8068aa","aiChatInit":1},"is_logged_in":false,"is_activated":false,"email":"","email_verified":false,"show_tutorial":true,"new_project":"","thankYouVersion":"ai","start_params":false,"project_budget_mode":"choice","project_budget_choices":[{"label":"$100 - $1000","range":[100,"1000"],"low_budget":true,"flex_range":[100,1500]},{"label":"$1001 - $2000","range":[1001,2000]},{"label":"$2001 - $3000","range":[2001,3000]},{"label":"$3001 - $5000","range":[3001,5000]},{"label":"$5001+","range":[5001,7000]}],"lbf_stop":false,"aiChat":{"loading":false,"running":false,"starting":false,"sending":false,"failed":false,"messages":[],"userMessage":"","userTextAvatar":"You","assistantFriendlyName":"Bella","assistantTextAvatar":"Bella","assistantHtmlAvatar":"<svg width=\"100\" height=\"100\" viewBox=\"0 0 26.458 26.458\"><path d=\"M0 0h26.458v26.458H0z\" fill=\"#141414\"\/><g stroke=\"#ccaa62\" fill=\"none\" stroke-width=\"1.852\"><path d=\"M8.723 5.097l5.807.005c1.894 0 3.429 1.613 3.429 3.507s-1.535 3.375-3.429 3.375l-5.806.003z\"\/><path d=\"M14.237 22.282c-3.249 0-5.521-2.202-5.521-5.134l.007-5.16 6.163.027c2.873 0 4.917 2.073 4.917 5.04 0 2.835-2.287 5.227-5.567 5.227\"\/><\/g><\/svg>","minMessagesToNext":2,"minMessagesToContinue":6,"waitReplyTimeout":90000,"minQls":null,"maxQls":null,"state":null,"run_status":null,"checkInterval":3000,"hideFooter":false,"actionParams":{"Start":{"action":"CdosOpenaiStartProjectAssistant\/Start"},"CheckStatus":{"action":"CdosOpenaiStartProjectAssistant\/CheckStatus"},"SendMessage":{"action":"CdosOpenaiStartProjectAssistant\/SendMessage"}}}} );

            var mixins = [jt_vue_mixins.validate];
            if( window.jt_start && window.jt_start.mixins ) {
                mixins = mixins.concat( window.jt_start.mixins );
            }

            window.start_project_app = new Vue({
                el: '#start-project',
                mixins: mixins,
                data: app_data,

                computed: {
                    canPrev: function () {
                        return !!this.getPrevStepFrom(this.current_step);
                    },

                    stages: function () {
                        var stages = [
                            {steps: ['start', 'size'], title: 'Type'},
                            {steps: ['photo', 'details'], title: 'Details'},
                            {steps: ['budget', 'lowBudget', 'lowBudgetFirm', 'delivery'], title: 'Budget and delivery'},
                        ];

                        if (this.needRegister) {
                            stages.push({title: 'Last step'});
                        }

                        return stages;
                    },

                    currentStage: function () {
                        for (var i in this.stages) {
                            var stage = this.stages[i];

                            if (!stage.steps) {
                                return i;
                            }

                            if (stage.steps.indexOf(this.current_step) >= 0) {
                                return i;
                            }
                        }

                        return this.stages.length;
                    },

                    needRingSize: function () {
                        return this.project_category === 'engagement_ring'
                            || this.project_category === 'ring'
                            || this.project_category === 'men_ring';
                    },

                    needBraceletSize: function () {
                        return this.project_category === 'bracelet';
                    },

                    needDeadline: function () {
                        return this.delivery_type === 'exact-date';
                    },

                    budgetLabelFrom: function () {
                        var val = this.project_budget_steps[this.project_budget_step_from];
                        return isNaN(parseFloat(val)) ? val : ('$' + val);
                    },

                    budgetLabelTo: function () {
                        var val = this.project_budget_steps[this.project_budget_step_to];
                        return isNaN(parseFloat(val)) ? val : ('$' + val);
                    },

                    datepickerStartDate: function () {
                        if (_.isDate(this.start_date)) {
                            return this.start_date;
                        } else if (this.start_date.match(/^\d+-\d+-\d+/)) {
                            return new Date(this.start_date);
                        }

                        var date = new Date();

                        date.setDate(date.getDate() + 14);
                        date.setHours(0, 0, 0);

                        return date;
                    },

                    needRegister: function () {
                        return !this.is_logged_in;
                    },

                    deadlineFormatted: function () {
                        if (!this.deadline_date) {
                            return '';
                        }

                        return ft_date_i18n(null, this.deadline_date);
                    },
                },

                mounted: function () {
                    var that = this;

                    if (_.isString(this.deadline_date) && this.deadline_date.match(/^\d+-\d+-\d+$/)) {
                        this.deadline_date = new Date(this.deadline_date);
                    }

                    JT_Ring_Size(this.$refs.ring_size_input);

                    if ('project_budget_from' in app_data) {
                        this.project_budget_step_from = Math.max(0, budget_steps.indexOf(parseInt(app_data.project_budget_from)));
                    }

                    if ('project_budget_to' in app_data) {
                        this.project_budget_step_to = Math.max(0, isNaN(parseInt(app_data.project_budget_to)) ? budget_steps.length - 1 : budget_steps.indexOf(parseInt(app_data.project_budget_to)));
                    }

                    if (this.project_budget_step_from >= this.project_budget_step_to) {
                        this.project_budget_step_from = 0;
                        this.project_budget_step_to = budget_steps.length - 1;
                    }

                    jQuery(this.$refs[this.current_step]).addClass('active');


                    if (this.show_tutorial) {
                        this.showTutorial();
                    }

                    jQuery(this.$el).on('click', 'a[href="#login"]', function (e) {
                        e.preventDefault();
                        that.use_login = true;
                    });

                    this.$el.style.display = '';

                    window.funnelStep = this.current_step;

                    this.initStep( this.current_step );
                },

                watch: {
                    project_category: function () {
                        this.set_error('project_category', false);
                    },
                    project_title: function () {
                        this.set_error('project_title', false);
                    },
                    project_description: function () {
                        this.set_error('project_description', false);
                    },
                    delivery_type: function () {
                        this.set_error('deadline_date', false);
                    },
                    deadline_date: function () {
                        this.set_error('deadline_date', false);
                    },
                    display_name: function () {
                        this.set_error('display_name', false);
                    },
                    email: function () {
                        this.set_error('email', false);
                    },
                    phone: function () {
                        this.set_error('phone', false);
                    },
                    password: function () {
                        this.set_error('password', false);
                    },
                    attachments: function () {
                        this.set_error('project_files', false);
                    },
                    bracelet_size: function () {
                        this.set_error('bracelet_size', false);
                    },
                    ring_size: function () {
                        this.set_error('ring_size', false);
                    },
                    use_login: function () {
                        this.submit_error = '';
                    },
                },

                methods: {
                    showTutorial: function () {
                        var modal = new FT_Modal({
                            content: jQuery('#template-start-tour').text(),
                            show_title: false,
                            show_footer: false,
                            destroy: true,
                            centered: true,
                            backdrop: 'static',
                            modal_class: 'wizard-modal wizard-modal-s',
                            z: 30000,
                        });

                        modal.on('open', function () {
                            this.vue_app = new Vue({
                                el: this.$el.find('.modal-body')[0],

                                data: {
                                    slide: 0,
                                    numSlides: 0,
                                },

                                computed: {
                                    isLastSlide: function () {
                                        return this.numSlides > 0 && this.slide === (this.numSlides - 1);
                                    }
                                },

                                mounted: function () {
                                    if (this.$refs.carousel) {
                                        this.numSlides = this.$refs.carousel.slideElements.length;
                                    }
                                },

                                methods: {
                                    close: function () {
                                        modal.close();
                                    }
                                }
                            });
                        });

                        modal.open();
                    },

                    setBudgetChoice: function (choice) {
                        this.project_budget_choice = choice;
                        this.nextStep();
                    },

                    setLowBudgetFirm: function (status) {
                        this.low_budget_firm = status;
                        this.nextStep();
                    },

                    setDeliveryType: function (type) {
                        var that = this;
                        this.delivery_type = type;

                        if (this.delivery_type === 'exact-date') {
                            this.chooseDeadline(function () {
                                if (that.needRegister) {
                                    that.nextStep();
                                }
                            });
                        } else {
                            if (this.needRegister) {
                                this.nextStep();
                            }
                        }
                    },

                    chooseDeadline: function (cb) {
                        var that = this;

                        var modal = new FT_Modal({
                            content: jQuery('#template-start-pick-date').text(),
                            show_title: false,
                            show_footer: false,
                            destroy: true,
                            centered: true,
                            backdrop: 'static',
                            modal_class: 'wizard-modal wizard-modal-m',
                        });

                        modal.on('open', function () {
                            this.vue_app = new Vue({
                                el: this.$el.find('.modal-body')[0],

                                data: {
                                    the_date: that.deadline_date,
                                    start_date: that.datepickerStartDate,
                                    view_date: that.deadline_date || that.datepickerStartDate,
                                },

                                methods: {
                                    close: function () {
                                        modal.close();
                                    },

                                    apply: function () {
                                        that.deadline_date = this.the_date;
                                        this.close();
                                        cb && cb();
                                    },
                                }
                            });
                        });

                        modal.open();
                    },

                    changeEmail: function () {
                        var that = this;

                        window.jt_activation.changeEmail(this.email, function (new_email) {
                            that.email = new_email;
                        });
                    },

                    validate: function () {
                        this.errors = {};

                        if (this.project_category === '') {
                            this.set_error('project_category', 'Please choose jewelry category.');
                        }
                    },

                    validateStepStart: function () {
                        if (this.project_category === '') {
                            this.set_error('project_category', 'Please choose jewelry category.');
                        }
                    },

                    validateStepSize: function () {
                        if (this.needRingSize) {
                            if (this.unknown_size) {
                                return;
                            }

                            this.set_error('ring_size', this.ring_size === '' ? 'Please choose ring size.' : false);
                        }

                        if (this.needBraceletSize) {
                            if (this.unknown_size) {
                                return;
                            }

                            this.set_error('bracelet_size', cvalidate(this.bracelet_size, {
                                type: 'text',
                                nblank: true,
                                value_error: 'Please choose bracelet size.'
                            }));
                        }
                    },

                    validateStepPhoto: function () {
                        if (!this.no_photo) {
                            this.set_error('project_files', this.attachments.length === 0 ? 'Please provide sketch or photo.' : false);
                        }
                    },

                    validateStepDetails: function () {
                        this.set_error('project_title', cvalidate(this.project_title, {
                            type: 'text',
                            nblank: true,
                            value_error: 'Please enter project name.',
                        }));

                        this.set_error('project_description', cvalidate(this.project_description, {
                            type: 'text',
                            nblank: true,
                            value_error: 'Please describe your project.',
                        }));
                    },

                    validateStepBudget: function () {
                        if (this.project_budget_mode === 'choice') {
                            if (!this.project_budget_choice) {
                                this.set_error('project_budget', 'Please choose preferred budget.');
                            }
                        }
                    },

                    validateStepLowBudget: function () {
                        if (null === this.low_budget_firm) {
                            this.set_error('low_budget_firm', 'Please answer this question.');
                        }
                    },

                    validateStepDelivery: function () {
                        if (this.delivery_type === '') {
                            this.set_error('deadline_date', 'Please choose delivery date.');
                        }

                        if (this.needDeadline && !this.deadline_date) {
                            this.set_error('deadline_date', 'Please choose delivery date.');
                        }
                    },

                    validateUserDetails: function () {
                        this.errors = {};

                        this.set_error('display_name', cvalidate(this.display_name, {
                            type: 'text',
                            nblank: true,
                            value_error: 'Please enter your full name.',
                        }));

                        this.set_error('email', cvalidate(this.email, {
                            type: 'email',
                            value_error: 'Please enter valid email address.',
                        }));

                        this.set_error('phone', cvalidate(this.phone, {
                            type: 'phone',
                            value_error: 'Please enter valid phone number.',
                        }));

                        this.set_error('password', cvalidate(this.password, {
                            type: 'text',
                            min_length: 1,
                            min_length_error: 'Password is required.',
                            value_error: 'Password is required.',
                        }));
                    },

                    validateUserLogin: function () {
                        this.errors = {};

                        this.set_error('email', cvalidate(this.email, {
                            type: 'email',
                            value_error: 'Please enter valid email address.',
                        }));

                        this.set_error('password', cvalidate(this.password, {
                            type: 'text',
                            min_length: 1,
                            min_length_error: 'Password is required.',
                            value_error: 'Password is required.',
                        }));
                    },

                    validateStep: function (step) {
                        this.errors = {};

                        var method = 'validateStep' + step.charAt(0).toUpperCase() + step.slice(1);

                        if (method in this) {
                            this[method]();
                        }
                    },

                    initStep: function (step) {
                        if (step === 'size') {
                            this.unknown_size = false;
                        }

                        if (step === 'photo') {
                            this.no_photo = false;
                        }

                        if (this.lbf_stop) {
                            if (step === 'lowBudgetFirm' && this.log_lbf) {
                                this.log_lbf = false;
                                jQuery.post(ajaxurl, {action: 'ft_log', event: 'lbf'});
                            }
                        } else {
                            if (step === 'delivery' && this.low_budget_firm && this.log_lbf) {
                                this.log_lbf = false;
                                jQuery.post(ajaxurl, {action: 'ft_log', event: 'lbf'});
                            }
                        }

                        this.$emit( 'init-step', { step: step });
                    },

                    goStep: function (step, back) {
                        if (this.is_animating) {
                            return;
                        }

                        var that = this;
                        var old_step = this.current_step;
                        var new_step = step;

                        if (old_step === new_step) {
                            return;
                        }

                        if (!back) {
                            this.validateStep(old_step);
                            if (_.any(this.errors)) {
                                return;
                            }
                        }

                        this.initStep(new_step);

                        var $old_step = this.$refs[old_step];
                        var $new_step = this.$refs[new_step];

                        if (!$new_step || !$old_step) {
                            return;
                        }

                        var left1 = !back ? '0%' : '-100%';
                        var left2 = !back ? '-100%' : '0%';
                        var dir = !back ? 'left' : 'right';

                        this.is_animating = true;

                        jQuery($old_step).addClass('active old ' + dir).css('left', left1).animate({left: left2}, {
                            complete: function () {
                                jQuery(this).removeClass('active old ' + dir).css('left', '');
                            }
                        });

                        jQuery($new_step).addClass('active new ' + dir).css('left', left1).animate({left: left2}, {
                            complete: function () {
                                jQuery(this).removeClass('new ' + dir).css('left', '');
                                that.is_animating = false;
                            }
                        });

                        jt_scroll_top(0, null, 400);

                        this.current_step = new_step;

                        window.funnelStep = new_step;
                    },

                    getNextStepFrom: function (step) {
                        var override = this.callMixin( 'getNextStepFrom', step )

                        if( undefined !== override ) {
                            return override;
                        }

                        switch (step) {
                            case 'start':
                                if (this.needRingSize || this.needBraceletSize) {
                                    return 'size';
                                }
                                return 'photo';
                            case 'size':
                                return 'photo';
                            case 'photo':
                                return 'details';
                            case 'details':
                                return 'budget';
                            case 'budget':
                                if (this.project_budget_mode === 'choice') {
                                    if (this.project_budget_choice && this.project_budget_choice.low_budget) {
                                        return 'lowBudget';
                                    }
                                }
                                return 'delivery';
                            case 'lowBudget':
                                if (this.low_budget_firm === true && this.lbf_stop) {
                                    return 'lowBudgetFirm';
                                }

                                return 'delivery';
                            case 'lowBudgetFirm':
                                return null;

                            case 'delivery':
                                if (this.is_logged_in) {
                                    return 'thankYou';
                                }

                                return 'auth';
                            case 'auth':
                                return 'thankYou';
                        }
                    },

                    getPrevStepFrom: function (step) {
                        switch (step) {
                            case 'size':
                                return 'start';
                            case 'photo':
                                if (this.needRingSize || this.needBraceletSize) {
                                    return 'size';
                                }
                                return 'start';
                            case 'details':
                                return 'photo';
                            case 'budget':
                                return 'details';
                            case 'lowBudget':
                                return 'budget';
                            case 'lowBudgetFirm':
                                return null;
                            case 'delivery':
                                if (this.project_budget_mode === 'choice') {
                                    if (this.project_budget_choice && this.project_budget_choice.low_budget) {
                                        return 'lowBudget';
                                    }
                                }
                                return 'budget';
                            case 'auth':
                                return 'delivery';
                        }
                    },

                    prevStep: function () {
                        var prev_step = this.getPrevStepFrom(this.current_step);

                        if (!prev_step) {
                            return;
                        }

                        this.goStep(prev_step, true);
                    },

                    nextStep: function () {
                        var next_step = this.getNextStepFrom(this.current_step);

                        if (!next_step) {
                            return;
                        }

                        this.goStep(next_step);
                    },

                    setCategory: function (cat) {
                        this.project_category = cat;
                        window.funnelStep = cat;

                        this.nextStep();
                    },

                    formatDateYMD: function (date) {
                        if (!date) {
                            return '';
                        }

                        if (!_.isDate(date)) {
                            date = new Date(date);
                        }

                        return ft_date_i18n('Y-m-d', date);
                    },

                    getProjectDetails: function() {
                        var project_details = {
                            post_title: this.project_title,
                            post_description: this.project_description,
                            category: this.project_category,
                            attachments: this.attachments,
                            delivery_type: this.delivery_type,
                        };

                        if (this.project_budget_mode === 'choice') {
                            var budget_range = this.project_budget_choice.range;

                            if (this.project_budget_choice.low_budget && this.project_budget_choice.flex_range && this.low_budget_firm === false) {
                                // Use flex range.
                                budget_range = this.project_budget_choice.flex_range;
                            }

                            project_details.project_budget_from = budget_range[0];
                            project_details.project_budget_to = budget_range[1];
                        } else {
                            project_details.project_budget_from = this.project_budget_steps[this.project_budget_step_from];
                            project_details.project_budget_to = this.project_budget_steps[this.project_budget_step_to];
                        }

                        if (this.needDeadline) {
                            project_details.deadline = this.formatDateYMD(this.deadline_date);
                        }

                        if (this.needRingSize && !this.unknown_size) {
                            project_details.usa_ring_size = this.ring_size;
                        }

                        if (this.needBraceletSize && !this.unknown_size) {
                            project_details.bracelet_size = this.bracelet_size;
                        }

                        if (this.customize_product) {
                            project_details.customize_product = this.customize_product;
                        }

                        return project_details;
                    },

                    getSubmitData: function() {
                        var data = _.extend({
                            project_details: this.getProjectDetails(),
                        }, this.submit_params);

                        if (this.start_params) {
                            data.start_params = this.start_params;
                        }

                        if (this.needRegister) {
                            if (this.use_login) {
                                data.user_login = {
                                    email: this.email,
                                    password: this.password,
                                };
                            } else {
                                data.user_details = {
                                    display_name: this.display_name,
                                    email: this.email,
                                    phone: this.phone,
                                    password: this.password,
                                };
                            }
                        }

                        var data_promise = new FT_Promise( undefined, this );
                        var res_promise = data_promise;

                        this.eachMixinMethod( 'getSubmitData', function( method ) {
                            res_promise = method.call( this, res_promise );
                        });

                        data_promise.resolveAsync( data );

                        return res_promise;
                    },


                    submit: function () {
                        if (this.doing_submit) {
                            return;
                        }

                        if (this.needRegister) {
                            if (this.use_login) {
                                this.validateUserLogin();
                            } else {
                                this.validateUserDetails();
                            }
                        } else {
                            this.validateStep(this.current_step);
                        }

                        if (_.any(this.errors)) {
                            return;
                        }


                        this.doing_submit = true;
                        this.submit_error = '';

                        this.getSubmitData().then( function( post_data ) {
                            jt_ajax_postp( post_data )
                                .then(function (res) {
                                    this.$emit('submit-success', res );

                                    window.fbq && window.fbq('track', 'NewLead');

                                    if (inIframe()) {
                                        top.postMessage({
                                            type: 'jt-start-success',
                                            data: res,
                                        }, '*');

                                        return;
                                    }

                                    if ('redirect' in res) {
                                        document.location = res.redirect;
                                        return;
                                    }

                                    if ( res ) {
                                        this.new_project = res.new_project;
                                        this.qls = res.qls;
                                    }

                                    this.nextStep();
                                }, this )
                                .catch(function (payload) {
                                    this.submit_error = payload.message;

                                    this.$emit('submit-failed');
                                }, this )
                                .always( function() {
                                    this.doing_submit = false;
                                }, this );

                            this.$emit('submit');
                        }, this );
                    },

                    callMe: function () {
                        this.callme_disabled = true;

                        jQuery.post(ajaxurl, {
                            action: 'cdos_start_call_me',
                            new_project: this.new_project,
                        });

                        var modal = new FT_Modal({
                            content: jQuery('#template-start-callme-message').text().replace('{phone}', this.phone),
                            show_title: false,
                            show_footer: false,
                            destroy: true,
                            centered: true,
                            backdrop: 'static',
                            modal_class: 'wizard-modal wizard-modal-m',
                            center_buttons: true,
                            buttons: [
                                {action: 'close', title: 'Close', primary: true},
                            ]
                        });

                        modal.open();
                    },

                    openChat: function () {
                        if (window.Intercom) {
                            window.Intercom('show');
                        } else if (window.ftIntercomOpen) {
                            ftIntercomOpen();
                        }
                    },

                    callMixin: function( method, ...args ) {
                        if( this.$options.mixins ) {
                            for( var mi in this.$options.mixins ) {
                                var mixin = this.$options.mixins[mi];
                                if( mixin.methods && method in mixin.methods ) {
                                    var mixinRes = mixin.methods[method].call( this, ...args );
                                    if( undefined !== mixinRes ) {
                                        return mixinRes;
                                    }
                                }
                            }
                        }
                    },

                    eachMixinMethod: function( method, cb ) {
                        if( this.$options.mixins ) {
                            for( var mi in this.$options.mixins ) {
                                var mixin = this.$options.mixins[mi];
                                if( mixin.methods && method in mixin.methods ) {
                                    cb.call( this, mixin.methods[method] );
                                }
                            }
                        }
                    }
                }
            });
        });
    </script>

    <script type="text/html" id="template-start-tour">
        <h1 class="text-center mgt0 mgb4">How it works</h1>

<jt-carousel ref="carousel" @change-slide="slide = $event" nomouse="true">
	<jt-carousel-item>
		<div class="jt-flex-col-center text-center">
			<img src="https://www.jewelrythis.com/app/themes/jt-rebrand/img/icons/rebrand/dream.svg" width="100"  onerror="this.src='https://www.jewelrythis.com/app/themes/jt-rebrand/img/icons/rebrand/dream.png'">			
			<div class="card-text">
				<h2>1. Dream it</h2>

				<p>Tell us about your dream jewelry piece including your budget and deadline.</p>
			</div>
		</div>
	</jt-carousel-item>

	<jt-carousel-item>
		<div class="jt-flex-col-center text-center">

			<img src="https://www.jewelrythis.com/app/themes/jt-rebrand/img/icons/rebrand/design.svg" width="100"  onerror="this.src='https://www.jewelrythis.com/app/themes/jt-rebrand/img/icons/rebrand/design.png'">			
			<div class="card-text">
				<h2>2. Design it</h2>

				<p>Our elite team will help you to choose the perfect gem and turn your dream into a breathtaking design.</p>
			</div>
		</div>
	</jt-carousel-item>

	<jt-carousel-item>
		<div class="jt-flex-col-center text-center">

			<img src="https://www.jewelrythis.com/app/themes/jt-rebrand/img/icons/rebrand/see.svg" width="100"  onerror="this.src='https://www.jewelrythis.com/app/themes/jt-rebrand/img/icons/rebrand/see.png'">			
			<div class="card-text">
				<h2>3. See it</h2>

				<p>Approve the beautiful render of your piece. Want a change? No worries,weâre on it!</p>
			</div>
		</div>
	</jt-carousel-item>

	<jt-carousel-item>
		<div class="jt-flex-col-center text-center">
			<img src="https://www.jewelrythis.com/app/themes/jt-rebrand/img/icons/rebrand/wear.svg" width="100"  onerror="this.src='https://www.jewelrythis.com/app/themes/jt-rebrand/img/icons/rebrand/wear.png'">			
			<div class="card-text">
				<h2>4. Wear it</h2>

				<p>Now you get to wear your dream. Your jewelry piece is made in precious metals with the highest-quality gemstones, piece by piece, especially for you and no one else!</p>
			</div>

		</div>
	</jt-carousel-item>
</jt-carousel>

<div class="wizard-tutorial-footer text-center">
	<div v-if="numSlides > 0" class="jt-carousel-indicators pv3">
		<a v-for="(idx1, idx0) in numSlides" href="#" class="default" :class="{active: slide === idx0}" @click.prevent="$refs.carousel.goStep(idx0)"></a>
	</div>

	<div class="jt-flex-row x-pad-1">
		<div class="fl-grow">
			<a href="#" class="jt-btn-primary mute w100" @click.prevent="close"><span>Skip</span></a>
		</div>
		<div class="fl-grow">
			<a v-if="isLastSlide" href="#" class="jt-btn-primary primary w100" @click.prevent="close()"><span>Let's start</span></a>
			<a v-else href="#" class="jt-btn-primary primary w100" @click.prevent="$refs.carousel.next(1)"><span>Next</span></a>
		</div>
	</div>
</div>    </script>

    <script type="text/html" id="template-start-callme-message">
        <div class="x-center">
            <div class="mgb3">
                <h3>Thank you!</h3>
                We will contact you at {phone} within the next 10 minutes.
            </div>
            <a href="#" data-action="close" class="jt-btn btn-mid rounded primary">Close</a>
        </div>
    </script>

    <script type="text/html" id="template-start-pick-date">
        <div class="mgb2">
            <jt-datepicker v-model="the_date" :start_date="start_date" :view_date="view_date"></jt-datepicker>
        </div>
        <div class="jt-flex-row xy-pad-1 x-center">
            <div class="w100 sm-w50">
                <button type="button" class="jt-btn-primary btn-mid" @click.prevent="close"><span>Cancel</span></button>
            </div>
            <div class="w100 sm-w50">
                <button type="button" class="jt-btn-primary primary btn-mid" @click.prevent="apply"
                        :disabled="!the_date"><span>Pick this date</span></button>
            </div>
        </div>
    </script>
	</div><!-- #main -->
<div id="footer" class="pv-4-6">
<div class="jt-container ph2">
	<div class="jt-flex-row mgh-1">
		<div class="w100 md-w25 ph1 x-center">
			<div class="footer-logo">
									<a class="brand-image" title="JewelryThis" href="../">
						<img src="../app/themes/jt-rebrand/img/rebrand/logo2.svg" width="84" height="66" alt="JewelryThis logo" loading="lazy">					</a>
							</div>

						<div class="footer-address text-meta u-upper pv3 mgb2">
				<div class="widget_text widget"><div class="textwidget custom-html-widget"><address>The Jewelry exchange building<br> 861 Sixth Ave, Suite 720,<br> San Diego, CA 92101</address></div></div>			</div>
					</div>

		<div class="w100 md-w50 ph1">
			<div class="jt-flex-row">
				<div class="w50">
					<div class="widget"><div class="menu-widget menu-footer-1"><ul id="menu-footer-1" class="menu"><li id="menu-item-jt_start_project" class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item menu-item-jt_start_project"><a href="../start/" aria-current="page">Start your project</a></li>
<li id="menu-item-166762" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-166762"><a href="../gallery/">Gallery</a></li>
<li id="menu-item-166766" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-166766"><a href="../success-stories/">Success Stories</a></li>
<li id="menu-item-340432" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-340432"><a href="../custom-jewelry-reviews-testimonials/">Reviews</a></li>
<li id="menu-item-328464" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-328464"><a href="../meet-our-team/">Meet Our Team</a></li>
<li id="menu-item-wholesale" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-wholesale"><a href="../register/">Wholesale</a></li>
</ul></div></div>				</div>
				<div class="w50">
					<div class="widget"><div class="menu-widget menu-footer-2"><ul id="menu-footer-2" class="menu"><li id="menu-item-166767" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-166767"><a href="../about-us/">About Us</a></li>
<li id="menu-item-166768" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-166768"><a href="../blog/">Blog</a></li>
<li id="menu-item-166770" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-166770"><a href="../faq/">FAQs</a></li>
<li id="menu-item-332847" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-332847"><a href="../buyers-guide/">Buyerâs Guide</a></li>
<li id="menu-item-166771" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-166771"><a href="../contact-us/">Contact Us</a></li>
<li id="menu-item-250068" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-250068"><a href="../careers/">Careers</a></li>
</ul></div></div>				</div>
			</div>
		</div>

		<div class="w100 md-w25 ph1">
			<div class="widget_text widget"><div class="textwidget custom-html-widget"><ul class="social-links">
	<li><a href="https://www.facebook.com/jewelrythis" target="_blank" rel="noopener" aria-label="Facebook"><i class="jti jti-facebook"></i></a></li>
	<li><a href="https://twitter.com/JewelryThis" target="_blank" rel="noopener" aria-label="Twitter"><i class="jti jti-twitter"></i></a></li>
	<li><a href="https://www.linkedin.com/company/jewelrythis" target="_blank" rel="noopener" aria-label="LinkedIn"><i class="jti jti-linkedin"></i></a></li>
	<li><a href="https://www.pinterest.com/jewelrythis/" target="_blank" rel="noopener" aria-label="Pinterest"><i class="jti jti-pinterest"></i></a></li>
	<li><a href="https://www.youtube.com/user/jewelrythis" target="_blank" rel="noopener" aria-label="Youtube"><i class="jti jti-youtube"></i></a></li>
	<li><a href="https://www.instagram.com/jewelrythis/" target="_blank" rel="noopener" aria-label="Instagram"><i class="jti jti-instagram"></i></a></li>
</ul></div></div>		</div>
	</div>

			<div class="footer-last pt4 mgt4">
			<div class="widget_text widget"><div class="textwidget custom-html-widget"><div class="jt-flex-row xy-pad-2" style="align-items:center">
	
	<div class="w100 md-w1-3 md-fl-ord-2 jt-flex-row jt-flex-center">
		<div class="w50 ph2 x-center">
			<img src="../app/uploads/2022/05/Group-42.png" width="183" height="122" alt="JBT - retail member" loading="lazy">
		</div>
		<div class="w50 ph2 x-center">
			<img src="../app/uploads/2022/05/Group-41.png" width="183" height="149" alt="Jewelers of America member" loading="lazy">
		</div>
	</div>
		<div class="w100 md-w1-3 md-fl-ord-3 u-upper u-bold u-muted-50 x-center md-right u-small" style="font-size:12px">
<a href="../privacy-policy/" target="_blank">Privacy Policy</a> | <a href="../terms-of-use/" target="_blank">Terms of Service</a> | <a href="../contact-us/#opt-in-opt-out" target="_blank">Opt-in / Opt-out</a>
	</div>
	<div class="w100 md-w1-3 md-fl-ord-1 u-muted-50 u-upper u-bold x-center md-left u-small">
		Â©2025 JewelryThis LLC. All rights reserved
	</div>
</div>
</div></div>		</div>
	</div>
</div>
</div>
<script type="speculationrules">
{"prefetch":[{"source":"document","where":{"and":[{"href_matches":"\/*"},{"not":{"href_matches":["\/wp\/wp-*.php","\/wp\/wp-admin\/*","\/app\/uploads\/*","\/app\/*","\/app\/plugins\/*","\/app\/themes\/jt-rebrand\/*","\/*\\?(.+)"]}},{"not":{"selector_matches":"a[rel~=\"nofollow\"]"}},{"not":{"selector_matches":".no-prefetch, .no-prefetch a"}}]},"eagerness":"conservative"}]}
</script>
<script id="IntercomSettingsScriptTag">// Intercom for WordPress | v1.1 | https://wordpress.org/plugins/intercom-for-wordpress
window.intercomSettings = {"app_id":"aabe76deb94eb586aec2e3a2425058604b7ac237","custom_launcher_selector":"a[href*=\"\/pg\/contact-us\"]","hide_default_launcher":true};
</script>
<script>(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/aabe76deb94eb586aec2e3a2425058604b7ac237';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()</script>
		<script type="text/html" id="ft_notifications_menu_template" data-empty="You have no new notifications.">
			<% _.each( items, function( item ) { %>
			<div class="ft-notify-item <%= item.is_read == 1 ? 'ft-notify-item-read' : 'ft-notify-item-unread' %>">
				<a href="<%- item.url %>" class="<%- item.link_class %>">
					<% if( item.icon ) { 
					       print( item.icon );
					   } else if( item.is_important == 1 ) { %>
					<i class="fa fa-exclamation-triangle is-danger"></i>
					<% } else { %>
					<i class="fa fa-bell"></i>
					<% } %>
					<span class="ft-notify-text">
						<span class="ft-notify-title"><%= item.title %></span>
					</span>
					<span class="ft-notify-date"><%- item.diff_date %></span>
				</a>
			</div>
			<% }); %>
			<% if( total_count > 0 ) { %>
			<div class="ft-notify-all">
				<a href="/notifications/">View all</a>
			</div>
			<% } %>
		</script>
			<script type="text/javascript">
		(function () {
			var c = document.body.className;
			c = c.replace(/woocommerce-no-js/, 'woocommerce-js');
			document.body.className = c;
		})();
	</script>
	<link rel="stylesheet" id="theme-vue-components-css" href="../app/themes/jt-rebrand/css/rebrand/jt-vue-components.css?ver=25.6.2" type="text/css" media="all">
<script type="text/javascript" src="../wp/wp-includes/js/underscore.min.js?ver=1.13.7" id="underscore-js"></script>
<script type="text/javascript" src="../app/plugins/fabthat/TIVWP/js/xvalid.min.js?ver=25.6.2" id="xvalid-js"></script>
<script type="text/javascript" id="fabthat-commons-js-extra">
/* <![CDATA[ */
var localize = {"file_wrong_format":"Invalid file type: $1","file_mach_size":"The file $1 is too large. Max. allowed size is $2 Mb","file_is_exist":"File has already been added","deny_upload_current_file":"$1 files are not allowed here","system_error":"System error","title_max_length":"30","title_long":"Title must not be longer than 30 characters","title_empty":"Title is empty","description_max_length":"1000","description_long":"Description must not be longer than 1000 characters","description_empty":"Description is empty","over_size":"You have exceeded the allowable size","image_file_missed":"Please add image file(s)","source_file_missed":"Please add downloadable file(s)","price_error":"Price must be between $1$ and $2$","popup_text_for_checkbox":"When you make your first design free, you give the community an opportunity to check out your designs as well as help drive traffic to your page where visitors can see what else you have to offer.","category_error":"Please choose a category","email_empty":"Email is empty","submit_btn_text_click":"Uploading, please wait...","submit_btn_text_resubmit":"Resubmit","img_path":"https:\/\/www.jewelrythis.com\/app\/themes\/jt-rebrand\/img","spinner":"<i class=\"fa fa-circle-o-notch fa-spin\"><\/i>","currency_prefix":"$"};
/* ]]> */
</script>
<script type="text/javascript" src="../app/plugins/fabthat/TIVWP/js/commons.min.js?ver=25.6.2" id="fabthat-commons-js"></script>
<script type="text/javascript" src="../app/plugins/tivwp-google-analytics/js/tivwp-wc-ga.min.js?ver=25.6.2" id="tivwp-wc-ga-js"></script>
<script type="text/javascript" src="../app/themes/jt-rebrand/bootstrap/js/bootstrap.min.js?ver=25.6.2" id="bootstrap-js"></script>
<script type="text/javascript" src="../app/themes/jt-rebrand/js/jquery.swipe.min.js?ver=25.6.2" id="jquery-swipe-js"></script>
<script type="text/javascript" id="tivwp-wc-one-theme-js-extra">
/* <![CDATA[ */
var wc_one = {"adding_to_cart":"Adding to cart..."};
/* ]]> */
</script>
<script type="text/javascript" src="../app/themes/jt-rebrand/js/wc-one-theme.min.js?ver=25.6.2" id="tivwp-wc-one-theme-js"></script>
<script type="text/javascript" src="../app/themes/jt-rebrand/js/vendor/vue.min.js?ver=25.6.2" id="theme-vue-js"></script>
<script type="text/javascript" src="../app/plugins/fabthat/TIVWP/js/selectize.min.js?ver=25.6.2" id="selectize-js"></script>
<script type="text/javascript" id="jt-ring-size-js-extra">
/* <![CDATA[ */
var jt_ring_size = {"sizes":[{"value":"usa-3","mm":14.07,"region":"usa","text":"3 (US)","search":"3 3"},{"value":"usa-3\u00bc","mm":14.27,"region":"usa","text":"3 1\/4  (US)","search":"3 1\/4  3.25 "},{"value":"usa-3\u00bd","mm":14.48,"region":"usa","text":"3 1\/2  (US)","search":"3 1\/2  3.5 "},{"value":"usa-3\u00be","mm":14.68,"region":"usa","text":"3 3\/4  (US)","search":"3 3\/4  3.75 "},{"value":"usa-4","mm":14.88,"region":"usa","text":"4 (US)","search":"4 4"},{"value":"usa-4\u00bc","mm":15.09,"region":"usa","text":"4 1\/4  (US)","search":"4 1\/4  4.25 "},{"value":"usa-4\u00bd","mm":15.29,"region":"usa","text":"4 1\/2  (US)","search":"4 1\/2  4.5 "},{"value":"usa-4\u00be","mm":15.49,"region":"usa","text":"4 3\/4  (US)","search":"4 3\/4  4.75 "},{"value":"usa-5","mm":15.7,"region":"usa","text":"5 (US)","search":"5 5"},{"value":"usa-5\u00bc","mm":15.9,"region":"usa","text":"5 1\/4  (US)","search":"5 1\/4  5.25 "},{"value":"usa-5\u00bd","mm":16.1,"region":"usa","text":"5 1\/2  (US)","search":"5 1\/2  5.5 "},{"value":"usa-5\u00be","mm":16.31,"region":"usa","text":"5 3\/4  (US)","search":"5 3\/4  5.75 "},{"value":"usa-6","mm":16.51,"region":"usa","text":"6 (US)","search":"6 6"},{"value":"usa-6\u00bc","mm":16.71,"region":"usa","text":"6 1\/4  (US)","search":"6 1\/4  6.25 "},{"value":"usa-6\u00bd","mm":16.92,"region":"usa","text":"6 1\/2  (US)","search":"6 1\/2  6.5 "},{"value":"usa-6\u00be","mm":17.12,"region":"usa","text":"6 3\/4  (US)","search":"6 3\/4  6.75 "},{"value":"usa-7","mm":17.32,"region":"usa","text":"7 (US)","search":"7 7"},{"value":"usa-7\u00bc","mm":17.53,"region":"usa","text":"7 1\/4  (US)","search":"7 1\/4  7.25 "},{"value":"usa-7\u00bd","mm":17.73,"region":"usa","text":"7 1\/2  (US)","search":"7 1\/2  7.5 "},{"value":"usa-7\u00be","mm":17.93,"region":"usa","text":"7 3\/4  (US)","search":"7 3\/4  7.75 "},{"value":"usa-8","mm":18.14,"region":"usa","text":"8 (US)","search":"8 8"},{"value":"usa-8\u00bc","mm":18.34,"region":"usa","text":"8 1\/4  (US)","search":"8 1\/4  8.25 "},{"value":"usa-8\u00bd","mm":18.54,"region":"usa","text":"8 1\/2  (US)","search":"8 1\/2  8.5 "},{"value":"usa-8\u00be","mm":18.75,"region":"usa","text":"8 3\/4  (US)","search":"8 3\/4  8.75 "},{"value":"usa-9","mm":18.95,"region":"usa","text":"9 (US)","search":"9 9"},{"value":"usa-9\u00bc","mm":19.15,"region":"usa","text":"9 1\/4  (US)","search":"9 1\/4  9.25 "},{"value":"usa-9\u00bd","mm":19.35,"region":"usa","text":"9 1\/2  (US)","search":"9 1\/2  9.5 "},{"value":"usa-9\u00be","mm":19.56,"region":"usa","text":"9 3\/4  (US)","search":"9 3\/4  9.75 "},{"value":"usa-10","mm":19.76,"region":"usa","text":"10 (US)","search":"10 10"},{"value":"usa-10\u00bc","mm":19.96,"region":"usa","text":"10 1\/4  (US)","search":"10 1\/4  10.25 "},{"value":"usa-10\u00bd","mm":20.17,"region":"usa","text":"10 1\/2  (US)","search":"10 1\/2  10.5 "},{"value":"usa-10\u00be","mm":20.37,"region":"usa","text":"10 3\/4  (US)","search":"10 3\/4  10.75 "},{"value":"usa-11","mm":20.57,"region":"usa","text":"11 (US)","search":"11 11"},{"value":"usa-11\u00bc","mm":20.78,"region":"usa","text":"11 1\/4  (US)","search":"11 1\/4  11.25 "},{"value":"usa-11\u00bd","mm":20.98,"region":"usa","text":"11 1\/2  (US)","search":"11 1\/2  11.5 "},{"value":"usa-11\u00be","mm":21.18,"region":"usa","text":"11 3\/4  (US)","search":"11 3\/4  11.75 "},{"value":"usa-12","mm":21.39,"region":"usa","text":"12 (US)","search":"12 12"},{"value":"usa-12\u00bc","mm":21.59,"region":"usa","text":"12 1\/4  (US)","search":"12 1\/4  12.25 "},{"value":"usa-12\u00bd","mm":21.79,"region":"usa","text":"12 1\/2  (US)","search":"12 1\/2  12.5 "},{"value":"usa-12\u00be","mm":22,"region":"usa","text":"12 3\/4  (US)","search":"12 3\/4  12.75 "},{"value":"usa-13","mm":22.2,"region":"usa","text":"13 (US)","search":"13 13"},{"value":"usa-13\u00bc","mm":22.4,"region":"usa","text":"13 1\/4  (US)","search":"13 1\/4  13.25 "},{"value":"usa-13\u00bd","mm":22.61,"region":"usa","text":"13 1\/2  (US)","search":"13 1\/2  13.5 "},{"value":"usa-13\u00be","mm":22.81,"region":"usa","text":"13 3\/4  (US)","search":"13 3\/4  13.75 "},{"value":"usa-14","mm":23.01,"region":"usa","text":"14 (US)","search":"14 14"},{"value":"usa-14\u00bc","mm":23.22,"region":"usa","text":"14 1\/4  (US)","search":"14 1\/4  14.25 "},{"value":"usa-14\u00bd","mm":23.42,"region":"usa","text":"14 1\/2  (US)","search":"14 1\/2  14.5 "},{"value":"usa-14\u00be","mm":23.62,"region":"usa","text":"14 3\/4  (US)","search":"14 3\/4  14.75 "},{"value":"usa-15","mm":23.83,"region":"usa","text":"15 (US)","search":"15 15"},{"value":"usa-15\u00bc","mm":24.03,"region":"usa","text":"15 1\/4  (US)","search":"15 1\/4  15.25 "},{"value":"usa-15\u00bd","mm":24.23,"region":"usa","text":"15 1\/2  (US)","search":"15 1\/2  15.5 "},{"value":"usa-15\u00be","mm":24.43,"region":"usa","text":"15 3\/4  (US)","search":"15 3\/4  15.75 "},{"value":"usa-16","mm":24.64,"region":"usa","text":"16 (US)","search":"16 16"}],"maxOptions":"40"};
/* ]]> */
</script>
<script type="text/javascript" src="../app/plugins/fabthat/TIVWP/js/jt-ring-size.min.js?ver=25.6.2" id="jt-ring-size-js"></script>
<script type="text/javascript" src="../wp/wp-includes/js/jquery/ui/core.min.js?ver=1.13.3" id="jquery-ui-core-js"></script>
<script type="text/javascript" src="../app/plugins/fabthat/TIVWP/js/jquery.fileupload.min.js?ver=10.31.0" id="jquery-fileupload-js"></script>
<script type="text/html" id="template-jt-sort-list">
<ul class="jt-sort-list" :class="myClass">
	<li v-for="item in myDragItems" ref="items">
		<div v-if="item === null" class="jt-sort-list-item placeholder" :style="{height: myDragHeight}"></div>
		<div v-else class="jt-sort-list-item">
			<a href="#" class="jt-drag-handle"></a>
			<div class="jt-sort-list-item-content">
				<slot v-bind:item="item"></slot>
			</div>
		</div>
	</li>
</ul>
</script>
<script type="text/javascript">
	Vue.component('jt-sort-list', {
		template: '#template-jt-sort-list',
		props: ['value', 'spaced', 'options'],

		data: function() {
			return {
				myItems: this.value,
				myIsDrag: false,
				myDragIdx: null,
				myDropIdx: null,
				myDragHeight: '',
				myDragOpacity: this.options && this.options.drag_opacity || '0.7',
			}
		},

		watch: {
			value: function() {
				this.myItems = this.value;
			}
		},

		computed: {
			myClass: function() {
				return {
					spaced: this.spaced,
				}
			},

			myDragItems: function() {
				if( !this.myIsDrag ) {
					return this.myItems;
				}

				var dragItems = this.myItems.slice(0, this.myDragIdx ).concat( this.myItems.slice(this.myDragIdx + 1) );
				dragItems.splice(this.myDropIdx, 0, null);

				return dragItems;
			},
		},

		mounted: function() {
			var that = this;
			var dragEl = null;
			var rects = null;
			var offset = [0, 0];

			function onDragStart(e) {
				if( dragEl ) {
					onDragEnd();
				}

				var idx = null;

				rects = _.map(that.$refs.items, function( x ) {
					return x.getBoundingClientRect();
				});

				for( var i in rects ) {
					var rect = rects[i];

					if( e.y >= rect.top && e.y < rect.bottom ) {
						idx = parseInt(i);
						break;
					}
				}

				if( null === idx ) {
					return;
				}

				var dragItem = that.$refs.items[idx];
				offset = rects[idx].top - e.y;

				that.myIsDrag = true;
				that.myDragIdx = that.myDropIdx = idx;
				that.myDragHeight = dragItem.clientHeight + 'px';

				dragEl = document.createElement('div');
				dragEl.className = 'jt-sort-list-drag-item';
				dragEl.innerHTML = dragItem.innerHTML;
				dragEl.style.position = 'fixed';
				dragEl.style.top = (e.y + offset) + 'px';
				dragEl.style.left = rects[idx].left + 'px';
				dragEl.style['z-index'] = 99999;
				dragEl.style.width = dragItem.clientWidth + 'px';
				dragEl.style.height = dragItem.clientHeight + 'px';
				dragEl.style.pointerEvents = 'none';
				dragEl.style.opacity = that.myDragOpacity;

				document.body.append( dragEl );
			}

			function onDragMove(e) {
				if( dragEl ) {
					dragEl.style.top = (e.y + offset) + 'px';

					for( var i in rects ) {
						var rect = rects[i];

						if( e.y >= rect.top && e.y < rect.bottom ) {
							that.myDropIdx = i;
							break;
						}
					}
				}
			}

			function onDragEnd() {
				if( dragEl ) {
					document.body.removeChild( dragEl );
					that.moveItem(that.myDragIdx, that.myDropIdx)	;
					that.myIsDrag = false;
				}

				dragEl = null;
			}

			function onMouseDown( e ) {
				if( e.button === 0 && e.target.className === 'jt-drag-handle' ) {
					e.preventDefault();

					onDragStart({x: e.clientX, y: e.clientY});

					that.$el.addEventListener('mousemove', onMouseMove);
					document.addEventListener('mouseup', onMouseUp);
				}
			}

			function onMouseMove( e ) {
				if( dragEl ) {
					e.preventDefault();
					onDragMove({x: e.clientX, y: e.clientY});
				}
			}

			function onMouseUp( e ) {
				if( dragEl ) {
					e.preventDefault();
					onDragEnd();
				}

				that.$el.removeEventListener('mousemove', onMouseMove);
				document.removeEventListener('mouseup', onMouseUp);
			}


			function onTouchStart( e ) {
				if( e.target.className === 'jt-drag-handle' ) {
					e.preventDefault();
					e.stopPropagation();

					onDragStart({x: e.touches[0].clientX, y: e.touches[0].clientY });

					that.$el.addEventListener('touchmove', onTouchMove);
					document.addEventListener('touchend', onTouchEnd);

					e.target.addEventListener('touchmove', onTouchMove);
					e.target.addEventListener('touchend', onTouchEnd);
				}
			}

			function onTouchMove( e ) {
				if( dragEl ) {
					e.preventDefault();
					e.stopPropagation();
					onDragMove({x: e.touches[0].clientX, y: e.touches[0].clientY })
				}
			}

			function onTouchEnd( e ) {
				if( dragEl ) {
					e.preventDefault();
					e.stopPropagation();

					onDragEnd();
				}

				that.$el.removeEventListener('touchmove', onTouchMove);
				document.removeEventListener('touchend', onTouchEnd);
			}

			this.$el.addEventListener('mousedown', onMouseDown);
			this.$el.addEventListener('touchstart', onTouchStart);
		},

		methods: {
			moveItem: function( idx1, idx2 ) {
				if( idx1 === idx2 ) {
					return;
				}

				var item = this.myItems[idx1];

				this.myItems.splice(idx1, 1);
				this.myItems.splice(idx2, 0, item);

				this.$emit('input', this.myItems );
				this.$emit('change', this.myItems );
			}
		}

	});
</script><script type="text/html" id="template-jt-file-upload">
    <div class="jt-file-upload file-drop-zone" :class="{ dragover: myDrop, 'jt-file-upload-disabled': disabled }">
        <div class="text-center">

            <p v-if="description" v-html="description"></p>
            <p v-if="description">or</p>
            <span class="btn-upload fileinput-button" :class="button_class || 'btn btn-default'">
                <span>{{ label || 'Upload' }}</span>
                <input ref="file_input" type="file" multiple :disabled="disabled"/>
            </span>
            <slot name="buttons"></slot>
        </div>

        <div v-if="myUploads.length > 0" class="fileinfo attachments">
            <jt-sort-list v-if="order" :value="myUploads" @change="orderChanged($event)" v-slot="{item: upload}" :spaced="true" :options="{drag_opacity:1}">
                <div class="file-attachment jt-file-upload-item">

                    <div class="file-thumbnail preview">
                        <img :src="upload.thumbnail_url" class="icon">
                    </div>

                    <div class="file-details">
                        <span class="file-name">{{ upload.name }}</span>
                        <div v-if="upload.started && !upload.finished" class="progress progress-striped active" style="height:7px;margin-bottom:0">
                            <div class="progress-bar progress-bar-success" role="progressbar" aria-valuemin="0" aria-valuemax="100" :style="{width: upload.progress + '%'}">
                                <span class="sr-only"></span>
                            </div>
                        </div>

                        <div v-if="upload.size" class="file-size">{{ upload.size }}</div>

                        <div v-if="upload.failed" class="text-danger">
                            <i class="fa fa-exclamation-triangle"></i> {{ upload.error_message }}
                        </div>

                        <div class="file-actions">
                            <label v-if="myChooseFeatured && canBeFeatured(upload)" class="fa-checkbox"><input type="radio" :value="upload.attachment.id" v-model="myFeatured"><i class="fa fa-star"></i> Featured</label>
                            <a v-if="deleteAllowed === undefined || deleteAllowed" href="#" class="file-remove" @click.prevent="promptDeleteItem(upload)">Delete</a>
                        </div>
                    </div>
                </div>
            </jt-sort-list>
            <div v-else>
                <div v-for="(upload, upload_idx) in myUploads" class="form-group file-attachment jt-file-upload-item">

                    <div class="file-thumbnail preview">
                        <img :src="upload.thumbnail_url" class="icon">
                    </div>

                    <div class="file-details">
                        <span class="file-name">{{ upload.name }}</span>
                        <div v-if="upload.started && !upload.finished" class="progress progress-striped active" style="height:7px;margin-bottom:0">
                            <div class="progress-bar progress-bar-success" role="progressbar" aria-valuemin="0" aria-valuemax="100" :style="{width: upload.progress + '%'}">
                                <span class="sr-only"></span>
                            </div>
                        </div>

                        <div v-if="upload.size" class="file-size">{{ upload.size }}</div>

                        <div v-if="upload.failed" class="text-danger">
                            <i class="fa fa-exclamation-triangle"></i> {{ upload.error_message }}
                        </div>

                        <div class="file-actions">
                            <label v-if="myChooseFeatured && canBeFeatured(upload)" class="fa-checkbox"><input type="radio" :value="upload.attachment.id" v-model="myFeatured"><i class="fa fa-star"></i> Featured</label>
                            <a v-if="deleteAllowed === undefined || deleteAllowed" href="#" class="file-remove" @click.prevent="promptDeleteItem(upload)">Delete</a>
                        </div>
                    </div>

                    <input v-if="name && upload.attachment && upload.attachment.id" type="hidden" :name="name" :value="upload.attachment.id">
                </div>
            </div>

        </div>
    </div>

</script>
<script>
    Vue.component('jt-file-upload', {
        template: '#template-jt-file-upload',
        props: [
            'name',
            'description',
            'label',
            'button_class',
            'callbacks',
            'options',
            'attachments',
            'featured',
            'order',
            'defer',
            'disabled',
            'deleteAllowed'
        ],

        data: function () {
            var myUploads = [];
            var myUploadsById = {};

            if (_.isArray(this.attachments) && this.attachments.length > 0) {
                for (var i in this.attachments) {
                    var upload_id = jt_rand_str();
                    var upload_item = {
                        _upload_id: upload_id,
                        attachment: this.attachments[i],
                        thumbnail_url: this.attachments[i].thumbnail_url || '',
                        name: this.attachments[i].name || '',
                        size: format_file_size(this.attachments[i].size),
                        file: null,
                        started: true,
                        finished: true,
                        failed: false,
                        progress: 100,
                        upload: null,
                        error_message: '',
                    };
                    myUploads.push( upload_item );
                    myUploadsById[upload_id] = upload_item;
                }
            }

            return {
                myUploads: myUploads,
                myUploadsById: myUploadsById,
                myDrop: false,
                myChooseFeatured: this.options && this.options.choose_featured || false,
                myFeatured: this.featured,
                myDeferredUploading: false,
                myUploadCallbacks: {},
            }
        },

        computed: {
            isReady: function () {
                for (var i in this.myUploads) {
                    var item = this.myUploads[i];
                    if (!item.finished) {
                        return false;
                    }
                }

                return true;
            },

            isEmpty: function () {
                return this.myUploads.length === 0;
            }
        },

        watch: {
            attachments: function () {
                this.setUploads();
            },

            myFeatured: function () {
                this.$emit('featured-change', this.myFeatured);
            }
        },

        mounted: function () {
            var that = this;
            var $ = jQuery;

            $(this.$refs.file_input).fileupload({
                url: ajaxurl,
                dataType: 'json',
                paramName: 'attachment[]',
                dropZone: this.$el,
                replaceFileInput: true,
                singleFileUploads: true,
                sequentialUploads: true,
                autoUpload: false,

                add: function (e, upload) {
                    if( that.disabled ) {
                        return;
                    }

                    var error = that.validateFile(upload.files[0]);

                    if (error) {
                        alert(error);
                        return;
                    }

                    upload.formData = [];

                    var form_data = that.getOption('form_data');

                    if (form_data) {
                        for (var k in form_data) {
                            upload.formData.push({name: k, value: form_data[k]});
                        }
                    }

                    var prompt_res = that.callback('prompt', [upload, function (data) {
                        for (var k in data) {
                            upload.formData.push({name: k, value: data[k]});
                        }

                        that.addUpload(upload);
                    }]);

                    if (prompt_res !== undefined) {
                        return;
                    }

                    that.addUpload(upload);
                },

                send: function (e, upload) {
                    var upload_item = that.myUploadsById[upload._upload_id];

                    if( !upload_item ) {
                        return;
                    }

                    upload_item.started = true;

                    that.$emit( 'upload-started', upload_item );
                },

                always: function (e, upload) {
                    var upload_item = that.myUploadsById[upload._upload_id];

                    if( ! upload_item) {
                        return;
                    }

                    upload_item.finished = true;

                    that.$emit( 'upload-finished', upload_item );
                },

                fail: function (e, upload) {
                    var upload_item = that.myUploadsById[upload._upload_id];

                    if( !upload_item ) {
                        return;
                    }

                    upload_item.failed = true;

                    if (upload.jqXHR && upload.jqXHR.responseJSON) {
                        upload_item.error_message = upload.jqXHR.responseJSON.message;
                    }

                    that.$emit( 'upload-failed', upload_item );
                },

                done: function (e, upload) {
                    var upload_item = that.myUploadsById[upload._upload_id];

                    if( !upload_item ) {
                        return;
                    }

                    if (upload.result && upload.result.status === 'ok') {
                        if (upload.result.files.attachment && upload.result.files.attachment.length) {
                            upload_item.uploaded = true;
                            upload_item.attachment = upload.result.files.attachment[0];
                            if (upload_item.attachment.thumbnail_url) {
                                upload_item.thumbnail_url = upload_item.attachment.thumbnail_url;
                            }

                            that.emitChange();
                        }

                        that.$emit( 'upload-success', upload_item );
                    } else if (upload.result && upload.result.message) {
                        upload_item.failed = true;
                        upload_item.error_message = upload.result.message;
                        that.$emit( 'upload-failed', upload_item );
                    } else {
                        upload_item.failed = true;
                        upload_item.error_message = 'Unknown Error';
                        that.$emit( 'upload-failed', upload_item );
                    }
                },

                progress: function (e, upload) {
                    var upload_item = that.myUploadsById[upload._upload_id];

                    if( !upload_item ) {
                        return;
                    }

                    upload_item.progress = parseInt(upload.loaded / upload.total * 100, 10);
                }
            });

            var last_drag_enter_target = null;

            $(this.$el)
                .on('dragenter', function (ev) {
                    var dt = ev.originalEvent.dataTransfer;

                    if (dt && dt.types && dt.types.indexOf && dt.types.indexOf('Files') == -1) {
                        return;
                    }
                    ev.preventDefault();
                    last_drag_enter_target = ev.target;

                    that.myDrop = true;
                })
                .on('dragleave', function (ev) {
                    ev.preventDefault();
                    if (last_drag_enter_target == ev.target) {
                        that.myDrop = false;
                    }
                })
                .on('drop', function (ev) {
                    ev.preventDefault();
                    that.myDrop = false;
                });

            if( this.defer ) {
                this.$on( 'upload-finished', this.checkDeferredUploadFinished );
            }
        },

        methods: {
            setUploads: function () {
                var myUploads = [];
                var myUploadsById = {};

                if (this.attachments && this.attachments.length > 0) {
                    for (var i in this.attachments) {
                        var upload_id = jt_rand_str();
                        var upload_item = {
                            _upload_id: upload_id,
                            attachment: this.attachments[i],
                            thumbnail_url: this.attachments[i].thumbnail_url || '',
                            name: this.attachments[i].name || '',
                            size: format_file_size(this.attachments[i].size),
                            file: null,
                            started: true,
                            finished: true,
                            failed: false,
                            progress: 100,
                            upload: null,
                            error_message: '',
                        };
                        myUploads.push( upload_item );
                        myUploadsById[upload_id] = upload_item;
                    }
                }

                this.myUploads = myUploads;
                this.myUploadsById = myUploadsById;
            },

            callback: function (name, args, deflt) {
                if (!this.callbacks || !(name in this.callbacks)) {
                    return deflt;
                }

                return this.callbacks[name].apply(undefined, args);
            },

            getOption: function (name, fallback) {
                if (!this.options || !(name in this.options)) {
                    return fallback;
                }

                return this.options[name];
            },

            addUpload: function (upload) {
                var upload_id = jt_rand_str();
                var upload_item = {
                    _upload_id: upload_id,
                    attachment: null,
                    thumbnail_url: this.getFilePreviewUrl(upload.files[0]),
                    name: upload.files[0].name,
                    size: format_file_size(upload.files[0].size),
                    file: upload.files[0],
                    started: false,
                    finished: false,
                    failed: false,
                    progress: 0,
                    upload: upload,
                    error_message: '',
                };

                this.myUploads.push(upload_item);
                this.myUploadsById[upload_id] = upload_item;

                upload._upload_id = upload_id;

                if( !this.defer ) {
                    upload.submit();
                }
            },

            deleteItem: function (item) {
                var item_index = this.myUploads.indexOf(item);

                if (item_index === -1) {
                    return;
                }

                if (item.started && !item.finished) {
                    item.upload.abort();
                }

                this.myUploads.splice(item_index, 1);

                this.emitChange();
            },

            promptDeleteItem: function (item) {
                if( !( this.deleteAllowed === undefined || this.deleteAllowed ) ) {
                    return;
                }

                var that = this;

                var res = this.callback('prompt_delete', [item, function () {
                    that.deleteItem(item);
                }], true);

                if (res) {
                    this.deleteItem(item);
                }
            },

            orderChanged: function (uploads) {
                this.myUploads = uploads;

                this.emitChange();
            },

            getFilePreviewUrl: function (file) {
                if (file.type.match('image.*')) {
                    if (window.URL && window.URL.createObjectURL) {
                        return window.URL.createObjectURL(file);
                    }
                }

                var file_ext = jt_file_ext(file);

                return localize.img_path + '/ext-' + file_ext + '.png';
            },

            emitChange: function () {
                var attachments = [];
                var attachment_ids = [];

                for (var i in this.myUploads) {
                    var attachment = this.myUploads[i].attachment;
                    if (!attachment) {
                        continue;
                    }

                    attachments.push(attachment);
                    attachment_ids.push(attachment.id);

                }

                this.$emit('input', attachment_ids);
                this.$emit('change', attachment_ids);
                this.$emit('change-attachments', attachments);
            },

            validateFile: function (file) {
                var max_files = this.getOption('max_files');

                if (max_files > 0) {
                    if (this.myUploads.length >= max_files) {
                        return this.getOption('max_files_error', 'Max %d files allowed.').replace('%d', max_files);
                    }
                }

                var allowed_formats = this.getOption('allowed_submit_formats');

                if (_.isArray(allowed_formats)) {
                    var file_ext = jt_file_ext(file);

                    if (allowed_formats.indexOf(file_ext) === -1) {
                        return this.getOption('allowed_submit_formats_error', '%s files are not allowed.').replace('%s', '.' + file_ext);
                    }
                }

                var max_file_size = this.getOption('max_file_size');

                if (max_file_size > 0 && file.size > max_file_size) {
                    return this.getOption('max_file_size_error', 'Max %s files allowed.').replace('%s', format_file_size(max_file_size));
                }

                if (file.type.match('image.*')) {
                    var max_image_size = this.getOption('max_image_size');
                    if (max_image_size > 0 && file.size > max_image_size) {
                        return this.getOption('max_image_size_error', 'Max %s images allowed.').replace('%s', format_file_size(max_image_size));
                    }
                }

                return this.callback('validateFile', [file]);
            },

            canBeFeatured: function (upload) {
                return upload.attachment && this.callback('can_featured', [upload.attachment], true);
            },

            submitDeferred: function() {
                if( !this.defer || this.myUploads.length === 0 ) {
                    return;
                }

                var started = false;

                for( var i in this.myUploads ) {
                    var upload_item = this.myUploads[i];

                    if( !upload_item.started && upload_item.upload ) {
                        started = true;
                        upload_item.upload.submit();
                    }
                }

                this.myDeferredUploading = started;

                if( started ) {
                    this.$emit( 'deferred-upload-started' );
                }
            },

            checkDeferredUploadFinished: function () {
                var has_errors = false;

                for( var i in this.myUploads ) {
                    var upload_item = this.myUploads[i];
                    if( !upload_item.finished ) {
                        return;
                    }

                    if( upload_item.failed ) {
                        has_errors = true;
                    }
                }

                this.$emit( 'deferred-upload-finished', {
                    has_errors: has_errors
                } );
            }
        }
    });
</script>
<script type="text/html" id="template-jt-range-input">
<div class="jt-range-input">
	<div class="jt-range-input-wrap">
		<div class="jt-range-input-bar">
			<div class="jt-range-input-fill" :style="fillStyle"></div>
			<div class="jt-range-input-handle left" :class="0 === myMovingHandle ? 'active' : ''" :style="{left:leftPos}"   @mousedown="startMoveHandle($event, 0)" @touchstart="startMoveHandle($event, 0)"></div>
			<div class="jt-range-input-handle right" :class="1 === myMovingHandle ? 'active' : ''" :style="{left:rightPos}" @mousedown="startMoveHandle($event, 1)" @touchstart="startMoveHandle($event, 1)"></div>
		</div>
	</div>

	<div v-if="labels && labels.length > 0" class="jt-range-input-labels">
		&nbsp;
		<span v-for="(label, label_idx) in labels" :style="getLabelStyle(label_idx)">{{ label }}</span>
	</div>

	<input v-if="name" type="hidden" :name="name + '[]'" :value="myValue[0]">
	<input v-if="name" type="hidden" :name="name + '[]'" :value="myValue[1]">
</div>
</script>
<script>
var jt_range_input_easing = {
	quad: {
		func: function(x) {
			return x * x;
		},

		inverse: function(y) {
			return Math.sqrt(y);
		}
	},
	cubic: {
		func: function(x) {
			return x * x * x;
		},

		inverse: function(y) {
			return Math.pow(y, 1/3);
		}
	}
};

Vue.component('jt-range-input', {
	template: '#template-jt-range-input',
	props: [ 'name', 'value', 'min', 'max', 'step', 'step_diff', 'labels', 'round', 'easing' ],
	data: function() {
		var min = parseFloat(this.min) || 0;
		var max = parseFloat(this.max) || 100;

		return {
			myValue: this.value || [min, max],
			myStep: _.isFunction(this.step) ? this.step : (parseFloat(this.step) || 1),
			myStepDiff: parseInt(this.step_diff) || 0,
			myMovingHandle: null,
		}
	},

	watch: {
		value: function( val ) {
			if( !_.isArray( val ) ) {
				return;
			}

			var l = Math.max(this.myMin, Math.min(this.myMax, val[0]));
			var r = Math.max(this.myMin, Math.min(this.myMax, val[1]));

			this.myValue = [l, r];
		},
	},

	computed: {
		leftPos: function() {
			return (100 * this.getHandlePos(0) ) + '%';
		},

		rightPos: function() {
			return (100 * this.getHandlePos(1)) + '%';
		},

		fillStyle: function() {
			return {
				left: (100 * this.getHandlePos(0)) + '%',
				right: (100 - (100 * this.getHandlePos(1))) + '%',
			}
		},

        myMin: function() {
            return parseFloat(this.min) || 0;
        },

        myMax: function() {
            return parseFloat(this.max) || 100;
        }
	},

	methods: {
		getLabelStyle: function( i ) {
			if( this.step !== 1 ) {
				return;
			}

			if( i === 0 ) {
				return 'left:0%';
			}

			if( i === (this.labels.length - 1) ) {
				return 'right:0%';
			}

			var p = (100 * i / (this.labels.length - 1)) + '%';

			return 'left:' + p;
		},

		getHandlePos: function( h ) {
			return this.getValuePos(this.myValue[h]);
		},

		getValuePos: function( v ) {
			var p = (v - this.myMin) / (this.myMax - this.myMin);

			if( this.easing && this.easing in jt_range_input_easing ) {
				p = jt_range_input_easing[this.easing].inverse(p);
			}

			return p;
		},

		getPosValue: function( p ) {
			if( this.easing && this.easing in jt_range_input_easing ) {
				p = Math.sign(p) * jt_range_input_easing[this.easing].func(p);
			}

			return this.myMin + (this.myMax - this.myMin) * p;
		},

		getStep: function( val ) {
			if( _.isFunction( this.myStep) ) {
				return this.myStep( val );
			}

			return this.myStep;
		},

		startMoveHandle: function( e, handle ) {
			var that = this;
			var startX;

			if( e.changedTouches ) {
				startX = e.changedTouches[0].clientX;
			} else {
				startX = e.clientX;
			}

			var startPos = [ this.getHandlePos(0), this.getHandlePos(1) ];

			e.preventDefault();
			e.stopPropagation();

			function calchandle(clientX, handle) {
				var p = (clientX - startX) / that.$el.offsetWidth;

				var curPos = startPos[handle] + p;
				//console.log(curPos);
				var curVal  = that.getPosValue(curPos);

				var step = that.getStep( curVal );
				var val = step * Math.round( curVal / step);

				if( handle === 0 ) {
					var maxVal = that.myValue[1];

					if( that.myStepDiff > 0 ) {
						maxVal = step * (Math.round(maxVal / step) - that.myStepDiff);
					}

					val = Math.min( val, maxVal );
				} else {
					var minVal = that.myValue[0];

					if( that.myStepDiff > 0 ) {
						minVal = step * (Math.round(minVal / step) + that.myStepDiff);
					}

					val = Math.max( val, minVal );
				}

				val = Math.max(that.myMin, Math.min(that.myMax, val));

				if( that.round !== undefined ) {
					val = Math.round( val * that.round ) / that.round;
				}

				return val;
			}

			function updatehandle( clientX ) {
				if( null === that.myMovingHandle ) {
					var ch0 = that.myValue[0];
					var ch1 = that.myValue[1];

					if( ch0 === ch1 ) {
						var h0 = calchandle( clientX, 0 );
						var h1 = calchandle( clientX, 1 );

						if( h0 !== that.myValue[0] ) {
							that.myMovingHandle = 0
						} else if( h1 !== that.myValue[1] ) {
							that.myMovingHandle = 1
						}
					} else {
						that.myMovingHandle = handle;
					}
				}

				if( null === that.myMovingHandle ) {
					return;
				}

				var newHandleVal = calchandle( clientX, that.myMovingHandle );

				var myValueNew = that.myValue.slice();
				myValueNew[that.myMovingHandle] = newHandleVal;

				that.myValue = myValueNew;

				that.$emit('input', that.myValue);
				that.$emit('change', that.myValue);
				that.$emit('change-handle' + that.myMovingHandle, that.myValue[that.myMovingHandle]);
			}

			function mousemove( e ) {
				e.preventDefault();
				e.stopPropagation();

				updatehandle(e.clientX);
			}

			function mouseup( e ) {
				e.preventDefault();
				e.stopPropagation();

				updatehandle(e.clientX);
				stop();
			}

			function touchmove( e ) {
				e.preventDefault();
				e.stopPropagation();

				updatehandle(e.changedTouches[0].clientX);
			}

			function touchend( e ) {
				e.preventDefault();
				e.stopPropagation();

				updatehandle(e.changedTouches[0].clientX);

				stop();
			}

			function stop() {
				document.body.removeEventListener('mousemove', mousemove);
				document.body.removeEventListener('mouseup', mouseup);
				document.body.removeEventListener('touchmove', touchmove);
				document.body.removeEventListener('touchend', touchend);

				that.myMovingHandle = null;
			}

			document.body.addEventListener('mousemove', mousemove);
			document.body.addEventListener('mouseup', mouseup);
			document.body.addEventListener('touchmove', touchmove, {passive: false});
			document.body.addEventListener('touchend', touchend, {passive: false});
		},

	}
});
</script><script type="text/html" id="template-jt-datepicker">
<div :class="myClass">
	<div class="jt-datepicker-nav">
		<a href="#" @click.prevent="toggleViewMode" class="title">{{ viewTitle }}</a>
		<a href="#" @click.prevent="prevScreen" class="prev">
			<svg class="icon fill" width="15" height="24"><path fill-rule="evenodd" d="M11.856.54l2.211 2.211-9.056 9.057 9.056 9.057-2.211 2.211L.588 11.808 11.856.54z"/></svg>
		</a>
		<a href="#" @click.prevent="nextScreen" class="next">
			<svg class="icon fill x-flip" width="15" height="24"><path fill-rule="evenodd" d="M11.856.54l2.211 2.211-9.056 9.057 9.056 9.057-2.211 2.211L.588 11.808 11.856.54z"/></svg>
		</a>
	</div>

	<div v-if="viewMode === 'days'">
		<div v-for="dow in enumDows" class="dow">{{ dow }}</div>

		<div v-for="day in enumDays" :class="day.class" @click.prevent="setDate(day.date)">
			<div class="title">{{ day.title }}</div>
		</div>
	</div>

	<div v-if="viewMode === 'months'">
		<div v-for="mon in enumMonths" :class="mon.class" @click.prevent="setMonth(mon.date)">
			<div class="title">{{ mon.title }}</div>
		</div>
	</div>

	<div v-if="viewMode === 'years'">
		<div v-for="year in enumYears" :class="year.class" @click.prevent="setYear(year.date)">
			<div class="title">{{ year.title }}</div>
		</div>
	</div>
</div>
</script>

<script type="text/html" id="template-jt-datepicker-modal">
<jt-datepicker v-model="value" :compact="compact" :view_date="viewDate" :start_date="startDate" :end_date="endDate"></jt-datepicker>
</script>
<script>
Vue.component('jt-datepicker', {
	template:'#template-jt-datepicker',
	props: ['value', 'start_date', 'end_date', 'view_date', 'compact', 'type'],

	data: function() {
		var val = '';

		if( _.isDate(this.value) ) {
			val = this.value;
		} else if( _.isString( this.value ) && this.value.match(/^\d+-\d+-\d+$/) ) {
			val = new Date( this.value );
		}

        var usingViewDate  = this.view_date || this.start_date;
		var viewDate;

        if( _.isNumber( usingViewDate ) ) {
            viewDate = new Date();
            viewDate.setDate( viewDate.getDate() + usingViewDate );
        } else if( _.isDate( usingViewDate ) ) {
			viewDate = usingViewDate;
		} else if( _.isString( usingViewDate ) && usingViewDate.match(/^\d+-\d+-\d+$/) ) {
			viewDate = new Date( usingViewDate );
		} else if( _.isDate( val ) ) {
            viewDate = val;
		} else {
			viewDate = new Date();
		}

		return {
			myValue: val,

			myYear: val && val.getFullYear(),
			myMonth: val && val.getMonth(),
			myDate: val && val.getDate(),

			viewYear: viewDate.getFullYear(),
			viewMonth: viewDate.getMonth(),
			viewDate: viewDate.getDate(),

			viewMode: 'days',
		};
	},

	computed: {
		myClass: function() {
			var res = [ this.type ? 'jt-datepicker-' + this.type : 'jt-datepicker' ];

			if( this.compact ) {
				res.push('compact');
			}

			return res;
		},

		enumYears: function() {
			var today = new Date();
			var fromYear = this.viewYear - 1;
			var res = [];

			for( var i = 0; i < 12; i++ ) {
				var theYear = fromYear + i;

				var year = {
					date: new Date(theYear, 0, 1),
					title: theYear,
					class: ['year'],
				};

				if( theYear === this.myYear ) {
					year.class.push('selected');
				}

				if( theYear === today.getFullYear() ) {
					year.class.push( 'today' );
				}

				res.push(year);
			}

			return res;
		},

		enumMonths: function() {
			var today = new Date();
			var months = this.allMon;
			var res = [];

			for( var i = 0; i < 12; i++) {
				var mon = {
					date: new Date(this.viewYear, i, 1),
					title: months[i],
					class: ['mon'],
				};

				if( i === this.myMonth && this.viewYear === this.myYear ) {
					mon.class.push('selected');
				}

				if( mon.date.getFullYear() === today.getFullYear() && mon.date.getMonth() === today.getMonth() ) {
					mon.class.push('today');
				}

				res.push(mon);
			}

			return res;
		},

		enumDays: function() {
			var today = new Date();
			var startDate = new Date(this.viewYear, this.viewMonth, 1);
			startDate.setDate(startDate.getDate() - startDate.getDay());

			var endDate = new Date(this.viewYear, this.viewMonth + 1, 0);

			if( endDate.getDay() !== 6 ) {
				endDate.setDate(endDate.getDate() + 6 - endDate.getDay())
			}

			var res = [];

			while( true ) {
				var now = new Date(startDate.getFullYear(), startDate.getMonth(), startDate.getDate());

				var day = {
					date: now,
					title: now.getDate(),
					class: ['day'],
				};

				if( now.getMonth() < this.viewMonth ) {
					day.class.push('prev');
				} else if( now.getMonth() > this.viewMonth ) {
					day.class.push('next');
				}

				if( now.getFullYear() === this.myYear && now.getMonth() === this.myMonth && now.getDate() === this.myDate ) {
					day.class.push('selected');
				}

				if( !this.isDateEnabled( now ) ) {
					day.class.push('disabled');
				}

				if( now.getFullYear() === today.getFullYear() && now.getMonth() === today.getMonth() && now.getDate() === today.getDate() ) {
					day.class.push('today');
				}

				res.push(day);

				if( now.getFullYear() === endDate.getFullYear() && now.getMonth() === endDate.getMonth() && now.getDate() === endDate.getDate() ) {
					break;
				}

				startDate.setDate(now.getDate() + 1);
			}

			return res;
		},


		viewTitle: function() {
			if( this.viewMode === 'days' ) {
				var m = this.allMonths[this.viewMonth];
				var y = this.viewYear;

				return m + ' ' + y;
			}

			if( this.viewMode === 'months' ) {
				return this.viewYear;
			}

			return '';
		},

		allMonths: function() {
			return ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
		},

		allMon: function() {
			return ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
		},

		enumDows: function() {
			return ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'];
		},

		minDate: function() {
			if( _.isDate( this.start_date ) ) {
				return this.start_date;
			} else if( _.isString( this.start_date )  ) {
				if( this.start_date.match(/^\d+-\d+-\d+$/) ) {
					return new Date( this.start_date );
				} else if( this.start_date === 'now' || this.start_date === 'today' ) {
					return new Date();
				}
			} else if( _.isNumber( this.start_date ) ) {
				var d = new Date();
				d.setDate( d.getDate() + this.start_date );
				return d;
			}

			return null;
		},

		maxDate: function() {
			if( _.isDate( this.end_date ) ) {
				return this.end_date;
			} else if( _.isString( this.end_date ) ) {
				if( this.end_date.match(/^\d+-\d+-\d+$/) ) {
					return new Date( this.end_date );
				} else if( this.start_date === 'now' || this.start_date === 'today' ) {
					return new Date();
				}
			} else if( _.isNumber( this.end_date ) ) {
				var d = new Date();
				d.setDate( d.getDate() + this.end_date );
				return d;
			}

			return null;
		},
	},

	watch: {
		value: function() {
			if( _.isDate( this.value ) && this.myValue !== this.value ) {
				this.myValue = this.value;

				this.myYear  = this.value.getFullYear();
				this.myMonth = this.value.getMonth();
				this.myDate  = this.value.getDate();

				this.viewYear = this.value.getFullYear();
				this.viewMonth = this.value.getMonth();
				this.viewDate = this.value.getDate();
			}
		}
	},

	methods: {
		prevScreen: function() {
			var prev = null;

			if( this.viewMode === 'days' ) {
				prev = new Date(this.viewYear, this.viewMonth, 0);
			} else if( this.viewMode === 'months' ) {
				prev = new Date(this.viewYear - 1, this.viewMonth, 1);
			} else if( this.viewMode === 'years' ) {
				prev = new Date(this.viewYear - 12, this.viewMonth, 1);
			}

			if( prev ) {
				this.viewYear  = prev.getFullYear();
				this.viewMonth = prev.getMonth();
				this.viewDate  = prev.getDate();
			}
		},

		nextScreen: function() {
			var prev = null;

			if( this.viewMode === 'days' ) {
				prev = new Date(this.viewYear, this.viewMonth + 1, 1);
			} else if( this.viewMode === 'months' ) {
				prev = new Date(this.viewYear + 1, this.viewMonth, 1);
			} else if( this.viewMode === 'years' ) {
				prev = new Date(this.viewYear + 12, this.viewMonth, 1);
			}

			if( prev ) {
				this.viewYear  = prev.getFullYear();
				this.viewMonth = prev.getMonth();
				this.viewDate  = prev.getDate();
			}
		},

		toggleViewMode: function() {
			if( this.viewMode === 'days' ) {
				this.viewMode = 'months';
			} else if( this.viewMode === 'months' ) {
				this.viewMode = 'years';
			}
		},

		setDate: function( date ) {
			if( !this.isDateEnabled( date ) ) {
				return;
			}

			this.viewMode = 'days';

			this.myYear  = this.viewYear  = date.getFullYear();
			this.myMonth = this.viewMonth = date.getMonth();
			this.myDate  = this.viewDate  = date.getDate();

			this.myValue = new Date( this.myYear, this.myMonth, this.myDate );

			this.$emit('input', this.myValue);
			this.$emit('change', this.myValue);
		},

		setMonth: function( date ) {
			this.viewMode = 'days';

			if( this.myYear === date.getFullYear() && this.myMonth === date.getMonth() ) {
				return;
			}

			this.myYear  = this.viewYear = date.getFullYear();
			this.myMonth = this.viewMonth = date.getMonth();
			this.myDate = '';
		},

		setYear: function( date ) {
			this.viewMode = 'months';

			if( this.myYear === date.getFullYear() ) {
				return;
			}

			this.myYear  = this.viewYear = date.getFullYear();
			this.myMonth = '';
			this.myDate  = '';
		},

		compareDates: function( date1, date2 ) {
			var y1 = date1.getFullYear(), y2 = date2.getFullYear();
			var m1 = date1.getMonth(), m2 = date2.getMonth();
			var d1 = date1.getDate(), d2 = date2.getDate();

			if( y1 !== y2 ) {
				return y1 > y2 ? 1 : -1;
			}

			if( m1 !== m2 ) {
				return m1 > m2 ? 1 : -1;
			}

			if( d1 !== d2 ) {
				return d1 > d2 ? 1 : -1;
			}

			return 0;
		},

		isDateEnabled: function( date ) {
			if( this.minDate && this.compareDates(date, this.minDate) < 0 ) {
				return false;
			}

			if( this.maxDate && this.compareDates(date, this.maxDate) > 0 ) {
				return false;
			}

			return true;
		},
	},
});

function jt_datepicker_modal( opts, cb ) {
	var modal = new FT_Modal({
		title: opts.title || 'Choose date',
		size: 'auto',
		content: jQuery('#template-jt-datepicker-modal').text(),
		destroy: true,
		center_buttons: true,
		buttons: [
			{ action: 'submit', primary: true, title: opts.submitTitle || 'Apply'},
		],
	});

	modal.on('created', function() {
		this.$app = new Vue({
			el: this.$el.find('.modal-body')[0],
			data: {
				value: opts.value || null,
				viewDate: opts.viewDate,
				startDate: opts.startDate,
				endDate: opts.endDate,
				compact: 'compact' in opts ? opts.compact : true,
			},
		});
	});

	modal.on('action.submit', function() {
		cb && cb( this.$app.value );
		this.close();
	});

	modal.open();

	return modal;
}
</script><script type="text/html" id="template-jt-password-input">
<div class="jt-password-input" :class="showPassword ? 'jt-password-open' : ''">
	<input v-if="!showPassword" type="password" class="form-control" :name="name" :placeholder="placeholder" v-model="myValue">
	<input v-else type="text" class="form-control" :name="name" :placeholder="placeholder" v-model="myValue">

	<a href="#" class="jt-password-toggle" @click.prevent="showPassword = !showPassword"><i class="fa fa-eye"></i></a>
</div>
</script>
<script>
	Vue.component('jt-password-input', {
		template: '#template-jt-password-input',
		props: ['name', 'placeholder', 'value'],
		data: function() {
			return {
				myValue: this.value || '',
				showPassword: false,
			};
		},
		watch: {
			value: function() {
				this.myValue = this.value;
			},

			myValue: function() {
				this.$emit('input', this.myValue);
				this.$emit('change', this.myValue);
			},
		}
	});
</script><script type="text/html" id="template-jt-carousel">
<div class="jt-carousel">
	<div class="jt-carousel-body" :class="{autoheight: autoheight}" ref="body">
		<slot></slot>
	</div>
</div>
</script>

<script type="text/html" id="template-jt-carousel-item">
<div class="jt-carousel-item">
	<slot></slot>
</div>
</script>

<script>
Vue.component('jt-carousel-item', {
	template: '#template-jt-carousel-item',
});

Vue.component('jt-carousel', {
	template: '#template-jt-carousel',
	props: ['slides', 'current', 'duration', 'loop', 'swipe', 'nomouse', 'autoheight'],

	data: function() {
		return {
			myDuration: parseInt(this.duration) || 400,
			myCurrent: parseInt(this.current) || 0,
			myIsAnimating: false,
		};
	},

	mounted: function() {
		var that = this;
		var $ = jQuery;

		if( this.swipe || this.swipe === undefined ) {
			$(this.$el).on('swipeleft',  function() { that.next(); });
			$(this.$el).on('swiperight', function() { that.next(-1); });
		}

		if( this.nomouse ) {
			$(this.$el).on('mousedown', function( e ) { e.preventDefault(); });
		}

		$(this.$el).on('dragstart',  function( e ) { e.preventDefault(); });

		$(this.slideElements[this.myCurrent]).addClass('active');
	},

	computed: {
		slideElements: function() {
			var slides = [];

			for( var i in this.$refs.body.children ) {
				var child = this.$refs.body.children[i];

				if( child.className && child.className.indexOf('jt-carousel-item') !== -1 ) {
					slides.push(child);
				}
			}

			return slides;
		}
	},

	methods: {

		goStep: function ( step ) {
			if( this.myIsAnimating ) {
				return;
			}

			var that = this;
			var old_step = this.myCurrent;
			var new_step = step;

			var slides = this.slideElements;

			if( !this.loop && (new_step >= slides.length || new_step < 0) ) {
				return;
			}

			var dir   = new_step > old_step ? 'left' : 'right';
			var left1 = new_step > old_step ? '0%' : '-100%';
			var left2 = new_step > old_step ? '-100%' : '0%';

			if( new_step >= 0 ) {
				new_step = new_step % slides.length;
			} else {
				new_step = (slides.length + new_step % slides.length) % slides.length;
			}

			if( old_step == new_step ) {
				return;
			}

			var old_step_el = slides[old_step];
			var new_step_el = slides[new_step];

			if( !new_step_el || !old_step_el ) {
				return;
			}

			var duration = this.myDuration;
			var trans_on_css  = { transition: 'transform ' + duration + 'ms' };
			var trans_off_css = { transition: '' };
			var $old_step = jQuery(old_step_el),
				$new_step = jQuery(new_step_el);

			$old_step.addClass('active old ' + dir);
			$new_step.addClass('active new ' + dir);

			setTimeout( function() {
				// Force reflow.
				// https://gist.github.com/paulirish/5d52fb081b3570c81e3a
				old_step_el.offsetLeft;
				new_step_el.offsetLeft;

				$old_step.css(trans_on_css);
				$new_step.css(trans_on_css);

				setTimeout( function() {
					$old_step.addClass('run');
					$new_step.addClass('run');

					setTimeout( function() {
						$old_step.css(trans_off_css);
						$new_step.css(trans_off_css);
						$old_step.removeClass('active old run ' + dir);
						$new_step.removeClass('new run ' + dir);

						that.myIsAnimating = false;
						that.$emit('after-change');
					}, duration );
				}, 0);
			}, 0 );

			if( this.autoheight && old_step_el.clientHeight !== new_step_el.clientHeight ) {
				jQuery(this.$refs.body)
					.css({height: old_step_el.clientHeight + 'px'})
					.animate({height: new_step_el.clientHeight}, {
						duration: duration,
						complete: function() {
							jQuery(that.$refs.body).css({height: ''});
						}
					});
			}

			this.$emit('before-change');

			this.myIsAnimating = true;
			this.myCurrent = new_step;

			this.$emit('change-slide', this.myCurrent);
		},

		next: function( n ) {
			n = parseInt(n);

			if( isNaN(n) ) {
				n = 1;
			}

			this.goStep(this.myCurrent + n);
		}
	}
});
</script><script type="text/html" id="template-jt-select">
<div class="jt-select" :class="{open: isOpen, disabled: disabled}">
	<div v-if="isOpen" class="jt-select-backdrop" @click.self.stop="close"></div>

	<div v-if="selected_options.length > 0" class="jt-select-value"  @click.stop="toggle">
		<span v-if="label" class="jt-select-label">{{ label }}</span>
		<span v-for="opt in selected_options" class="selected" >
			<span v-html="opt.html || opt.label || opt.text || opt.title"></span>
			<a v-if="show_remove" class="jt-select-remove" @click.stop.prevent="remove_value(opt.value)" >&times;</a>
		</span>
	</div>
	<div v-else class="jt-select-value"  @click.stop="toggle">
		<span v-if="label" class="jt-select-label">{{ label }}</span>
		<span class="placeholder" v-html="placeholder || 'Choose'"></span>
	</div>


	<div v-if="isOpen" class="jt-select-dropdown">
		<input v-if="showSearch" ref="search" class="jt-select-search" type="text" v-model="mySearch" :placeholder="search_placeholder || 'Search'">
		<ul>
			<li v-for="opt in display_options" @click="toggle_value(opt.value)" :class="{ selected: selected_options.indexOf(opt) >= 0, unavailable: opt.unavailable }" v-html="opt.html || opt.label || opt.text || opt.title"></li>
		</ul>
	</div>
    <template v-if="name && multiple">
        <input v-for="(val, val_idx) in myValue" type="hidden" :name="name + '[' + val_idx + ']'" :value="val">
    </template>
    <template v-if="name && !multiple">
        <input type="hidden" :name="name" :value="myValue">
    </template>
</div>
</script>

<script type="text/javascript">
Vue.component( 'jt-select', {
	template: '#template-jt-select',
	props: ['name', 'value', 'options', 'multiple', 'placeholder', 'search', 'search_placeholder', 'search_fields', 'show_remove', 'label', 'disabled'],

	data: function() {
		var value = this.value === undefined ? '' : this.value;

		if( this.multiple ) {
			if( !_.isArray( value ) ) {
				if( value === '' || value === undefined ) {
					value = [];
				} else {
					value = [ value ];
				}
			}
		}

		return {
			isOpen: false,
			myValue: value,
			mySearch: '',
		};
	},

    watch: {
	    value: function() {
	        this.set_value( this.value );
        }
    },

	computed: {
		showSearch: function() {
			if( _.isNumber( this.search ) )	{
				return this.options.length >= this.search;
			}
			return this.search;
		},

		selected_options: function() {
			var that = this;

			if( this.multiple ) {
				return _.filter( this.options, function( x ) {
					return that.myValue.indexOf(x.value) >= 0;
				});
			}

			return _.filter( this.options, function( x ) {
				return x.value === that.myValue;
			});
		},

		display_options: function() {
			if( !this.search ) {
				return this.options;
			}

			if( this.mySearch === '' ) {
				return this.options;
			}

			var search_re = new RegExp( '(' + jt_re_escape( this.mySearch ) + ')', 'i');
			var search_fields = this.search_fields || ['search', 'label', 'title', 'text'];
			var options = [];

			if( _.isString( search_fields ) ) {
				search_fields = search_fields.split(/\s+/);
			}

			for( var i in this.options ) {
				var opt = this.options[i];

				for( var f in search_fields ) {
					var field = search_fields[f];

					if( field in opt ) {
						var match = opt[field].match( search_re );

						if( match ) {
							options.push({score: match.index, option: opt});
						}
						break;
					}
				}
			}

			options.sort(function(a, b) {
				if( a.score === b.score ) {
					return 0;
				}

				return a.score > b.score ? 1 : -1;
			});

			return _.pluck(options, 'option');
		},
	},

	methods: {
		open: function() {
			if( this.disabled ) {
				return;
			}

			this.isOpen = true;

			if( this.showSearch ) {
				this.mySearch = '';
				this.$nextTick(function() {
					this.$refs.search.focus();
					this.$refs.search.select();
				});
			}
		},

		close: function() {
			this.isOpen = false;
		},

		toggle: function() {
			if( this.disabled ) {
				return;
			}

            if( this.isOpen ) {
                this.close();
            } else {
                this.open();
            }
		},

		set_value: function( value ) {
            if( this.multiple ) {
                if( !_.isArray( value ) ) {
                    if( value === '' || value === undefined ) {
                        value = [];
                    } else {
                        value = [ value ];
                    }
                }
            }

			if( this.myValue === value ) {
				return;
			}

			this.myValue = value;
		},

		toggle_value: function( value ) {
			this.$emit('click-item', value);

			if( this.multiple )	{
				var idx = this.myValue.indexOf( value );

				if( idx < 0 ) {
					this.myValue.push( value );
				} else {
					this.myValue.splice( idx, 1 );
				}

				this.$emit( 'input', this.myValue );
				this.$emit( 'change', this.myValue );
				return;
			}

			if( this.myValue === value ) {
				this.close();
				return;
			}

			this.myValue = value;

			this.$emit( 'input', this.myValue );
			this.$emit( 'change', this.myValue );

			this.close();
		},

		remove_value: function ( value ) {
			if( this.disabled ) {
				return;
			}

			if( this.multiple ) {
				var idx = this.myValue.indexOf( value );

				if( idx >= 0 ) {
					this.myValue.splice( idx, 1 );

					this.$emit( 'input', this.myValue );
					this.$emit( 'change', this.myValue );
				}
				return;
			}

			this.myValue = '';

			this.$emit( 'input', this.myValue );
			this.$emit( 'change', this.myValue );
		}
	}
});
</script><script type="text/javascript">
Vue.component( 'jt-textarea-auto-size', {
    template: '<textarea v-model="myValue" ref="input" @keydown.enter="maybeIgnoreKeydownEnter($event)" @keyup.enter="maybeEnterSubmit($event)" ></textarea>',
    props: ['value', 'minRows', 'maxRows', 'submitOnEnter'],

    data: function () {
        return {
            myValue: this.value || '',
        }
    },

    mounted: function() {
        var minr = parseInt( this.minRows ) || 1,
            maxr = parseInt( this.maxRows );
        var borderTop = 0, borderBot = 0, paddingTop = 0, paddingBot = 0, lineHeight = 0;
        var el = this.$refs.input;

        if( window.getComputedStyle ) {
            var cs = window.getComputedStyle(el);
            borderTop = parseInt( cs.borderTopWidth ) || 0;
            borderBot = parseInt( cs.borderBottomWidth ) || 0;
            paddingTop = parseInt( cs.paddingTop ) || 0;
            paddingBot = parseInt( cs.paddingBottom ) || 0;
            lineHeight = parseFloat( cs.lineHeight );
        }

        var add = borderTop + borderBot + paddingTop + paddingBot;

        var maxh = NaN, minh = lineHeight * minr + add;

        if( !isNaN( maxr ) ) {
            maxh = lineHeight * maxr + add;
        }

        var resize_callback = _.bind( function() {
            this.$nextTick(function() {
                var el = this.$refs.input;

                el.style.height = '';
                el.style.height = ( el.scrollHeight + add ) + "px";
            });
        }, this );

        this.$on( 'input', resize_callback );

        this.$nextTick( function() {
            var initStyle = 'min-height:' + minh + 'px;'
                + 'height:' + ( el.scrollHeight + add ) + 'px;';

            if( !isNaN( maxh ) ) {
                initStyle += 'max-height:' + maxh + 'px;'
            }

            el.setAttribute('style', initStyle );
        });
    },

    watch: {
        value: function() {
            if( this.value !== this.myValue ) {
                this.myValue = this.value;
            }
        },

        myValue: function() {
            this.$emit( 'input', this.myValue );
            this.$emit( 'change', this.myValue );
        }
    },

    methods: {
        maybeIgnoreKeydownEnter: function( e ) {
            if( !this.submitOnEnter ) {
                return;
            }

            if( e.shiftKey ) {
                return;
            }

            e.preventDefault();
        },

        maybeEnterSubmit: function( e ) {
            if( !this.submitOnEnter ) {
                return;
            }
            if( e.shiftKey ) {
                return;
            }

            this.$emit( 'enter-submit', this.myValue );
        }
    }

});
</script><script type="text/html" id="template-jt-gallery">
    <div class="jt-gallery" :class="{open: myOpen}">
        <div class="jt-gallery-slides" ref="slides">
            <slot>
                <div v-for="(slide, slide_idx) in slides" :class="getSlideClass(slide, slide_idx)">
                    <div class="jt-gallery-slide-body" :style="mySlideStyles[slide_idx] && mySlideStyles[slide_idx].body">
                        <div class="jt-gallery-slide-top-bar jt-flex-row y-pad-1" style="align-items: center;flex-wrap: nowrap">
                            <div class="jt-flex-grow">
                                <slot name="header-left" v-bind:slide="slide">
                                    <div v-if="slide.title" class="jt-gallery-slide-title" v-html="slide.title"></div>
                                </slot>
                            </div>
                            <div class="jt-flex-shrink text-right">
                                <slot name="header-right">
                                    <div class="jt-flex-row-nowrap fl-end fl-al-center x-gap-1">
                                        <span v-if="slide.loading" class="u-muted-50"><i class="fa fa-circle-o-notch fa-spin"></i></span>
                                        <template v-if="slide.buttons && slide.buttons.length">
                                            <div v-for="btn in slide.buttons">
                                                <div v-if="btn.type === 'dropdown'" class="dropdown dropdown-right">
                                                    <a href="javascript:void(0)" data-toggle="dropdown" v-html="btn.title"></a>
                                                    <ul class="dropdown-menu">
                                                        <li v-for="item in btn.menu" v-html="item"></li>
                                                    </ul>
                                                </div>
                                                <div v-else v-html="btn"></div>
                                            </div>
                                        </template>
                                        <a href="#" class="jt-gallery-slide-close" @click.prevent="close">&times;</a>
                                    </div>
                                </slot>
                            </div>
                        </div>
                        <div class="jt-gallery-slide-content" :style="mySlideStyles[slide_idx] && mySlideStyles[slide_idx].content">
                            <div :is="'jt-gallery-slide-' + (slide.type || 'image')" v-bind="slide.props" ref="slide_content" @loading="$set(slide, 'loading', true)" @loaded="$set(slide, 'loading', false)"></div>
                        </div>
                        <div class="jt-gallery-slide-bottom-bar x-center md-left">
                            <div class="jt-flex-row x-pad-1 y-pad-1">
                                <div class="w100 md-w60" style="align-self: center">
                                    <slot name="footer-left" v-bind:slide="slide">
                                        <div v-if="slide.description" class="jt-gallery-slide-desc" v-html="slide.description"></div>
                                    </slot>
                                </div>
                                <div class="w100 md-w40 x-center md-right">
                                    <slot name="footer-right" v-bind:slide="slide">
                                        <div v-for="btn in commonFooterButtons">
                                            <div v-if="btn.type === 'dropdown'" class="dropdown dropdown-right">
                                                <a href="javascript:void(0)" data-toggle="dropdown" v-html="btn.title"></a>
                                                <ul class="dropdown-menu">
                                                    <li v-for="item in btn.menu" v-html="item"></li>
                                                </ul>
                                            </div>
                                            <div v-else v-html="btn"></div>
                                        </div>
                                    </slot>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </slot>
        </div>
        <div v-if="controls && slides.length > 1" class="jt-gallery-controls">
            <a href="#" class="jt-gallery-control prev" @click.prevent="next(-1)"></a>
            <a href="#" class="jt-gallery-control next" @click.prevent="next(1)"></a>
        </div>
    </div>
</script>

<script type="text/html" id="template-jt-gallery-slide-image">
    <img :src="src" style="width:100%" @load="$emit('loaded')">
</script>

<script type="text/html" id="template-jt-gallery-slide-video">
    <div class="jt-gallery-slide-video-container" :class="{play: myIsPlaying, pause: !myIsPlaying, controls: myShowControls, loading: myIsLoading}">
        <video :src="src" :muted="muted" :loop="loop" ref="video" style="max-width:100%;max-height:100%" tabindex="-1"></video>
        <div class="jt-gallery-slide-video-controls jt-flex-col" style="justify-content:center;align-items:center" @click.prevent="toggleControls">
            <div>
                <a href="#" @click.stop.prevent="togglePlayback">
                    <i v-if="myIsLoading" class="fa fa-circle-o-notch fa-3x fa-spin"></i>
                    <i v-else-if="myIsPlaying" class="fa fa-pause-circle fa-3x"></i>
                    <i v-else class="fa fa-play-circle fa-3x"></i>
                </a>
            </div>
        </div>
    </div>
</script>

<script type="text/html" id="template-jt-gallery-slide-html">
    <div v-html="html" style="width:100%;height:100%;overflow:hidden"></div>
</script>

<script type="text/html" id="template-jt-gallery-slide-iframe">
    <iframe v-if="myActive" :src="src" rel="noopener" style="width:100%;height:100%;overflow:hidden;border:none" @load="$emit('loaded')"></iframe>
</script>

<script type="text/javascript">
    Vue.component('jt-gallery-slide-video', {
        template: '#template-jt-gallery-slide-video',
        props: ['src', 'controls', 'muted', 'loop'],

        data: function () {
            return {
                myIsPlaying: false,
                myIsLoading: false,
                myShowControls: true,
            }
        },

        mounted: function () {
            var that = this;

            var videoEl = this.$refs.video;

            videoEl.addEventListener('loadstart', function () {
                that.myIsLoading = true;
            });

            videoEl.addEventListener('canplay', function () {
                that.myIsLoading = false;
            });

            videoEl.addEventListener('ended', function () {
                that.myIsPlaying = false;
            });

        },

        watch: {
            myIsPlaying: function () {
                var that = this;

                if (this.myIsPlaying) {
                    that.myShowControls = false;
                } else {
                    this.myShowControls = true;
                }
            }
        },

        methods: {
            enter: function () {
                this.play();
            },

            leave: function () {
                this.pause();
            },

            play: function () {
                this.$refs.video.play();
                this.myIsPlaying = true;
            },

            pause: function () {
                this.$refs.video.pause();
                this.myIsPlaying = false;
            },

            isPlaying: function () {
                var video = this.$refs.video;
                var is_playing = video.currentTime > 0 && !video.paused && !video.ended;
                this.myIsPlaying = is_playing;

                return is_playing;
            },

            togglePlayback: function () {
                if (this.isPlaying()) {
                    this.pause()
                } else {
                    this.play();
                }
            },

            toggleControls: function () {
                this.myShowControls = !this.myShowControls;

                if (this.myShowControls && this.myIsPlaying) {
                    var that = this;
                    setTimeout(function () {
                        that.myShowControls = !that.myIsPlaying;
                    }, 2000);
                }
            }
        }
    });

    Vue.component('jt-gallery-slide-image', {
        template: '#template-jt-gallery-slide-image',
        props: ['src', 'width', 'height'],

        data: function () {
            return {
                myIsPan: false,
                myPanX: 0,
                myPanY: 0,
            }
        },

        mounted: function () {
            this.$emit('loading');
        },

        computed: {
            myStyle: function () {
                if (!this.myIsPan) {
                    return {width: '100%'};
                }

                return {
                    width: this.width + 'px',
                    height: this.height + 'px',
                    'max-width': 'none',
                    position: 'absolute',
                    left: this.myPanX + 'px',
                    top: this.myPanY + 'px',
                };
            }
        },

        methods: {
            panStart: function (e) {
                var pW = this.$el.parentNode.clientWidth
                pH = this.$el.parentNode.clientHeight;

                var rect = this.$el.parentNode.getBoundingClientRect();
                // Pointer local coordinates
                var lx = e.x - rect.left, ly = e.y - rect.top;
                // Pointer local normalized coordinates [0, 1]
                var lxn = lx / pW, lyn = ly / pH;

                var minX = (pW - this.width) / 2;
                var minY = (pH - this.height) / 2;
                var maxX = (this.width - pW) / 2;
                var maxY = (this.height - pH) / 2;

                var trX = Math.min(maxX, Math.max(minX, minX + (maxX - minX) * (1 - lxn)));
                var trY = Math.min(maxY, Math.max(minY, minY + (maxY - minY) * (1 - lyn)));

                this.myPanX = trX;//-(this.width - pW) / 2;
                this.myPanY = trY;//-(this.height - pH) / 2;
                this.myIsPan = true;
                var el = this.$el;
                var scale = this.width / pW;

                el.style.transform = 'translate(0, 0) scale(1)';
                el.style.transition = 'transform 0.4s';

                setTimeout(function () {
                    el.style.transform = 'translate(' + trX + 'px, ' + trY + 'px) scale(' + scale + ')';
                    // Disable CSS animation.
                    setTimeout(function () {
                        el.style.transition = '';
                    }, 400);
                });
            },

            panEnd: function (e) {
                this.myIsPan = false;
                var el = this.$el;

                el.style.transition = 'transform 0.4s';

                setTimeout(function () {
                    el.style.transform = 'translate(0, 0) scale(1)';
                    // Disable CSS animation.
                    setTimeout(function () {
                        el.style.transition = '';
                    }, 400);
                });
            },

            pan: function (e) {
                var pW = this.$el.parentNode.clientWidth;
                var pH = this.$el.parentNode.clientHeight;

                var pw = this.$el.parentNode.clientWidth;
                var scale = this.width / pw;
                var minX = (pW - this.width) / 2;
                var minY = (pH - this.height) / 2;
                var maxX = (this.width - pW) / 2;
                var maxY = (this.height - pH) / 2;//this.$el.parentNode.clientHeight - this.height;

                this.myPanX = Math.min(maxX, Math.max(minX, this.myPanX + e.x));
                this.myPanY = Math.min(maxY, Math.max(minY, this.myPanY + e.y));

                this.$el.style.transform = 'translate(' + this.myPanX + 'px, ' + this.myPanY + 'px) scale(' + scale + ')';
            },
        }
    });

    Vue.component('jt-gallery-slide-html', {
        template: '#template-jt-gallery-slide-html',
        props: ['html'],
    });

    Vue.component('jt-gallery-slide-iframe', {
        template: '#template-jt-gallery-slide-iframe',
        props: ['src', 'loadOnEnter'],
        mounted: function () {
            this.$emit('loading');
        },
        data: function () {
            return {
                myActive: !this.loadOnEnter,
            }
        },

        methods: {
            enter: function () {
                if (this.loadOnEnter && !this.myActive) {
                    this.myActive = true;
                }
            },

        }
    });

    Vue.component('jt-gallery', {
        template: '#template-jt-gallery',
        props: ['slides', 'current', 'duration', 'loop', 'swipe', 'nomouse', 'hgap', 'controls', 'options'],

        data: function () {
            return {
                myOpen: false,
                myDuration: parseInt(this.duration) || 400,
                myCurrent: parseInt(this.current) || 0,
                myIsAnimating: false,
                mySlideStyles: {},
                myControlsDestructor: null,
            };
        },

        mounted: function () {
            var that = this;

            function preventEvent(e) {
                e.preventDefault();
            }

            this.$on('before-change', function () {
                if (that.isCurrentPan()) {
                    that.togglePanMode();
                }
            });

            if (this.nomouse) {
                this.$el.addEventListener('mousedown', preventEvent);
            }

            this.$el.addEventListener('dragstart', preventEvent);

            var currentSlideEl = this.slideElements[this.myCurrent];

            if (currentSlideEl) {
                currentSlideEl.style.left = '0%';
                currentSlideEl.style.display = 'flex';
            }

            this.syncSlideStyles(this.myCurrent);

            requestAnimationFrame(_.bind(this.open, this));
        },

        destroyed: function () {
            window.removeEventListener('resize', this.myResizeHandler);
            window.removeEventListener('keyup', this.myKeyupHandler);
        },

        computed: {
            slideElements: function () {
                var slides = [];

                for (var i in this.$refs.slides.children) {
                    slides.push(this.$refs.slides.children[i]);
                }

                return slides;
            },

            commonFooterButtons: function () {
                return this.options && this.options.footer && this.options.footer.buttons || [];
            }
        },

        methods: {

            setupControls: function () {
                var that = this;
                var touchStarted = null;
                var lastPanMove = null;
                var moveDistance = 0;
                var swipeDistanceThreshold = 100;
                var isClickableElement = this.options && this.options.isClickableElement;
                var lastTouch = null;

                function ignoreEvent(e) {
                    var targetTag = e.target && e.target.tagName;

                    if (targetTag === 'A' || targetTag === 'INPUT' || targetTag === 'TEXTAREA' || targetTag === 'BUTTON') {
                        return true;
                    }

                    if (isClickableElement && isClickableElement(e.target)) {
                        return true;
                    }

                    var path = e.path || e.composedPath();

                    for (var i in path) {
                        var target = path[i];
                        targetTag = target.tagName

                        if (targetTag === 'A' || targetTag === 'INPUT' || targetTag === 'TEXTAREA' || targetTag === 'BUTTON') {
                            return true;
                        }

                        if (isClickableElement && isClickableElement(target)) {
                            return true;
                        }
                    }

                    return false;
                }

                function resizeHandler() {
                    that.$forceUpdate();
                }

                function keyupHandler(e) {
                    switch (e.key) {
                        case ' ':
                            that.togglePlayback();
                            e.preventDefault();
                            break;
                        case 'Left':
                        case 'ArrowLeft':
                            that.next(-1);
                            e.preventDefault();
                            break;
                        case 'Right':
                        case 'ArrowRight':
                            that.next(1);
                            e.preventDefault();
                            break;
                        case 'Esc':
                        case 'Escape':
                            that.close();
                            e.preventDefault();
                            break;
                    }
                }

                function mouseDownHandler(e) {
                    if (e.button !== 0) {
                        return;
                    }

                    if (ignoreEvent(e)) {
                        return;
                    }

                    touchStart({x: e.clientX, y: e.clientY, target: e.target});
                }

                function mouseMoveHandler(e) {
                    if (e.buttons !== 1) {
                        return;
                    }

                    touchMove({x: e.clientX, y: e.clientY, target: e.target});
                }

                function mouseUpHandler(e) {
                    if (e.button !== 0) {
                        return;
                    }

                    touchEnd();
                }

                function touchStartHandler(e) {
                    if (ignoreEvent(e)) {
                        return;
                    }

                    touchStart({x: e.touches[0].clientX, y: e.touches[0].clientY, target: e.target});
                }

                function touchMoveHandler(e) {
                    touchMove({x: e.touches[0].clientX, y: e.touches[0].clientY, target: e.target});
                }

                function touchEndHandler(e) {
                    touchEnd();
                }

                function updateMoveDistance(e) {
                    moveDistance += Math.abs(e.x - touchStarted.x) + Math.abs(e.y - touchStarted.y);
                }

                function touchStart(e) {
                    touchStarted = e;
                    lastTouch = e;
                    lastPanMove = null;
                    moveDistance = 0;
                }

                function touchMove(e) {
                    if (!touchStarted) {
                        return;
                    }

                    lastTouch = e;

                    updateMoveDistance(e);

                    if (true === handlePan(e)) {
                        return;
                    }

                    var dist = e.x - touchStarted.x;

                    if (Math.abs(dist) > swipeDistanceThreshold) {
                        that.next(dist > 0 ? -1 : 1);
                        touchStarted = null;
                    }
                }

                function touchEnd() {
                    if (!touchStarted) {
                        return;
                    }

                    if (moveDistance < 50) {
                        handleTap( lastTouch );
                    }

                    touchStarted = null;
                }

                function handleTap(e) {
                    that.handleTap(e);
                }

                function handlePan(e) {
                    if (!touchStarted || !that.isCurrentPan()) {
                        return;
                    }

                    if (!lastPanMove) {
                        lastPanMove = touchStarted;
                    }

                    that.handlePan({x: e.x - lastPanMove.x, y: e.y - lastPanMove.y});

                    lastPanMove = e;

                    return true;
                }

                var isTouchDevice = 'ontouchstart' in window;

                if( isTouchDevice ) {
                    this.$el.addEventListener('touchstart', touchStartHandler);
                    this.$el.addEventListener('touchmove', touchMoveHandler);
                    this.$el.addEventListener('touchend', touchEndHandler);
                } else {
                    this.$el.addEventListener('mousedown', mouseDownHandler);
                    this.$el.addEventListener('mousemove', mouseMoveHandler);
                    this.$el.addEventListener('mouseup', mouseUpHandler);
                }

                window.addEventListener('resize', resizeHandler);
                window.addEventListener('keyup', keyupHandler);

                return function () {
                    if( isTouchDevice ) {
                        that.$el.removeEventListener('touchstart', touchStartHandler);
                        that.$el.removeEventListener('touchmove', touchMoveHandler);
                        that.$el.removeEventListener('touchend', touchEndHandler);
                    } else {
                        that.$el.removeEventListener('mousedown', mouseDownHandler);
                        that.$el.removeEventListener('mousemove', mouseMoveHandler);
                        that.$el.removeEventListener('mouseup', mouseUpHandler);
                    }

                    window.removeEventListener('resize', resizeHandler);
                    window.removeEventListener('keyup', keyupHandler);
                };
            },

            goStep: function (step) {
                if (this.myIsAnimating) {
                    return;
                }

                var that = this;
                var old_idx = this.myCurrent;
                var new_idx = step;
                var slides = this.slides;

                if (!this.loop && (new_idx >= slides.length || new_idx < 0)) {
                    return;
                }

                var is_left = new_idx > old_idx;

                if (new_idx >= 0) {
                    new_idx = new_idx % slides.length;
                } else {
                    new_idx = (slides.length + new_idx % slides.length) % slides.length;
                }

                if (new_idx === old_idx) {
                    return;
                }

                var slideEls = this.slideElements;
                var completeCallback = function () {
                    if (!that.myOpen) {
                        return;
                    }

                    that.myIsAnimating = false;

                    if (that.$refs.slide_content[old_idx].leave) {
                        that.$refs.slide_content[old_idx].leave();
                    }

                    if (that.$refs.slide_content[new_idx].enter) {
                        that.$refs.slide_content[new_idx].enter();
                    }

                    slideEls[old_idx].style.display = '';

                    that.$emit('after-change');
                };

                this.syncSlideStyles(new_idx);

                if (is_left) {
                    jQuery(slideEls[old_idx]).css({
                        left: '0%', display: 'flex',
                    }).animate({left: '-100%'}, {
                        duration: this.myDuration,
                    });

                    jQuery(slideEls[new_idx]).css({
                        left: '100%', display: 'flex'
                    }).animate({left: '0%'}, {
                        duration: this.myDuration,
                        complete: completeCallback,
                    });
                } else {
                    jQuery(slideEls[old_idx]).css({
                        left: '0%', display: 'flex',
                    }).animate({left: '100%'}, {
                        duration: this.myDuration,
                    });

                    jQuery(slideEls[new_idx]).css({
                        left: '-100%', display: 'flex'
                    }).animate({left: '0%'}, {
                        duration: this.myDuration,
                        complete: completeCallback,
                    });
                }
                this.$emit('before-change');

                this.myIsAnimating = true;
                this.myCurrent = new_idx;

                this.$emit('change-slide', this.myCurrent);
            },

            next: function (n) {
                n = parseInt(n);

                if (isNaN(n)) {
                    n = 1;
                }

                this.goStep(this.myCurrent + n);
            },

            open: function () {
                var that = this;

                this.myOpen = true;

                if (this.$refs.slide_content[that.myCurrent].enter) {
                    this.$refs.slide_content[that.myCurrent].enter();
                }

                setTimeout(function () {
                    that.$emit('open');
                }, 1000);

                document.body.classList.add ( 'jt-gallery-open' );

                if (!this.myControlsDestructor) {
                    this.myControlsDestructor = this.setupControls();
                }
            },

            close: function () {
                var that = this;
                this.myOpen = false;

                setTimeout(function () {
                    that.$emit('close');
                }, 1000);

                document.body.classList.remove( 'jt-gallery-open' );

                if (this.myControlsDestructor) {
                    this.myControlsDestructor.call(this);
                    this.myControlsDestructor = null;
                }
            },

            togglePlayback: function () {
                var slide = this.slides[this.myCurrent];

                if (slide.type === 'video') {
                    this.$refs.slide_content[this.myCurrent].togglePlayback();
                }
            },

            canHandlePan: function () {
                var slide = this.slides[this.myCurrent];
                var slide_type = slide.type || 'image';

                if (slide_type !== 'image') {
                    return false;
                }

                var viewport = this.getSlideViewport(this.myCurrent);

                if (slide.width > viewport[0] || slide.height > viewport[1]) {
                    return true;
                }

                return false;
            },

            isCurrentPan: function () {
                return this.$refs.slide_content[this.myCurrent].myIsPan;
            },

            handleTap: function (e) {
                if (e.target.classList.contains('jt-gallery-slide')) {
                    var backdropClickClose = this.options && this.options.backdropClickClose;

                    if (backdropClickClose !== false) {
                        this.close();
                        return;
                    }
                }

                this.togglePanMode(e);
            },

            togglePanMode: _.throttle( function (e) {
                if (!this.canHandlePan()) {
                    return;
                }

                var slide_component = this.$refs.slide_content[this.myCurrent];

                if (!slide_component.myIsPan) {
                    slide_component.panStart(e);
                } else {
                    slide_component.panEnd(e);
                }
            }, 500 ),

            handlePan: function (e) {
                if (this.$refs.slide_content[this.myCurrent].pan) {
                    this.$refs.slide_content[this.myCurrent].pan(e);
                }
            },

            getSlideClass: function (slide, idx) {
                var cls = 'jt-gallery-slide slide-' + (slide.type || 'image');

                if (this.myCurrent === idx) {
                    cls += ' current';
                }

                return cls;
            },

            getSlideViewport: function (idx) {
                var sel = this.slideElements[idx];
                var $top = jQuery(sel).find('.jt-gallery-slide-top-bar');
                var $bot = jQuery(sel).find('.jt-gallery-slide-bottom-bar');
                var th = $top.length ? $top[0].clientHeight : 0;
                var bh = $bot.length ? $bot[0].clientHeight : 0;
                var w = window.innerWidth - 2 * (this.hgap || 0);
                var h = window.innerHeight - th - bh;

                return [w, h];
            },

            calcSlideStyles: function (idx) {
                var slide = this.slides[idx];
                var vp = this.getSlideViewport(idx);
                var body = {};
                var content = {};

                if (slide.width > vp[0] || slide.height > vp[1]) {
                    var sar = slide.width / slide.height;
                    var par = vp[0] / vp[1];

                    if (sar > par) {
                        body.width = (vp[0]) + 'px';
                        content.width = (vp[0]) + 'px';
                        content.height = (vp[0] / sar) + 'px';
                    } else {
                        body.width = (vp[1] * sar) + 'px';
                        content.width = (vp[1] * sar) + 'px';
                        content.height = (vp[1]) + 'px';
                    }
                } else {
                    body.width = slide.width + 'px';
                    content.width = slide.width + 'px';
                    content.height = slide.height + 'px';

                    if (slide.type === 'html') {
                        content.height = vp[1] + 'px';
                    }
                }

                this.$set(this.mySlideStyles, idx, {
                    body: body,
                    content: content
                });
            },

            syncSlideStyles: function (idx) {
                var that = this;

                if (undefined === idx) {
                    idx = this.myCurrent;
                }

                setTimeout(function () {
                    that.calcSlideStyles(idx);
                    setTimeout(function () {
                        that.calcSlideStyles(idx);
                    });
                });
            }
        }
    });

    function jt_gallery(slides, opts) {
        var options = _.extend({
            current: 0,
            loop: true,
            controls: true,
            hgap: 50,
            template: '<jt-gallery :slides="slides" :current="current" :options="options" :loop="loop" :controls="controls" :hgap="hgap" ref="gallery"></jt-gallery>',
        }, opts);

        var el = document.createElement('div');
        el.innerHTML = options.template;

        document.body.appendChild(el);

        var app = new Vue({
            el: el,

            data: {
                slides: slides,
                options: options,
                current: options.current,
                loop: options.loop,
                controls: options.controls,
                hgap: options.hgap,
            },

            mounted: function () {
                var that = this;

                this.$refs.gallery.$on('close', function () {
                    that.close();
                });
                this.$refs.gallery.$on('open', function () {
                    that.$emit('open');
                });
            },

            methods: _.extend({
                close: function () {
                    this.$emit('close');
                    this.$nextTick(function () {
                        app.$el.parentNode.removeChild(app.$el);
                        app.$destroy();
                    });
                }
            }, options.methods),
        });

        return app;
    }

    jQuery(document.body).on('click', '.jt-gallery-media [data-idx]', function (e) {
        var $item = jQuery(this);
        var $gallery = $item.closest('.jt-gallery-media');
        var slides = $gallery.data('slides');
        var idx = $item.data('idx');

        if (!slides) {
            return;
        }

        e.preventDefault();

        jt_gallery(slides, _.extend({}, $gallery.data('options'), {current: idx}));
    });
</script><script type="text/javascript">jt_set_object_key(window, "cdos_common.bracelet_sizes", [{"name":"XS","value":"XS","title":"XS - 6.29 inch - 16 cm","size_in":6.29,"size_cm":16,"size_mm":160},{"name":"S","value":"S","title":"S - 7 inch - 18 cm","size_in":7,"size_cm":18,"size_mm":180},{"name":"M","value":"M","title":"M - 7.87 inch - 20 cm","size_in":7.87,"size_cm":20,"size_mm":200},{"name":"L","value":"L","title":"L - 8.66 inch - 22 cm","size_in":8.66,"size_cm":22,"size_mm":220},{"name":"XL","value":"XL","title":"XL - 9.44 inch - 24 cm","size_in":9.44,"size_cm":24,"size_mm":240},{"name":"Other","value":"other","title":"Other","size_in":"","size_cm":"","size_mm":""}]);</script>
			<script type="text/html" id="template-activation-message">
				<div class="x-right mgb1">
					<button type="button" class="close" data-action="close" aria-label="Close"><span aria-hidden="true">Ã</span></button>
				</div>
				<p style="font-size:120%;font-weight:bold">Please check your email and activate your account using the link we&#039;ve sent you.</p><div class="mgb2">Didn&#039;t get the email? Try checking your spam folder, clicking the re-send email button, or changing your email address.</div>				<div class="jt-flex-row fl-center xy-pad-1">
					<div><button class="btn btn-mid resend-email">Re-send Confirmation<span class="show-loading"> <i class="fa fa-circle-o-notch fa-spin"></i></span></button></div>
					<div><button class="btn btn-mid change-email">Change email</button></div>
				</div>
			</script>

			<script type="text/html" id="template-activation-resend">
				Please check your email for the account activation link and instructions.<br/>
				<p class="text-info">If you do not see our email, please also check your SPAM/Bulk folder.</p>
			</script>

			<script type="text/html" id="template-activation-change-email">
				<div class="form-group">
					<label for="change-email-field">
						Old email: <span class="user-email"></span>
					</label>
					<input type="email" class="form-control" id="change-email-field" placeholder="Enter new email">
				</div>

				<div class="change-email-info-area text-danger"></div>
			</script>

			<script type="text/javascript">
				window.jt_activation = {};

				window.jt_activation.changeEmail = function( old_email, cb ) {
					var $ = jQuery;

					var modal = new FT_Modal({
						title: 'Change email',
						content: $('#template-activation-change-email').text(),
						modal_class: 'modal-cdos',
						centered: true,
						destroy: true,
						buttons: [ { action: 'submit', title: 'Change and resend activation code', primary: true } ],
						alt_buttons: [ { action: 'close', title: 'Cancel' } ],
						actions: {
							submit: function() {
								var new_email = modal.$el.find('#change-email-field').val().trim();

								if( new_email === '' || new_email === old_email ) {
									return;
								}

								modal.set_buttons({
									submit: { enabled: false },
								});

								modal.$el.find('.change-email-info-area').html('');

								var data = {
									action: 'change_activation_email',
									email: new_email,
								};

								$.post( ajaxurl, data )
								 .error( function( jqxhr ) {
									 modal.set_buttons({
										 submit: { enabled: true },
									 });

									 if( jqxhr.responseJSON && jqxhr.responseJSON.message ) {
										 modal.$el.find('.change-email-info-area').html(jqxhr.responseJSON.message);
									 } else {
										 modal.$el.find('.change-email-info-area').html('Unknown error');
									 }
								 })
								 .done( function (result) {
									 modal.close();

									 (new FT_Modal_Message({
										 modal_class: 'modal-cdos',
										 content: '<p class="text-success">' + result.message + '</p>',
										 centered: true,
									 })).open();

									 cb && cb(new_email);
								 });
							},
						},
					});

					modal.on('created', function() {
						this.$el.find('.user-email').text(old_email);
					});

					modal.open();
				}

				window.jt_activation.openModal = function() {
					var $ = jQuery;

					var modal = new FT_Modal({
						content: $('#template-activation-message').text(),
						modal_class: 'modal-cdos',
						centered: true,
						destroy: true,
						show_title: false,
						show_footer: false,
						buttons: [ { action: 'close', title: 'Close' } ],
					});

					modal.open();
				}


				jQuery( function( $ ) {
					var $body = $('body');
					var old_email = false;
					var resending = false;

					$body.on('click', '.resend-email', function ( e ) {
						e.preventDefault();

						if( resending ) {
							return false;
						}

						var $this = $(this);

						resending = true;
						$this.prop('disabled', true );

						var snack = new Snackbar({ content: 'Resending email...', classes: 'loading' });

						$.post( ajaxurl, { action: 'resend_email' }).done( function() {
							var closest_modal = $this.closest('[role=dialog]').data('FT_Modal');

							if( closest_modal ) {
								closest_modal.close();
							}

							var modal = new FT_Modal_Message({
								title: 'Activation link emailed!',
								content: $('#template-activation-resend').text(),
								centered: true,
								show_title: true,
								show_close: false,
								modal_class: 'modal-cdos',
							});

							modal.open();
						}).always(function() {
							resending = false;
							$this.prop('disabled', false );
							snack.close();
						});

					});

					$body.on('click', '.change-email', function ( e ) {
						e.preventDefault();

						var $this = $(this);

						var closest_modal = $this.closest('[role=dialog]').data('FT_Modal');

						if( closest_modal ) {
							closest_modal.close();
						}

						window.jt_activation.changeEmail( old_email, function ( new_email ) {
							old_email = new_email;
						});
					});

					$body.on('click', '.activation-modal', function( e ) {
						e.preventDefault();
						window.jt_activation.openModal();
					});

									});
			</script>
		<script type="text/javascript">
/* <![CDATA[ */
var google_conversion_id = 972095133;
var google_custom_params = window.google_tag_params;
var google_remarketing_only = true;
/* ]]> */
</script>
<script type="text/javascript" src="//www.googleadservices.com/pagead/conversion.js">
</script>
<noscript>
<div style="display:inline;">
<img height="1" width="1" style="border-style:none;" alt="" src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/972095133/?guid=ON&amp;script=0"/>
</div>
</noscript>
<script>
(function() {
    var aiChatMixin = {
        mounted: function () {
            this.$on('init-step', function( payload ) {
                if( 'aiChat' === payload.step ) {
                    this.aiChatInit();
                }
            });

            this.$on('submit-success', function( res ) {
                this.aiChatUpdateFromResponse( res );
            });
        },

        methods: {
            aiChatIsEnabled: function() {
                var qls = parseFloat( this.qls );

                if( this.aiChat.minQls !== null ) {
                    if( qls < this.aiChat.minQls ) {
                        return false;
                    }
                }

                if( this.aiChat.maxQls !== null ) {
                    if( qls > this.aiChat.maxQls ) {
                        return false;
                    }
                }

                return true;
            },

            aiChatUpdateFromResponse: function( res ) {
                if( 'aiChat' in res ) {
                    for( var i in res.aiChat ) {
                        if( i === 'message' ) {
                            this.aiChatAddMessage( res.aiChat[i] );
                            continue;
                        }

                        this.aiChat[i] = res.aiChat[i];
                    }
                }
            },

            aiChatInit: function() {
                if( this.aiChat.hideFooter ) {
                    jQuery('#footer').hide();
                }

                if( !this.aiChat.state ) {
                    return;
                }

                if( !this.aiChatIsEnabled() ) {
                    return;
                }

                for( var i in this.aiChat.messages ) {
                    var msg = this.aiChat.messages[i];
                    msg.message = jt_nl2br( msg.message );
                }

                if( this.aiChat.running ) {
                    this.aiChatWaitReply();
                } else if( null === this.aiChat.run_status ) {
                    this.aiChatStart();
                }
            },

            aiChatReplaceLastUserMessage: function( replacement ) {
                var idx = _.findIndex( this.aiChat.messages, function( x ) {
                    return x.message_id === 'last-user-message';
                });

                if( idx >= 0 ) {
                    if( replacement ) {
                        replacement.message = jt_nl2br( replacement.message );
                        this.aiChat.messages.splice( idx, 1, replacement );
                    } else {
                        this.aiChat.messages.splice( idx, 1 );
                    }
                }
            },

            aiChatAddMessage: function( message ) {
                if( !message ) {
                    return;
                }

                message.message = jt_nl2br( message.message );

                // Find existing message by id
                var idx = _.findIndex( this.aiChat.messages, function( x ) {
                    return x.message_id === message.message_id;
                });

                if( idx >= 0 ) {
                    this.aiChat.messages.splice( idx, 1, message );
                } else {
                    this.aiChat.messages.push( message );
                }
            },

            aiChatStart: function() {
                this.aiChat.failed = false;
                this.aiChat.starting = true;

                return jt_ajax_postp( _.extend( { state: this.aiChat.state }, this.aiChat.actionParams.Start ), null, this )
                    .then( function( res ) {
                        this.aiChat.starting = false;

                        this.aiChatUpdateFromResponse( res );

                        this.aiChatWaitReply();
                    } ).catch( function() {
                        this.aiChat.failed = true;
                    });
            },

            aiChatSendMessage: function() {
                if( this.aiChat.loading || this.aiChat.sending ) {
                    return;
                }

                var content = jt_nl2br( jt_strip_tags( this.aiChat.userMessage.trim() ) );

                if( content.length === 0 ) {
                    return;
                }

                this.aiChatAddMessage( {
                    message_id: 'last-user-message',
                    role: 'user',
                    message: content,
                } );

                this.aiChat.failed = false;
                this.aiChat.sending = true;

                jt_ajax_postp( _.extend( { state: this.aiChat.state, message: content }, this.aiChat.actionParams.SendMessage ), null, this )
                    .then( function( res ) {
                        this.aiChat.sending = false;
                        this.aiChat.userMessage = '';

                        var message = res.aiChat.message;
                        delete res.aiChat.message;

                        this.aiChatUpdateFromResponse( res );
                        this.aiChatReplaceLastUserMessage( message );
                        this.aiChatWaitReply();
                    }).catch( function() {
                    this.aiChat.sending = false;
                    this.aiChat.failed = true;
                    this.aiChatReplaceLastUserMessage( null );
                    this.$nextTick(function() {
                        this.$refs.aiChatInput.$refs.input.focus();
                    });
                });
            },

            aiChatWaitReply: function() {
                this.aiChat.loading = true;
                this.aiChat.failed = false;

                var tmt = this.aiChat.checkInterval;
                var ts = Date.now();

                var check_callback = _.bind( function() {
                    this.aiChatCheckReplyStatus().always( function( x ) {
                        if( !x.success ) {
                            if( (Date.now() - ts) > this.aiChat.waitReplyTimeout ) {
                                this.aiChat.failed = true;
                                this.aiChat.loading = false;
                                return;
                            }

                            setTimeout( check_callback, tmt );

                            return;
                        }

                        var res = x.payload;
                        this.aiChatUpdateFromResponse( res );

                        if( res.aiChat.run_status === 'failed'  ) {
                            this.aiChat.failed = true;
                            this.aiChat.loading = false;
                            return;
                        }

                        if( res.aiChat.run_status !== 'completed'  ) {
                            setTimeout( check_callback, tmt );
                            return;
                        }

                        this.aiChat.loading = false;

                        this.$nextTick(function() {
                            this.$refs.aiChatInput.$refs.input.focus();
                        });
                    } );
                }, this );

                setTimeout( check_callback, tmt );
            },

            aiChatCheckReplyStatus: function() {
                return jt_ajax_getp( _.extend( { state: this.aiChat.state }, this.aiChat.actionParams.CheckStatus ), null, this );
            },

            aiChatOpenMessageAttachment: function( msg, att ) {
                if( !msg.attachments || msg.attachments.length === 0 ) {
                    return;
                }

                var idx = msg.attachments.indexOf( att );

                if( idx === -1 ) {
                    return;
                }

                var slides = [];

                for( var i in msg.attachments ) {
                    var item = msg.attachments[i];

                    slides.push({
                        src: item.url,
                        width: item.width,
                        height: item.height,
                        type: 'image',
                        props: {
                            src: item.url,
                            width: item.width,
                            height: item.height,
                        }
                    });
                }

                jt_gallery( slides, {
                    current: idx
                });
            },

            getNextStepFrom: function( step ) {
                if( !this.aiChatIsEnabled() ) {
                    return;
                }

                switch ( step ) {
                    case 'delivery':
                        if (this.is_logged_in) {
                            return 'aiChat';
                        }

                        return 'auth';
                    case 'auth':
                        return 'aiChat';
                    case 'aiChat':
                        if( !this.is_activated ) {
                            return 'activate';
                        }

                        if (this.is_logged_in || this.use_login ) {
                            return 'thankYou';
                        }

                        return 'activate';
                }
            },
        },
    };

    jt_push_array_key( window, 'jt_start.mixins', aiChatMixin );
})();
</script>



</body></html><!--
Performance optimized by Redis Object Cache. Learn more: https://wprediscache.com

Retrieved 1504 objects (5 MB) from Redis using PhpRedis (v6.0.2).
-->