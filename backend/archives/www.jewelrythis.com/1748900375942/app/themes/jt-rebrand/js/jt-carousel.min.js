(d=>{function t(t,e){FT_Object.call(this),this.$el=d(t),this.$el.data("JtCarousel",this),this.$body=this.$el.find(".jt-carousel-body"),this.$slides=this.$el.find(".jt-carousel-item"),this.options=e||{},this.current=this.options.current||0,this.isAnimating=!1,this.playInterval=this.options.playInterval||5e3,this.playIntervalId=null,this.suspendTimeout=this.options.suspendTimeout||1e4,this.suspendTimeoutId=null,this.isPlaying=!1,this.isSuspended=!1,this.init(),this.initControls()}jt_extend(t,FT_Object),t.prototype.getOption=function(t,e){return t in this.options?this.options[t]:e},t.prototype.init=function(){var e=this,t=this.$el;this.getOption("swipeTarget")&&0===(t=d(this.getOption("swipeTarget"))).length&&(t=this.$el),this.getOption("autoheight",!1)&&this.$el.find(".jt-carousel-body").addClass("autoheight"),this.getOption("swipe",!0)&&(t.on("click",function(t){e.isAnimating&&(t.preventDefault(),t.stopPropagation())}),t.on("swipeleft",function(){e.handleSwipe(1)}),t.on("swiperight",function(){e.handleSwipe(-1)})),this.getOption("nomouse")&&this.$el.on("mousedown",function(t){t.preventDefault()}),t.on("dragstart",function(t){d(t.target).attr("contenteditable")||t.preventDefault()}),t.on("selectstart",function(t){d(t.target).attr("contenteditable")||t.preventDefault()}),d(this.$slides[this.current]).addClass("active"),this.maybeAutoPlay()},t.prototype.initControls=function(){var e,t=this.$el.attr("id");t&&(e=this,d("body").on("click",'.jt-carousel-control[href="#'+t+'"],.jt-carousel-control[data-target="#'+t+'"],.jt-nav-control[href="#'+t+'"],.jt-nav-control[data-target="#'+t+'"]',function(t){t.preventDefault(),e.handleControl(d(this))}),this.on("change-slide",function(){var i=this.current;d('.jt-carousel-control[href="#'+t+'"],.jt-carousel-control[data-target="#'+t+'"],.jt-nav-control[href="#'+t+'"],.jt-nav-control[data-target="#'+t+'"]').each(function(){var t=d(this),e=parseInt(t.data("step"));isNaN(e)&&(e=parseInt(t.data("item"))),t.toggleClass("active",e===i)})}))},t.prototype.handleControl=function(t){var e=parseInt(t.data("step")),i=parseInt(t.data("item")),t=parseInt(t.data("next"));isNaN(e)?isNaN(i)?isNaN(t)||this.next(t):this.goStep(i):this.goStep(e),this.suspend()},t.prototype.handleSwipe=function(t){this.next(t),this.suspend()},t.prototype.goStep=function(t){var e,i,n,s,o,a,l,r,h,u,p,c;this.isAnimating||(i=(e=this).current,t=t,n=this.getOption("loop",!1),s=this.$slides,!n&&(t>=s.length||t<0))||(o=i<t?"left":"right",0<=t?t%=s.length:t=(s.length+t%s.length)%s.length,i!=t&&(a=s[i],l=s[t])&&a&&(r=this.getOption("duration",400),h={transition:"transform "+r+"ms"},u={transition:""},p=d(a),c=d(l),p.addClass("active old "+o),c.addClass("active new "+o),setTimeout(function(){a.offsetLeft,l.offsetLeft,p.css(h),c.css(h),setTimeout(function(){p.addClass("run"),c.addClass("run"),setTimeout(function(){p.css(u),c.css(u),p.removeClass("active old run "+o),c.removeClass("new run "+o),e.isAnimating=!1,e.emit("after-change")},r)},0)},0),this.getOption("autoheight",!1)&&a.clientHeight!==l.clientHeight&&this.$body.css({height:a.clientHeight+"px"}).animate({height:l.clientHeight},{duration:r,complete:function(){e.$body.css({height:""})}}),this.emit("before-change"),this.isAnimating=!0,this.current=t,this.emit("change-slide",[this.current])))},t.prototype.next=function(t){t=parseInt(t),isNaN(t)&&(t=1),this.goStep(this.current+t)},t.prototype.play=function(){var t;this.playIntervalId||this.playInterval<500||((t=this).playIntervalId=setInterval(function(){t.next(1)},this.playInterval),this.isPlaying=!0)},t.prototype.stop=function(){this.playIntervalId&&(clearInterval(this.playIntervalId),this.playIntervalId=null,this.isPlaying=!1,this.isSuspended=!1)},t.prototype.suspend=function(){var t;this.isPlaying&&(this.suspendTimeoutId&&clearTimeout(this.suspendTimeoutId),this.playIntervalId&&(clearInterval(this.playIntervalId),this.playIntervalId=null),(t=this).suspendTimeoutId=setTimeout(function(){t.play(),t.suspendTimeoutId=null,t.isSuspended=!1},this.suspendTimeout),this.isSuspended=!0)},t.prototype.maybeAutoPlay=function(t){var e=this;function i(){document.removeEventListener("mousemove",i),document.removeEventListener("touchstart",i),e.playWithDelay(e.getOption("autoplayOnInteractionDelay"))}this.getOption("autoplay")&&this.playWithDelay(this.getOption("autoplayDelay")),this.getOption("autoplayOnLoad")&&setTimeout(function(){"complete"===document.readyState?e.playWithDelay(e.getOption("autoplayOnLoadDelay")):window.addEventListener("load",function(){e.playWithDelay(e.getOption("autoplayOnLoadDelay"))})},0),this.getOption("autoplayOnInteraction")&&(document.addEventListener("mousemove",i),document.addEventListener("touchstart",i))},t.prototype.playWithDelay=function(t){var e=this;t=parseInt(t),isNaN(t)&&(t=0),setTimeout(function(){e.play()},t)},window.JtCarousel=t})(jQuery),jQuery(function(t){t(".jt-carousel").each(function(){new JtCarousel(this,t(this).data("options"))})});