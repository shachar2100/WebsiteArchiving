function msieversion(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");return 0<e?parseInt(t.substring(e+5,t.indexOf(".",e)),10):0<t.indexOf("Trident/")?(e=t.indexOf("rv:"),parseInt(t.substring(e+3,t.indexOf(".",e)),10)):0<(e=t.indexOf("Edge/"))&&parseInt(t.substring(e+5,t.indexOf(".",e)),10)}function jt_ajax_get(t,e,n){var o;return(n=n||{}).message&&(o=new Snackbar({content:n.message,classes:"loading"})),jQuery.get(ajaxurl,t,function(t){o&&o.setContent(t.message||"OK").setClass({success:!0,loading:!1}).setTimeout(5e3),jQuery("body").trigger("jt-ajax-response",t),e&&e(t)}).fail(function(t){o&&(o.setClass({error:!0,loading:!1}).setTimeout(5e3),t.responseJSON&&t.responseJSON.message?o.setContent(t.responseJSON.message):o.setContent("Unknown error"))})}function jt_ajax_getp(t,e,n){var o=new FT_Promise(void 0,n);return jt_ajax_get(t,function(t){o.resolve(t)},e).fail(function(t){t.responseJSON&&t.responseJSON.message?o.reject({status:t.status,json:t.responseJSON,message:t.responseJSON.message}):o.reject({status:t.status,message:"Unknown error"})}),o}function jt_ajax_post(t,e,n){(n=n||{}).indicator?o=new Snackbar({content:n.message||"Loading...",classes:"loading"}):n.message&&(o=new Snackbar({content:n.message,classes:"loading"}));var o,i=jQuery.post(ajaxurl,t,function(t){o&&o.setContent(t.message||"OK").setClass({success:!0,loading:!1}).setTimeout(5e3),jQuery("body").trigger("jt-ajax-response",t),e&&e(t)}).fail(function(t){(o=!o&&n.show_error?new Snackbar({}):o)&&(o.setClass({error:!0,loading:!1}).setTimeout(5e3),t.responseJSON&&t.responseJSON.message?o.setContent(t.responseJSON.message):o.setContent("Unknown error"))});return t.action&&jQuery("body").trigger("jt-ajax-post-action",i).trigger("jt-ajax-post-action:"+t.action,i),i}function jt_ajax_postp(t,e,n){var o=new FT_Promise(void 0,n);return jt_ajax_post(t,function(t){o.resolve(t)},e).fail(function(t){t.responseJSON&&t.responseJSON.message?o.reject({status:t.status,json:t.responseJSON,message:t.responseJSON.message}):o.reject({status:t.status,message:"Unknown error"})}),o}function jt_maybe_confirm(t,e,n){t?xconfirm(t,e,n):e&&e()}function jt_input(t){if(!jQuery.isPlainObject(t))return!1;var e=t.type||"text";switch(e){case"textarea":o=jQuery(document.createElement("textarea"));break;case"select":var n,o=jQuery(document.createElement("select")),i=jt_resolve_object_link(t.options||[]);for(n in i){var s=i[n],a=jQuery(document.createElement("option"));a.attr("value",s.value),a.text(s.text||s.label||s.title),o.append(a)}break;default:(o=jQuery(document.createElement("input"))).attr("type",e)}for(n in t)"type"!=n&&"options"!=n&&o.attr(n,t[n]);return o[0]}function jt_generate_form_inputs(t,e,n,o){for(var i in n){var s;_.isObject(n[i])?jt_generate_form_inputs(t,e,n[i],o?o+"["+i+"]":""+i):((s=t.createElement("input")).type="hidden",s.name=o?o+"["+i+"]":""+i,s.value=n[i],e.appendChild(s))}}function jt_get_object_key(t,e){for(var n=_.isArray(e)?e:_.filter(e.split(/[\[\]\.]/)),o=0,i=n.length;o<i;++o){e=n[o];if(!(t&&e in t))return;t=t[e]}return t}function jt_resolve_object_link(t){return _.isString(t)&&"@"==t[0]?jt_get_object_key(window,t.substr(1)):t}function jt_resolve_object_link_deep(t,e){if(void 0===e&&(e=window),_.isString(t)&&"@"===t[0])return jt_get_object_key(e,t.substr(1));if(_.isObject(t))for(var n in t)t[n]=jt_resolve_object_link_deep(t[n],e);return t}function jt_set_object_key(t,e,n){for(var o=_.isArray(e)?e:_.filter(e.split(/[\[\]\.]/)),i=0,s=o.length-1;i<s;++i)t[e=o[i]]||(t[e]={}),t=t[e];t[o[o.length-1]]=n}function jt_push_array_key(t,e,n){for(var o=_.isArray(e)?e:_.filter(e.split(/[\[\]\.]/)),i=0,s=o.length-1;i<s;++i)t[e=o[i]]||(t[e]={}),t=t[e];return _.isUndefined(t[o[o.length-1]])&&(t[o[o.length-1]]=[]),t[o[o.length-1]].push(n),t[o[o.length-1]].length-1}function jt_unset_object_key(t,e){for(var n=_.isArray(e)?e:_.filter(e.split(/[\[\]\.]/)),o=0,i=n.length-1;o<i;++o){if(!t[e=n[o]])return;t=t[e]}delete t[n[n.length-1]]}function jt_delete_object_value(t,e,n){for(var o,i=_.isArray(e)?e:_.filter(e.split(/[\[\]\.]/)),s=0,a=i.length;s<a;++s){if(!t[e=i[s]])return;t=t[e]}if(_.isArray(t))for(;-1!==(o=t.indexOf(n));)t.splice(o,1);else if(_.isObject(t))for(var s in t)t[s]===n&&delete t[s]}function jt_linkify(t){return _.isString(t)?t.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"):t}function jt_linkify_n(t,n){var o;return _.isString(t)?(void(o=0)===n&&(n="link"),t.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,function(t,e){return'<a href="'+e+'" target="_blank">'+n+ ++o+"</a>"})):t}function jt_strip_tags(t){return t.replace(/(<([^>]+)>)/gi,"")}function jt_truncate_text_chars(t,e,n){return t.length>e?(void 0===n&&(n="..."),t.substring(0,e)+n):t}function jt_text_max_words(t,e,n){for(var o=/\s+/g,i=0;;){var s=o.exec(t);if(!s)return t;if((0!==i||0!==s.index)&&e<=++i)return void 0===n&&(n="..."),t.substring(0,o.lastIndex).trim()+n}}function jt_text_truncate_words(t,e,n){t=t.split(/\s+/,e+1);return t.length>e?(void 0===n&&(n="..."),t.slice(0,e).join(" ")+n):t.join(" ")}function JT_URL(t){this.url=t,this.search_params=null,this.parse()}function jt_extend(t,e){function n(){}return n.prototype=e.prototype,t.prototype=new n,(t.prototype.constructor=t).superclass=e.prototype,t}jQuery.fn.input_data=function(e){var n={};return this.find(":input").each(function(){var t;e&&!e.call(this)||!("checkbox"!=(t=this.getAttribute("type"))&&"radio"!=t||this.checked)||jt_set_object_key(n,this.name,this.value)}),n},jQuery.fn.set_input_data=function(e){return this.find("*:input").each(function(){var t=jt_get_object_key(e,this.name);jQuery(this).val(t||"")}),e},jQuery.extend(jQuery.expr.pseudos,{val:function(t,e,n){n=n&&n[3]||"";if(0==n.length)return!0;for(var o=!1,i=n.split(","),s=0,a=i.length;s<a;++s){var r=i[s];if(r)if(o="~"==r[0]?(r=r.substr(1),!(!t.value||-1===t.value.indexOf(r))):t.value==r)break}return o}}),JT_URL.prototype.parse=function(){var t;return this.url&&(t=this.url.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/))?(this.schema=t[2]||"",this.host=t[4]||"",this.path=t[5]||"",this.search=t[7]||"",this.hash=t[9]||"",this.isValid=!0):this.isValid=!1},JT_URL.prototype.toString=function(){var t;return this.isValid?(t="",this.schema&&(t+=this.schema+"://"),t+=this.host,this.path?t+=this.path:t+="/",this.search&&(t+="?"+this.search),this.hash&&(t+="#"+this.hash),t):""},JT_URL.prototype.getSearchParams=function(){for(var t=this.search.split("&"),e={},n=0;n<t.length;n++){var o=t[n].split("=");e[o[0]]=o[1]}return e},JT_URL.prototype.getSearchParam=function(t){return this.search_params||(this.search_params=this.getSearchParams()),this.search_params[t]},JT_URL.prototype.setSearchParam=function(t,e){this.getSearchParam(t),this.search_params[t]=e,this.buildSearch()},JT_URL.prototype.buildSearch=function(){var t,e=[];for(t in this.search_params)e.push(encodeURIComponent(t)+"="+encodeURIComponent(this.search_params[t]));this.search=e.join("&")};var jt_templates={};function jt_re_escape(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function JT_Wildcard_Expr(t){this.pattern=t}function jq_filter_attr_match(t,e){var n=new JT_Wildcard_Expr(e);return function(){return n.test(jQuery(this).attr(t))}}function jt_compile_bool(t){function e(t){return _.isArray(t)?_.map(t,function(t){return new JT_Wildcard_Expr(t)}):[new JT_Wildcard_Expr(t)]}var n,o=[],i=t.split("|");for(n in i){var s,a=i[n].split("&"),r=[];for(s in a){var l=a[s].split(/(!=|==|~=|=)/);if(l.length<3)throw"Invalid bool expression";switch(l[1]){case"=":case"==":r.push(((n,t)=>{var o=e(t);return function(t){for(var e in o)if(o[e].test(t[n]))return!0;return!1}})(l[0],l[2].split(",")));break;case"!=":r.push(((n,t)=>{var o=e(t);return function(t){for(var e in o)if(o[e].test(t[n]))return!1;return!0}})(l[0],l[2].split(",")));break;default:throw"Invalid bool expression"}}o.push(r)}return function(e){return _.some(o,function(t){return _.every(t,function(t){return t(e)})})}}function jt_template(t,e){return t in jt_templates||(jt_templates[t]=_.template(jQuery("#"+t).text())),t=jt_templates[t],"object"==typeof e?t(e):t}function parse_url(t){if(scheme="(?:(\\w+)://)",userpass="(?:(\\w+)\\:(\\w+)@)",host="([^/:]+)",port="(?:\\:(\\d*))",path="(/[^#?]*)",query="(?:\\?([^#]+))",fragment="(?:#(.+$))",re=new RegExp(scheme+"?"+userpass+"?"+host+"?"+port+"?"+path+"?"+query+"?"+fragment+"?","i"),res=t.match(re))return{scheme:res[1],user:res[2],pass:res[3],host:res[4],port:res[5],path:res[6],query:res[7],fragment:res[8]}}function getQueryVariable(t){for(var e=window.location.search.substring(1).split("&"),n=0;n<e.length;n++){var o=e[n].split("=");if(o[0]==t)return o[1]}return!1}function getQueryVars(t){var e,n=window.location.search.substring(1).split("&"),o={};for(e in n){var i=n[e].split("=",2);o[i[0]]=i[1]}return o}function escape_html(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#x60;"};return String(t).replace(/[&<>"'`]/g,function(t){return e[t]})}function redirect(t){location.href=redirect.apply_filters(t)}function format_file_size(t){return t<1e3?t+" b":t<1e6?Math.round(10*t/1e3)/10+" Kb":t<1e9?Math.round(10*t/1e6)/10+" Mb":t<1e12?Math.round(10*t/1e9)/10+" Gb":t}function format_price(t){var e;return t=parseFloat(t),isNaN(t)?"":(e=(0<=t?"":"-")+localize.currency_prefix,t=Math.abs(t),e+(Math.round(t)==t?t:t.toFixed(2)))}function Snackbar(t){this.options=t,this.callbacks=null,this.$el=jQuery("<div/>");var e="snackbar "+(t.classes||"");switch(this.options.textalign){case"left":e+=" text-left";break;case"right":e+=" text-right";break;case"center":e+=" text-center"}this.$el.addClass(e),this.$el.hide(),this.show()}function snackbar_show_wc_notices(t,e){for(var n in t){var o,i=t[n];for(o in i){var s=i[o];new Snackbar(_.extend({content:s.notice,dismissable:!1,classes:n,timeout:e},s.data&&s.data.snack))}}}function FT_Object(){this.callbacks={},this.one_callbacks={}}function FT_Modal(t){FT_Object.call(this),this.$el=null,this.options=t||{},this._mount_points={},this._blocked=!1,this._blockedCount=0,this._isOpen=!1}function FT_Modal_Message(t){t=jQuery.extend({title:"",buttons:[{action:"close",title:"Close",primary:!0}],center_buttons:!0,show_title:!1,destroy:!0},t),FT_Modal.call(this,t)}function FT_Modal_Error(t){t=jQuery.extend({title:'<span class="text-danger"><i class="fa fa-exclamation-circle"></i> Error</span>',buttons:[{action:"close",title:"Close",primary:!0}],center_buttons:!0,destroy:!0},t),FT_Modal.call(this,t)}function FT_Modal_Ajax_Form(t){t=jQuery.extend({title:"Ajax form",buttons:[{action:"close",title:"Cancel"},{action:"submit",title:"Submit"}],destroy:!0,content:localize.spinner},t),FT_Modal.call(this,t),this.on("open",function(){this.set_content(localize.spinner)}),this.on("show",function(){var e=this,t=this.option("ajaxurl"),n=this.option("ajaxdata");jQuery.get(t,n,function(t){e.set_content(t)})})}function JT_Task_Queue(t){FT_Object.call(this);var e=this;this.idx=-1,this.queue=t||[],this.store={},this.next_callback=function(){e.next()}}function set_object_key(t,e,n){for(var o=0,i=e.length-1;o<i;++o){var s=e[o];t[s]||(t[s]={}),t=t[s]}t[e[e.length-1]]=n}function is_mobile_browser(){var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}function xmessage(t){new FT_Modal_Message(_.isObject(t)?t:{content:t,size:t.length<100?"sm":""}).open()}function xconfirm(t,e,n){var o,i,t=_.isObject(t)?(s=t.title,o=t.message,i=t.modal_class||"",[{action:"close",title:t.no||"No"},{action:"confirm",title:t.yes||"Yes",primary:!0}]):(o=t,[{action:"close",title:"No"},{action:"confirm",title:"Yes",primary:!(i=s="")}]),s=new FT_Modal({show_title:!!s,title:s,modal_class:i,content:o,center_buttons:!0,destroy:!0,buttons:t});s.on("action.close",function(){n&&n()}),s.on("action.confirm",function(){this.close(),e&&e()}),s.open()}function xask(t){var i=new FT_Modal({show_title:!1,title:"",content:t,center_buttons:!0,destroy:!0,buttons:[]});return i.open(),{on:function(t,e,n){var o=i.options.buttons;return o.push(jQuery.extend({title:t,onclick:function(){this.close(),e&&e()}},n)),i.set_buttons(o),this}}}function xprompt(o,t){(o=o||{}).input?e=jQuery.isPlainObject(o.input)?jQuery(jt_input(o.input)):jQuery(o.input):(e=jQuery(document.createElement("input"))).attr("type","text"),e.val(o.value||""),e.css("width","100%");var e,n=o.buttons||[],i=(n.push({action:"submit",title:o.submit_title||"Submit",primary:!0}),[{action:"close",title:o.cancel_title||"Cancel"}]),n=new FT_Modal(jQuery.extend({show_title:!!o.title,title:o.title||"",content:o.content||"",destroy:!0,buttons:n,alt_buttons:i},o.modal));return n.on("created",function(){this.$el.find(".modal-body").append(e),o.tabIndent&&e.on("keydown",function(t){var e,n;"Tab"===t.key&&(t.preventDefault(),t=this.selectionStart,e=this.selectionEnd,n=o.tabIndentSymbol||"\t",this.value=this.value.substring(0,t)+n+this.value.substring(e),this.selectionStart=this.selectionEnd=t+n.length)})}),n.on("action.submit",function(){t&&t.call(this,e.val())}),n.open(),n}function xblock(t,e){e?t.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}):t.unblock()}function jt_file_ext(t){var e="";return t.name&&(e=t.name.substr(t.name.lastIndexOf(".")+1||1/0).toLowerCase()),e=t.url&&!e?t.url.substr(t.url.lastIndexOf(".")+1||1/0).toLowerCase():e}function jt_get_file_icon_url(t){t=jt_file_ext(t);return localize.img_path+"/ext-"+t+".png"}function jt_get_file_preview(t){var e=jt_file_ext(t),n=!0,e=(-1!=["jpg","jpeg","png","gif","webp"].indexOf(e)||(t=localize.img_path+"/ext-"+e+".png",n=!1),document.createElement("div"));return e.className=n?"jt-thumbnail":"jt-file-icon",e.appendChild(window.loadImage(t.url||t,function(){})),e}function jt_scroll_to(t,e,n,o){var i,t=jQuery(t);n=n||1e3,void 0===o&&(o=0<(i=jQuery("#header")).length?-(i.outerHeight()+50):0),t.length&&jQuery("html, body").stop().animate({scrollTop:t.offset().top+o},n,e)}function jt_scroll_area_to(t,e,n,o,i){var s,e=jQuery(e);o=o||1e3,i=i||0,e.length&&(s=0,s=(t=jQuery(t)).length?e.offset().top+t.scrollTop()-t.offset().top:(t=jQuery("html, body"),e.offset().top),t.stop().animate({scrollTop:s+i},o,n))}function jt_scroll_top(t,e,n){n=n||1e3,jQuery("html, body").stop().animate({scrollTop:t},n,e)}function jt_submit_form(t,e,n){var o=document.createElement("form");o.setAttribute("method",e||"POST"),n&&o.setAttribute("action",n),jt_generate_form_inputs(document,o,t),document.getElementsByTagName("body")[0].appendChild(o),o.submit()}function jt_array_find(t,e,n){for(var o in t)if(e.call(n,t[o],o))return t[o];return null}function jt_array_find_index(t,e,n){for(var o in t)if(e.call(n,t[o],o))return o;return-1}function jt_clone(t){if(void 0!==t)return JSON.parse(JSON.stringify(t))}function jt_clone_defaults(){return JSON.parse(JSON.stringify(_.defaults.apply(_,[{}].concat(_.toArray(arguments)))))}function jt_compare_objects(t,e,n){var o,i=_.keys(t),s=_.keys(e),a=_.uniq(i.concat(s));for(o in a=n&&n.exclude_keys?_.difference(a,n.exclude_keys):a){var r=t[a[o]],l=e[a[o]];if(n&&n.array_compare&&_.isArray(r)&&_.isArray(l)&&!n.array_compare(r,l))return!1;if(r!==l&&!(_.isObject(r)&&_.isObject(l)&&jt_compare_objects(r,l)))return!1}return!0}function FT_Promise(t,e){this.data=t||{},this.thisArg=e,this.resolve_callbacks=[],this.reject_callbacks=[],this.always_callbacks=[]}function jt_clipboard_copy(t){var e="rtl"===document.documentElement.getAttribute("dir"),n=window.pageYOffset||document.documentElement.scrollTop,o=document.createElement("textarea");o.style.position="absolute",o.style[e?"right":"left"]="-9999px",o.style.top=n+"px",o.setAttribute("readonly",""),o.value=t,document.body.appendChild(o),o.select(),document.execCommand("copy"),o.remove()}function jt_search_predicate(t){var n,t=t.trim();return""===t?null:(n=_.map(t.split(/\s+/),function(t){return new RegExp(_.map(_.filter(t.split("|")),jt_re_escape).join("|"),"i")}),function(t){for(var e in n)if(!t.match(n[e]))return!1;return!0})}function jt_rand_str(t,e){void 0===t&&(t=10);for(var n=(e=void 0===e?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789":e).length,o="",i=0;i++<t;)o+=e.charAt(Math.floor(Math.random()*n));return o}function jt_nl2br(t){return t.replace(/(\n\r|\r\n|\r|\n){2,}/g,"<br><br>").replace(/\n\r|\r\n|\r|\n/g,"<br>")}JT_Wildcard_Expr.prototype.test=function(t){return this.re||(this.re=new RegExp("^"+jt_re_escape(this.pattern).replace(/\\\*/g,".*")+"$")),this.re.test(t)},JT_Wildcard_Expr.prototype.match=function(t){return this.match_re||(this.match_re=new RegExp("^"+jt_re_escape(this.pattern).replace(/\\\*/g,"(.*)")+"$")),this.match_re.exec(t)},redirect.add_filter=function(t){redirect.filters||(redirect.filters=[]),redirect.filters.push(t)},redirect.apply_filters=function(t){if(redirect.filters)for(var e=0;e<redirect.filters.length;++e)t=redirect.filters[e](t);return t},jQuery.fn.xrender=function(t){for(var e in t){var n=e.split("@"),e=t[e],o=""==n[0]||"this"==n[0]||"self"==n[0]?this:this.find(n[0]);2==n.length?o[n[1]].apply(o,e.constructor==Array?e:[e]):"function"==typeof e?e(o):o.html(e)}return this},jQuery.fn.valeq=function(t){return this.filter(function(){return jQuery(this).val()==t})},jQuery.fn.dataeq=function(t,e){return this.filter(function(){return jQuery(this).data(t)==e})},(n=>{n(function(){n(".ft-question").each(function(t,e){n(e).popover({html:!0,trigger:"manual",container:"body",content:n(n(e).data("answer")).html()})}).on("mouseenter",function(){var t=jQuery(this),e=t.data("bs.popover");e&&e.tip().is(":visible")||t.popover("show")}),n(document).on("click scroll",function(t){0==jQuery(t.target).closest(".popover").length&&jQuery(".ft-question").popover("hide")})})})(jQuery),jQuery(function(n){n("body").on("mouseenter",".ft-star-rating .star",function(){var t=n(this).closest(".ft-star-rating"),e=n(this).data("value");t.find("input.star-value").val(),t.find(".star").each(function(){n(this).data("value")<=e?n(this).addClass("hover"):n(this).removeClass("hover")})}),n("body").on("click",".ft-star-rating .star",function(){var t=n(this).closest(".ft-star-rating"),e=n(this).data("value");t.find("input.star-value").val(e).trigger("change"),t.find(".star").each(function(){n(this).data("value")<=e?n(this).addClass("hover"):n(this).removeClass("hover")})}),n("body").on("mouseleave",".ft-star-rating",function(){var t=n(this).closest(".ft-star-rating"),e=t.find("input.star-value").val();t.find(".star").each(function(){n(this).data("value")<=e?n(this).addClass("hover"):n(this).removeClass("hover")})})}),jQuery(function(r){var t=r(document.body);function l(t,e,n){var o=r(document.createElement("input"));return o.attr("type",t),o.attr("name",e),o.attr("value",n),o}function e(t,e,n){return!t||(xconfirm(t,e,n),!1)}function s(t,s){if(!t)return!0;if((t=jt_resolve_object_link(t)).template){var e,n=r.extend({},t.template_vars);for(e in n)"string"==typeof n[e]&&"@"==n[e].substr(0,1)&&(n[e]=jt_get_object_key(window,n[e].substr(1)));t.content=jt_template(t.template,n),delete t.template,delete t.template_vars}else if(t.js_app)t.content=jQuery("#"+t.js_app).text();else if(t.callback)return c(t.callback,s),!1;var o,i,a=new FT_Modal(r.extend({title:"Please confirm",buttons:[{action:"submit",title:"Submit",primary:!0}],alt_buttons:[{action:"close",title:"Cancel"}],destroy:!0,prompt_callback:s},t));return a.on("open",function(){this.$el.on("change","[data-validator]",function(){r(this).closest(".form-group").removeClass("has-error")})}),a.on("action.submit",function(t,e){this.$el.find(".form-group.has-error").removeClass("has-error");var n=this.$el.find("[data-validator]:enabled").filter(function(){return!is_xvalid(r(this).data("validator"),this)});if(0<n.length)n.closest(".form-group").addClass("has-error");else{var o=this.$el.find("*:input:enabled").serializeArray();if(e)for(var i in e)o.push({name:i,value:e[i]});this.close(),s&&s(o)}}),t.js_app&&(o=jt_get_object_key(window,t.js_app),i=jt_resolve_object_link(t.js_app_data),_.isFunction(o))&&a.on("created",function(){o.call(this,i)}),a.open(),!1}function c(t,e){var n,o;_.isString(t)?n=jt_get_object_key(window,t):_.isObject(t)&&_.isString(t.name)&&(n=jt_get_object_key(window,t.name),o=t.params),_.isFunction(n)&&n(e,o)}function n(t){this.modal=null,this.url=t.url||ajaxurl,this.params=t.params}function o(){var t=r(this),t=t.is(".jt-hoverdown")?t:t.closest(".jt-hoverdown"),e=t.find(".jt-hoverdown-toggle"),n=t.find("input").val(),t=t.find("[data-value]").filter(function(){return r(this).data("value")==n}),t=t.length?t.attr("title"):e.data("title");e.html(t)}t.on("show.bs.modal",function(t){var t=r(t.target),e=parseInt(t[0].style.zIndex),n=t.data("bs.modal");isNaN(e)?(e=void 0,r(".modal.in").each(function(){var t=parseInt(r(this).css("z-index"));isNaN(t)||(void 0===e||e<t)&&(e=t)}),void 0!==e&&(t.css("z-index",e+11),setTimeout(function(){n&&n.$backdrop&&n.$backdrop.css("z-index",e+1)},0))):setTimeout(function(){n&&n.$backdrop&&n.$backdrop.css("z-index",e-10)},0)}),r(document).on("hidden.bs.modal",".modal",function(){r(".modal:visible").length&&r(document.body).addClass("modal-open")}),t.on("show.bs.dropdown",".table-responsive",function(){r(this).css("overflow","inherit")}),t.on("hide.bs.dropdown",".table-responsive",function(){r(this).css("overflow","auto")}),t.on("click",".table-check-row tr",function(t){r(this).find(":checkbox,:radio").prop("checked",!0).trigger("change")}),t.on("click",".click-remove",function(t){return t.preventDefault(),r(this).remove(),!1}),r(".widget.expandable").each(function(){var t=r(this);0==t.find(".expand").length?t.removeClass("expandable"):t.find(".widgettitle").attr("title","Click for more options")}),t.on("click",".widget.expandable .widgettitle",function(){var t=r(this).closest(".widget");t.toggleClass("expanded"),t.is(".expanded")?t.find(".expand").not(".active").slideDown():t.find(".expand").not(".active").slideUp()}),t.on("click",".toggle-group-checkbox",function(){r(this).closest(".toggle-group").find(".toggle-group-content").toggle(r(this).is(":checked"))}),t.on("change",".toggle-group-input",function(){var t=r(this),e=t.closest(".toggle-group").find(".toggle-group-content"),i=t.val(),s={value:t.val()};e.each(function(){var t,e=r(this),n=e.data("tg-value"),o=e.data("tg-cond");void 0!==n?t=i==n:void 0!==o&&(t=new Function("__","with(__){return "+o+"}")(s)),e.toggle(t),e.find(":input").prop("disabled",!t)})}),t.on("click contextmenu",".jt-dropdown-backdrop",function(t){var e;t.target===this&&((e=(t=r(this)).data("ft_context_menu"))?e.close():t.remove())}),t.on("click",".jt-dropdown-backdrop a",function(t){var e=r(this).closest(".jt-dropdown-backdrop").data("ft_context_menu");e&&e.close()}),n.prototype.run=function(t){var n=this,o=new Snackbar({content:"Loading...",classes:"loading"});return r.post(this.url,_.extend({},this.params,t),function(t){if(t&&t.continue?n.handleContinue(t.continue):n.handleFinish(),t&&t.message&&n.handleMessage(t.message),t&&t["jt-signal"])for(var e in t["jt-signal"])r(document.body).trigger("jt-signal:"+e,t["jt-signal"][e]);o.remove()}).fail(function(t){t.responseJSON&&t.responseJSON.message&&o.setContent(t.responseJSON.message).setClass({error:!0,loading:!1}).setTimeout(5e3)})},n.prototype.handleContinue=function(t){t.callback&&this.setCallback(t.callback),t.prompt?this.prompt(t.prompt):this.run()},n.prototype.handleFinish=function(){this.modal&&this.modal.close()},n.prototype.setCallback=function(t){t.url&&(this.url=t.url),t.params&&_.extend(this.params,t.params)},n.prototype.handleMessage=function(t){_.isString(t)?new Snackbar({content:t,timeout:3e3,classes:"success"}):_.isObject(t)&&new Snackbar(t)},n.prototype.prompt=function(t){var e,n=this;this.modal?(t.title&&this.modal.set_title(t.title),t.content&&this.modal.set_content(t.content),t.js_app&&this.modal.set_content(jQuery("#"+t.js_app.id).text()),t.submit&&this.modal.set_button(0,{title:t.submit})):(e={title:t.title||"",content:t.content||"",destroy:!0,buttons:[{action:"submit",title:t.submit||"Submit",primary:!0}],alt_buttons:[{action:"close",title:"Cancel"}]},t.js_app&&(e.content=jQuery("#"+t.js_app.id).text()),this.modal=new FT_Modal(e),this.modal.off("action.submit"),this.modal.on("action.submit",function(){n.modal.$el.find(".form-group.has-error").removeClass("has-error");var t=n.modal.$el.xvalid_find_invalid({skip_disabled:!0});0<t.length?t.closest(".form-group").addClass("has-error"):(t=n.modal.$el.input_data(),n.modal.block_modal(!0),n.run(t).always(function(){n.modal.block_modal(!1)}))})),this.modal.open(),t.js_app&&(e=jt_get_object_key(window,t.js_app.id))&&e.call(this.modal,_.extend({$submit:function(t){n.modal.block_modal(!0),n.run(t).always(function(){n.modal.block_modal(!1)})}},jt_resolve_object_link(t.js_app.data)))},t.on("click","[data-jt-modal]",function(t){var e,n,o;t.preventDefault(),(t=jt_resolve_object_link(r(this).data("jt-modal")))&&t.js_app&&(e=jt_get_object_key(window,t.js_app))&&(t.content=jQuery("#"+t.js_app).text(),n=new FT_Modal(r.extend({title:"Please confirm",buttons:[{action:"submit",title:"Submit",primary:!0}],alt_buttons:[{action:"close",title:"Cancel"}],destroy:!0},t)),o=jt_resolve_object_link(t.js_app_data),n.on("created",function(){e.call(this,o)}),n.open())}),t.on("click","[data-jt-action]",function(t){t.preventDefault();var o,i=r(this);1!=(t=i.attr("disabled"))&&"true"!==t&&"yes"!==t&&"disabled"!==t&&(o=jt_resolve_object_link(i.data("jt-action")))&&!(t=function(t){i.addClass("loading"),i.attr("disabled",!0);var e=_.extend({},o.params);if(_.isArray(t))for(var n in t)e[t[n].name]=t[n].value;else _.isObject(t)&&(e=_.extend(e,t));jt_submit_form(e)})!==e(o.confirm,t)&&!1!==s(o.prompt,t)&&t()}),t.on("click","[data-submit]",function(t){t.preventDefault();var n,o=r(this);1!=(t=o.attr("disabled"))&&"true"!==t&&"yes"!==t&&"disabled"!==t&&(n=o.data("submit"))&&!(t=function(t){if(o.addClass("loading"),o.attr("disabled",!0),_.isArray(t))for(var e in t)n[t[e].name]=t[e].value;else if(_.isObject(t))for(var e in t)n[e]=t[e];jt_submit_form(n)})!==e(o.data("confirm"),t)&&!1!==s(o.data("prompt"),t)&&t()}),t.on("click","[data-submit_ajax]",function(t){t.preventDefault();var o,i=r(this);1!=(t=i.attr("disabled"))&&"true"!==t&&"yes"!==t&&"disabled"!==t&&(o=i.data("submit_ajax"))&&!(t=function(t){if(i.addClass("loading"),i.attr("disabled",!0),_.isArray(t))for(var e in t)o[t[e].name]=t[e].value;else if(_.isObject(t))for(var e in t)o[e]=t[e];var n=new Snackbar({content:"Loading..."});r.post(ajaxurl,o,function(t){r("body").trigger("jt-ajax-response",t),n.remove()}).fail(function(t){t.responseJSON&&t.responseJSON.message&&n.setContent(t.responseJSON.message).setClass("error",!0).setTimeout(3e3)}).always(function(){i.removeClass("loading"),i.attr("disabled",!1)})})!==e(i.data("confirm"),t)&&!1!==s(i.data("prompt"),t)&&t()}),t.on("click","[data-ajax-modal]",function(t){t.preventDefault();var o,i=r(this);1!=(t=i.attr("disabled"))&&"true"!==t&&"yes"!==t&&"disabled"!==t&&(o=i.data("ajax-modal"))&&!(t=function(t){if(i.addClass("loading"),i.attr("disabled",!0),_.isArray(t))for(var e in t)o[t[e].name]=t[e].value;else if(_.isObject(t))for(var e in t)o[e]=t[e];var n=new Snackbar({content:"Loading..."});r.get(ajaxurl,o,function(t){n.remove(),new FT_Modal({title:i.attr("title")||i.text(),center_buttons:!0,buttons:[{action:"close",title:"Close",primary:!0}],content:t}).open()}).fail(function(t){t.responseJSON&&t.responseJSON.message&&n.setContent(t.responseJSON.message).setClass("error",!0).setTimeout(3e3)}).always(function(){i.removeClass("loading"),i.attr("disabled",!1)})})!==e(i.data("confirm"),t)&&!1!==s(i.data("prompt"),t)&&t()}),t.on("click","[data-xaction]",function(t){t.preventDefault();var e=(t=r(this)).attr("disabled");1!=e&&"true"!==e&&"yes"!==e&&"disabled"!==e&&new n(jt_clone(t.data("xaction"))).run()}),t.on("submit","form.jt-action",function(){var t,e,n=r(this);return!1!=!((e=(t=n).data("confirm"))&&!t.data("confirmed")&&(xconfirm(e,function(){t.data("confirmed",!0),t.submit()}),1))&&!1!==(s=>{if(s.data("prompted"))return!0;var t=jt_resolve_object_link(s.data("prompt"));if(!t)return!0;if((t=r.extend({},t)).template){var e,n=r.extend({},t.template_vars);for(e in n)"string"==typeof n[e]&&"@"==n[e].substr(0,1)&&(n[e]=jt_get_object_key(window,n[e].substr(1)));t.content=jt_template(t.template,n),delete t.template,delete t.template_vars}else if(t.js_app)t.content=jQuery("#"+t.js_app).text();else if(t.callback)return c(t.callback,function(t){jt_generate_form_inputs(document,s[0],t),s.data("prompted",!0),s.submit()}),!1;var o,i,a=new FT_Modal(r.extend({title:"Please confirm",buttons:[{action:"submit",title:"Submit",primary:!0}],alt_buttons:[{action:"close",title:"Cancel"}],destroy:!0},t));return a.$form=s,a.on("open",function(){this.$el.on("change","[data-validator]",function(){r(this).closest(".form-group").removeClass("has-error")})}),a.on("action.submit",function(t,e){this.$el.find(".form-group.has-error").removeClass("has-error");var n=this.$el.find("[data-validator]:enabled").filter(function(){return!is_xvalid(r(this).data("validator"),this)});if(0<n.length)n.closest(".form-group").addClass("has-error");else{var o=this.$el.find("*:input:enabled").serializeArray();for(i in o)s.append(l("hidden",o[i].name,o[i].value));if(e)for(var i in e)s.append(l("hidden",i,e[i]));this.close(),s.data("prompted",!0),s.submit()}}),t.can_skip&&a.on("action.skip",function(t,e){this.close(),jt_generate_form_inputs(document,s[0],e),s.data("prompted",!0),s.submit()}),t.js_app&&(o=jt_get_object_key(window,t.js_app),i=jt_resolve_object_link(t.js_app_data),_.isFunction(o))&&a.on("created",function(){o.call(this,i)}),a.open(),!1})(n)&&(new Snackbar({content:n.data("loading")||"Loading",classes:"loading"}),n.addClass("loading"),void n.find(":submit").prop("disabled",!0))}),t.on("jta-action",function(t,e){e&&0<(e=r("form.jt-action.jt-action--"+(e=e))).length&&e.submit()}),t.on("jt-ajax-response",function(t,e){if(e.prompt&&new FT_Modal(e.prompt).open(),e.html_partials)for(var n in e.html_partials)r(n).replaceWith(e.html_partials[n]);if(e.js_partials)for(var o in e.js_partials)jt_set_object_key(window,o,e.js_partials[o]);e.redirect&&(document.location=e.redirect),e.reload_page&&document.location.reload()}),t.on("click",function(t){r(".jt-hoverdown").removeClass("open"),(t=(t=r(t.target)).is(".jt-hoverdown")?t:t.closest(".jt-hoverdown")).length&&!t.is(".disabled")&&t.addClass("open")}),t.on("click",".jt-hoverdown [data-value]",function(t){var e=(n=r(this)).closest(".jt-hoverdown"),n=n.data("value");e.find("input").val(n).trigger("change"),(e=(e=r((e=t).target)).is(".jt-hoverdown")?e:e.closest(".jt-hoverdown")).length&&e.removeClass("open"),t.preventDefault(),t.stopPropagation()}),t.on("change",".jt-hoverdown input",o),r(".jt-hoverdown").each(o)}),jQuery(function(r){function l(t){r(".jt-dropdown.open").removeClass("open")}r(document.body).on("click",".jt-dropdown-toggle",function(t){t.preventDefault(),t.stopPropagation();var e,n,o,i,s=(t=r(this).closest(".jt-dropdown")).find(".jt-dropdown-menu"),a=t.is(".open");l(),a||(t.addClass("open"),"auto"===(t.data("placement")||"auto")&&(a=t.offset().left-r(document).scrollLeft(),e=t.offset().top+t.outerHeight()-r(document).scrollTop(),n=s.outerWidth(),s=s.outerHeight(!0),o=(i=r(window)).width(),i=i.height(),o<a+n?t.addClass("right"):t.removeClass("right"),i<e+s?t.addClass("top"):t.removeClass("top")))}),r(document.body).on("click",l)}),Snackbar.prototype.get_container=function(){var t=".snackbar-container",e="snackbar-center";if(this.options.container)switch(this.options.container){case"bl":case"bc":case"br":case"left":case"right":e="snackbar-"+this.options.container}e&&(t=t+"."+e);t=jQuery(t);return 0==t.length&&((t=jQuery("<div/>")).addClass("snackbar-container"),e&&t.addClass(e),jQuery("body").append(t)),t},Snackbar.prototype.show=function(){var t=this,e=this.get_container();return this.$el.html(this.options.content||"..."),this.options.prepend?e.prepend(this.$el):e.append(this.$el),this.$el.fadeIn("fast"),0<this.options.timeout&&this.setTimeout(this.options.timeout),!this.options.dismissable&&void 0!==this.options.dismissable||this.$el.off("click").on("click",function(){t.close()}),this.$el.on("mouseenter",function(){t.clearTimeout()}).on("mouseleave",function(){t.setTimeout(t.options.timeout)}),this},Snackbar.prototype.remove=function(){return this.$el.remove(),this},Snackbar.prototype.close=function(){var t=this;return this.$el.fadeOut("fast",function(){t.$el.remove()}),this},Snackbar.prototype.closeOnTimeout=function(){this._timeoutID=0,this.$el.is(":hover")||this.close()},Snackbar.prototype.setClass=function(t,e){if(_.isObject(t))for(var n in t)this.$el.toggleClass(n,t[n]);else this.$el.toggleClass(t,e);return this},Snackbar.prototype.setContent=function(t){return this.options.content=t,this.$el.html(this.options.content),this},Snackbar.prototype.setTimeout=function(t){var e=this;return this.clearTimeout(),0<t&&(this._timeoutID=setTimeout(function(){e.closeOnTimeout()},t),this.$el.addClass("timeout timeout-"+t)),this.options.timeout=t,this},Snackbar.prototype.clearTimeout=function(){this._timeoutID&&(this.$el.removeClass("timeout"),clearTimeout(this._timeoutID),this._timeoutID=0)},Snackbar.prototype.jqxhrError=function(t,e){this.setClass("error"),t.responseJSON&&t.responseJSON.message?this.setContent(t.responseJSON.message):this.setContent("Unknown error"),this.setTimeout(e||3e3)},FT_Object.prototype.one=function(t,e){this.one_callbacks[t]||(this.one_callbacks[t]=[]),_.isString(e)&&e in this&&(e=this[e]),_.isFunction(e)&&this.one_callbacks[t].push(e)},FT_Object.prototype.on=function(t,e){if(_.isObject(t))for(var n in t)this.on(n,t[n]);return this.callbacks[t]||(this.callbacks[t]=[]),_.isString(e)&&e in this&&(e=this[e]),_.isFunction(e)&&this.callbacks[t].push(e),this},FT_Object.prototype.off=function(t,e){if(t){if(_.isObject(t))for(var n in t)this.off(n,t[n]);var o;if(e)return _.isString(e)&&e in this&&(e=this[e]),this.callbacks[t]&&0<=(o=this.callbacks[t].indexOf(e))&&this.callbacks[t].splice(o,1),this.one_callbacks[t]&&0<=(o=this.one_callbacks[t].indexOf(e))&&this.one_callbacks[t].splice(o,1),this;this.callbacks[t]=[],this.one_callbacks[t]=[]}else this.callbacks={},this.one_callbacks={}},FT_Object.prototype.trigger=function(t,e){var n=this.callbacks[t];if(n)for(var o in n)n[o].apply(this,e);if(n=this.one_callbacks[t]){for(var o in n)n[o].apply(this,e);this.one_callbacks[t]=[]}},FT_Object.prototype.emit=function(t,e){this.trigger(t,e)},FT_ModalDefaultOptions={link_template:'<a href="{url}" data-action="{action}" data-index="{index}" tabindex tabindex="{tabindex}">{title}</a>',button_template:'<button type="{type}" class="btn btn-default" data-action="{action}" data-index="{index}" tabindex="{tabindex}" {disabled}>{title}</button>',primary_button_template:'<button type="{type}" class="btn btn-primary" data-action="{action}" data-index="{index}" tabindex="{tabindex}" {disabled}>{title}</button>',template:function(){var t,e=!1===this.option("show_footer")?"":this.option("center_buttons")?'<div class="modal-footer"><div class="text-center"><div data-mount="alt_buttons" style="display:inline-block"></div><div data-mount="buttons" style="display:inline-block"></div></div></div>':'<div class="modal-footer xs-center"><div class="sm-pr md-pr lg-pr xs-mgb" data-mount="buttons"></div><div class="sm-pl md-pl lg-pl" data-mount="alt_buttons"></div></div>',n=(!1===this.option("show_title")?t="":(!(t='<div class="modal-header">')!==this.option("show_close")&&(t+='<button type="button" class="close" data-action="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>'),t+='<h4 class="modal-title" data-mount="title"></h4></div>'),"modal fade");return!0===this.option("centered")&&(n+=" centered"),'<div class="'+n+'" tabindex="-1" role="dialog"><div class="modal-dialog {size_class} {modal_class}" role="document"><div class="modal-content">'+t+'<div class="modal-body" data-mount="content"></div>'+e+"</div></div></div>"},size_classes:{sm:"modal-sm",lg:"modal-lg",xl:"modal-xl",full:"modal-full","full-xy":"modal-full-xy",auto:"modal-auto"},title:"Modal title",content:"",buttons:[{action:"close",title:"Close"},{action:"accept",title:"Ok"}],alt_buttons:[]},jt_extend(FT_Modal,FT_Object),FT_Modal.prototype.option=function(t){return(t in this.options?this.options:FT_ModalDefaultOptions)[t]},FT_Modal.prototype.set_title=function(t){this.options.title=t,this._mount("title",t)},FT_Modal.prototype.set_buttons=function(t){if(_.isArray(t))this.options.buttons=t;else if(_.isObject(t))for(var e in this.options.buttons){e=this.options.buttons[e];e.action in t&&jQuery.extend(e,t[e.action])}this._mount("buttons",this._render_buttons(this.options.buttons))},FT_Modal.prototype.set_button=function(t,e){this.options.buttons[t]=jQuery.extend({},this.options.buttons[t],e),this._mount("buttons",this._render_buttons(this.options.buttons))},FT_Modal.prototype.set_alt_buttons=function(t){this.options.alt_buttons=t,this._mount("alt_buttons",this._render_buttons(t))},FT_Modal.prototype.set_alt_button=function(t,e){this.options.alt_buttons[t]=jQuery.extend({},this.options.alt_buttons[t],e),this._mount("buttons",this._render_buttons(this.options.alt_buttons))},FT_Modal.prototype.set_content=function(t){this.options.content=t,this._mount("content",t),this.trigger("change-content")},FT_Modal.prototype.set_body=function(t){this._mount("content",t),this.trigger("change-content")},FT_Modal.prototype.is_blocked=function(){return!!this._blocked},FT_Modal.prototype.block_modal=function(t){var e;this._blocked!=t&&(e=this.$el.find(".modal-content"),t?e.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}):e.unblock(),this._blocked=t)},FT_Modal.prototype.blockInc=function(){return this._blockedCount++,this.block_modal(0<this._blockedCount),this._blockedCount},FT_Modal.prototype.blockDec=function(){return 0<this._blockedCount&&this._blockedCount--,this.block_modal(0<this._blockedCount),this._blockedCount},FT_Modal.prototype.blockJQXHR=function(t){this.blockInc(),t.always(_.bind(this.blockDec,this))},FT_Modal.prototype._init_mount_points=function(){var e=this;this.$el.find("[data-mount]").each(function(){var t=jQuery(this).data("mount");t&&(t in e._mount_points||(e._mount_points[t]=[]),e._mount_points[t].push(this))})},FT_Modal.prototype._mount=function(t,e){t in this._mount_points&&jQuery(this._mount_points[t]).html(e)},FT_Modal.prototype._render_buttons=function(t){var e,n=this.option("link_template"),o=this.option("button_template"),i=this.option("primary_button_template"),s="";for(e in t){var a=jQuery.extend({type:"button",tabindex:"",show:!0,enabled:!0},t[e]);if(a.show){var r=o;switch(a.type){case"link":r=n;break;case"primary":r=i;break;default:r=o}s+=(r=a.primary?i:r).replace(/\{url\}/,a.url||"javascript:void(0)").replace(/\{index\}/,e).replace(/\{type\}/,a.type).replace(/\{action\}/,a.action).replace(/\{title\}/,a.title).replace(/\{tabindex\}/,a.tabindex).replace(/\{disabled\}/,a.enabled?"":"disabled")}}return s},FT_Modal.prototype._create_dom=function(){var e,t,n,o,i;this.$el||("function"==typeof(t=(e=this).option("template"))&&(t=t.call(this)),o="",(n=this.option("size"))in(i=this.option("size_classes"))&&(o=i[n]),t=(t=t.replace("{size_class}",o)).replace("{modal_class}",this.option("modal_class")),this.$el=jQuery(t),(i=this.option("z"))&&this.$el.css("z-index",i),this._init_mount_points(),this._mount("title",this.option("title")),this._mount("content",this.option("content")),this._mount("buttons",this._render_buttons(this.option("buttons"))),this._mount("alt_buttons",this._render_buttons(this.option("alt_buttons"))),this.$el.appendTo("body"),this.$el.on("click","[data-action]",function(t){t.preventDefault(),e.action(jQuery(this).data("action"),this)}),this.$el.on("change","*:input",function(){e.trigger("input-change",[this]),e.trigger("change."+jQuery(this).attr("name"),[this])}),this.$el.on("shown.bs.modal",function(){!0===e.option("centered")&&(e.$el[0].style.display=""),!1===e.option("enforcefocus")&&jQuery(document).off("focusin.bs.modal");var t=e.option("on_show");t&&t.call(e),e.trigger("show"),jQuery("body").trigger("scroll-update")}),this.$el.on("hidden.bs.modal",function(){var t=e.option("on_hide");t&&t.call(e),e.trigger("hide"),e.option("destroy")&&e.destroy()}),this.$el.data("FT_Modal",this),this.trigger("created"))},FT_Modal.prototype._destroy_dom=function(){this.$el&&(this.$el.remove(),this.$el=null,this._mount_points={})},FT_Modal.prototype.action=function(t,e){var n=jQuery(e),o={},i=n.data("index"),s=null;if(void 0!==i)switch(n.closest("[data-mount]").data("mount")){case"buttons":this.options.buttons[i]&&(s=this.options.buttons[i],jQuery.extend(o,this.options.buttons[i].data));break;case"alt_buttons":this.options.alt_buttons[i]&&(s=this.options.alt_buttons[i],jQuery.extend(o,this.options.alt_buttons[i].data))}t&&t in this&&this[t].call(this),this.options.actions&&t&&t in this.options.actions&&this.options.actions[t].call(this,e,o),s&&s.url&&(document.location=s.url),s&&s.onclick&&s.onclick.call(this,o),t&&this.trigger("action."+t,[e,o])},FT_Modal.prototype.open=function(){this._create_dom(),this.trigger("open");var t={show:!0};"backdrop"in this.options&&(t.backdrop=this.options.backdrop),this.$el.modal(t),this._isOpen=!0},FT_Modal.prototype.close=function(){this.$el&&(this.trigger("close"),this.$el.modal("hide"),this._isOpen=!1)},FT_Modal.prototype.exists=function(){return!!this.$el},FT_Modal.prototype.isOpen=function(){return this.exists()&&this._isOpen},FT_Modal.prototype.accept=function(){this.close()},FT_Modal.prototype.destroy=function(){this.trigger("destroy"),this._destroy_dom()},FT_Modal.prototype.scroll_top=function(t,e,n){this.$el.stop().animate({scrollTop:t},n||1e3,e)},FT_Modal.prototype.scroll_to=function(t,e,n){t=this.$el.find(t);t.length&&t[0].scrollIntoView()},jt_extend(FT_Modal_Message,FT_Modal),jt_extend(FT_Modal_Error,FT_Modal),jt_extend(FT_Modal_Ajax_Form,FT_Modal),jt_extend(JT_Task_Queue,FT_Object),JT_Task_Queue.prototype.add=function(t,e){return this.queue.push({payload:e,handler:t}),this},JT_Task_Queue.prototype.run=function(){this.idx=-1,this.trigger("start"),this.next()},JT_Task_Queue.prototype.next=function(){var t;0<=this.idx&&(t=this.queue[this.idx],this.trigger("finish_item",[t])),this.idx++,this.trigger("progress",[this.getProgress()]),this.idx>=this.queue.length?this.trigger("finish"):(t=this.queue[this.idx],this.trigger("next",[t]),this.trigger("start_item",[t]),t.handler.call(this,t.payload,this.next_callback))},JT_Task_Queue.prototype.getProgress=function(){return this.idx<=0||0===this.queue.length?0:Math.round(Math.min(this.idx,this.queue.length)/this.queue.length*100)},jQuery.fn.retain_popover_onhover=function(){var e=jQuery;return this.data("bs.popover")?"manual"!=this.data("bs.popover").options.trigger?(console.warn("Popover trigger must be manual"),this):this.on("mouseenter",function(){var t=e(this);t.data("bs.popover").tip().is(":visible")||t.popover("show").data("bs.popover").tip().on("mouseleave",function(){setTimeout(function(){t.is(":hover")||t.popover("hide")},1)})}).on("mouseleave",function(){var t=e(this);setTimeout(function(){t.data("bs.popover").tip().is(":hover")||t.popover("hide")},1)}):(console.warn("Popover is not initialized"),this)},jQuery(function(n){function t(){var t=n(this),e=t.closest("form");0==e.length&&(e=n("body")),t.prop("checked")&&(t.closest(".xradio").addClass("active"),e.find('input[name="'+t.attr("name")+'"]:radio').not(this).closest(".xradio").removeClass("active"))}n("body").on("change",".xradio input:radio",t),n(".xradio input:radio").each(t),msieversion()&&n("body").on("click",".xradio img",function(t){t.stopPropagation(),t.preventDefault(),n(this).closest(".xradio").trigger("click")})}),(()=>{var e={};function i(t){this.name=t,this.data=void 0,this.init()}i.load=function(t){return t in e||(e[t]=new i(t)),e[t]},i.get=function(t,e){return i.load(t).get(e)},i.set=function(t,e,n,o){(t=i.load(t)).set(e,n),o&&t.save()},i.getByPath=function(t){t=_.isArray(t)?t:_.filter(t.split(/[\[\]\.]/));return i.get(t[0],t.slice(1))},i.setByPath=function(t,e){t=_.isArray(t)?t:_.filter(t.split(/[\[\]\.]/));return i.set(t[0],t.slice(1),e,!0)},i.prototype.init=function(){if(void 0===this.data&&"undefined"!=typeof Storage){var e=localStorage.getItem(this.name);if("string"==typeof e)try{e=JSON.parse(e)}catch(t){console.warn("Failed to parse store",this.name),e={}}else e={};this.data=e}},i.prototype.save=function(){"undefined"!=typeof Storage&&localStorage.setItem(this.name,JSON.stringify(this.data))},i.prototype.get=function(t){return jt_get_object_key(this.data,t)},i.prototype.set=function(t,e){return void 0!==this.data&&(jt_set_object_key(this.data,t,e),!0)},window.JT_Store=i})(),jQuery.fn.trim_input=function(){return this.each(function(){var t=jQuery(this);t.val(t.val().trim())})},jQuery.fn.prevent_enter_submit=function(){function e(t){13!=t.keyCode||jQuery(this).is("textarea,button,:submit")||t.preventDefault()}return this.each(function(){var t=jQuery(this);t.is(":input")?t.on("keydown",e):t.on("keydown",":input",e)})},jQuery.fn.sync_input_data=function(i,s){return this.on("change","[name]:input",function(t){var e=jQuery(this),n=e.attr("name"),o=e.val();(!e.is(":checkbox")||e.is(":checked")?jt_set_object_key:jt_unset_object_key)(i,n,o),s&&s.call(this,t)})},window.jt_vue_mixins=window.jt_vue_mixins||{},window.jt_vue_mixins.validate={data:function(){return{errors:{}}},methods:{has_error:function(){var t=Array.prototype.join.call(arguments,".");return!!this.errors[t]},get_error:function(){var t=Array.prototype.join.call(arguments,".");return this.errors[t]||""},set_error:function(t,e){return!0===e?(this.$set(this.errors,t,!1),!1):(_.isObject(e)&&"error"in e?this.$set(this.errors,t,e.error):this.$set(this.errors,t,e),!0)},validate_key:function(t){if(this.$validators){if(t in this.$validators){var e=this.$validators[t];if(_.isFunction(e))return this.set_error(t,e.call(this));if("handler"in e&&(o=t.match(e.pattern)))return this.set_error(t,e.handler.call(this,o))}for(var n in this.$validators){var o,e=this.$validators[n];if(!_.isFunction(e)&&e.pattern&&e.handler)if(o=t.match(e.pattern))return this.set_error(t,e.handler.call(this,o))}}},validate_keys:function(t){var e,n=0;for(e in t)n+=this.validate_key(t[e]);return n},is_valid:function(){return this.validate(),!_.any(this.errors)},revalidate:function(){for(var t in this.errors)this.errors[t]&&this.validate_key(t);_.any(this.errors)&&this.validate&&this.validate()}}},window.jt_vue_mixins.stateStorable={props:["storePath"],methods:{stateLoadProps:function(){var t=this.stateGet();if(t)for(var e in arguments){e=arguments[e];e in t&&(this[e]=t[e])}},stateGet:function(){if(this.storePath)return jt_clone(JT_Store.getByPath(this.storePath))},stateStore:function(t){this.storePath&&JT_Store.setByPath(this.storePath,t)},stateStoreProps:function(){if(this.storePath){var t,e=this.stateGet()||{};for(t in arguments){var n=arguments[t];e[n]=this[n]}this.stateStore(e)}}},created:function(){if(this.$options.stateStorable){var t=this.$options.stateStorable.props;if(t)for(var e in!1!==this.$options.stateStorable.autoload&&this.stateLoadProps.apply(this,t),t)this.$watch(t[e],(t=>function(){this.stateStoreProps(t)})(t[e]))}}},FT_Promise.prototype.then=function(t,e){return this.resolve_callbacks.push([t,e]),this},FT_Promise.prototype.catch=function(t,e){return this.reject_callbacks.push([t,e]),this},FT_Promise.prototype.always=function(t,e){return this.always_callbacks.push([t,e]),this},FT_Promise.prototype.callback=function(t,e){t[0].call(t[1]||this.thisArg,e)},FT_Promise.prototype.resolve=function(t){for(var e in this.resolve_callbacks)this.callback(this.resolve_callbacks[e],t);for(var e in this.always_callbacks)this.callback(this.always_callbacks[e],{success:!0,payload:t})},FT_Promise.prototype.reject=function(t){for(var e in this.reject_callbacks)this.callback(this.reject_callbacks[e],t);for(var e in this.always_callbacks)this.callback(this.always_callbacks[e],{success:!1,payload:t})},FT_Promise.prototype.resolveAsync=function(t,e){setTimeout(_.bind(this.resolve,this,t),e||0)},jQuery(function(n){n(document.body).on("click",".jt-cbcp",function(t){var e=n(this);e.is("a")?(t.preventDefault(),jt_clipboard_copy(e.attr("href")),new Snackbar({content:"Url copied to your clipboard!",classes:"success",timeout:2e3})):(jt_clipboard_copy(e.text()),new Snackbar({content:"Text copied to your clipboard!",classes:"success",timeout:2e3}))})});